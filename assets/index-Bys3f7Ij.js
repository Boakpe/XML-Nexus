(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=e(s);fetch(s.href,l)}})();var Gp={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function rR(){if(qb)return Wo;qb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,l){var a=null;if(l!==void 0&&(a=""+l),s.key!==void 0&&(a=""+s.key),"key"in s){l={};for(var u in s)u!=="key"&&(l[u]=s[u])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:a,ref:s!==void 0?s:null,props:l}}return Wo.Fragment=t,Wo.jsx=e,Wo.jsxs=e,Wo}var Ub;function lR(){return Ub||(Ub=1,Gp.exports=rR()),Gp.exports}var mt=lR(),Fp={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb;function oR(){if(jb)return wt;jb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=g&&k[g]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function A(k,X,Z){this.props=k,this.context=X,this.refs=w,this.updater=Z||x}A.prototype.isReactComponent={},A.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function O(){}O.prototype=A.prototype;function C(k,X,Z){this.props=k,this.context=X,this.refs=w,this.updater=Z||x}var E=C.prototype=new O;E.constructor=C,b(E,A.prototype),E.isPureReactComponent=!0;var M=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function z(k,X,Z,tt,ot,gt){return Z=gt.ref,{$$typeof:n,type:k,key:X,ref:Z!==void 0?Z:null,props:gt}}function $(k,X){return z(k.type,X,void 0,void 0,void 0,k.props)}function et(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function st(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Z){return X[Z]})}var rt=/\/+/g;function it(k,X){return typeof k=="object"&&k!==null&&k.key!=null?st(""+k.key):X.toString(36)}function Y(){}function B(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Y,Y):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Q(k,X,Z,tt,ot){var gt=typeof k;(gt==="undefined"||gt==="boolean")&&(k=null);var dt=!1;if(k===null)dt=!0;else switch(gt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(k.$$typeof){case n:case t:dt=!0;break;case p:return dt=k._init,Q(dt(k._payload),X,Z,tt,ot)}}if(dt)return ot=ot(k),dt=tt===""?"."+it(k,0):tt,M(ot)?(Z="",dt!=null&&(Z=dt.replace(rt,"$&/")+"/"),Q(ot,X,Z,"",function(Sn){return Sn})):ot!=null&&(et(ot)&&(ot=$(ot,Z+(ot.key==null||k&&k.key===ot.key?"":(""+ot.key).replace(rt,"$&/")+"/")+dt)),X.push(ot)),1;dt=0;var Pt=tt===""?".":tt+":";if(M(k))for(var Dt=0;Dt<k.length;Dt++)tt=k[Dt],gt=Pt+it(tt,Dt),dt+=Q(tt,X,Z,gt,ot);else if(Dt=y(k),typeof Dt=="function")for(k=Dt.call(k),Dt=0;!(tt=k.next()).done;)tt=tt.value,gt=Pt+it(tt,Dt++),dt+=Q(tt,X,Z,gt,ot);else if(gt==="object"){if(typeof k.then=="function")return Q(B(k),X,Z,tt,ot);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return dt}function _(k,X,Z){if(k==null)return k;var tt=[],ot=0;return Q(k,tt,"","",function(gt){return X.call(Z,gt,ot++)}),tt}function H(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(Z){(k._status===0||k._status===-1)&&(k._status=1,k._result=Z)},function(Z){(k._status===0||k._status===-1)&&(k._status=2,k._result=Z)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var K=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function nt(){}return wt.Children={map:_,forEach:function(k,X,Z){_(k,function(){X.apply(this,arguments)},Z)},count:function(k){var X=0;return _(k,function(){X++}),X},toArray:function(k){return _(k,function(X){return X})||[]},only:function(k){if(!et(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},wt.Component=A,wt.Fragment=e,wt.Profiler=s,wt.PureComponent=C,wt.StrictMode=i,wt.Suspense=h,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,wt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return D.H.useMemoCache(k)}},wt.cache=function(k){return function(){return k.apply(null,arguments)}},wt.cloneElement=function(k,X,Z){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var tt=b({},k.props),ot=k.key,gt=void 0;if(X!=null)for(dt in X.ref!==void 0&&(gt=void 0),X.key!==void 0&&(ot=""+X.key),X)!L.call(X,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&X.ref===void 0||(tt[dt]=X[dt]);var dt=arguments.length-2;if(dt===1)tt.children=Z;else if(1<dt){for(var Pt=Array(dt),Dt=0;Dt<dt;Dt++)Pt[Dt]=arguments[Dt+2];tt.children=Pt}return z(k.type,ot,void 0,void 0,gt,tt)},wt.createContext=function(k){return k={$$typeof:a,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},wt.createElement=function(k,X,Z){var tt,ot={},gt=null;if(X!=null)for(tt in X.key!==void 0&&(gt=""+X.key),X)L.call(X,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ot[tt]=X[tt]);var dt=arguments.length-2;if(dt===1)ot.children=Z;else if(1<dt){for(var Pt=Array(dt),Dt=0;Dt<dt;Dt++)Pt[Dt]=arguments[Dt+2];ot.children=Pt}if(k&&k.defaultProps)for(tt in dt=k.defaultProps,dt)ot[tt]===void 0&&(ot[tt]=dt[tt]);return z(k,gt,void 0,void 0,null,ot)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(k){return{$$typeof:u,render:k}},wt.isValidElement=et,wt.lazy=function(k){return{$$typeof:p,_payload:{_status:-1,_result:k},_init:H}},wt.memo=function(k,X){return{$$typeof:f,type:k,compare:X===void 0?null:X}},wt.startTransition=function(k){var X=D.T,Z={};D.T=Z;try{var tt=k(),ot=D.S;ot!==null&&ot(Z,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(nt,K)}catch(gt){K(gt)}finally{D.T=X}},wt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},wt.use=function(k){return D.H.use(k)},wt.useActionState=function(k,X,Z){return D.H.useActionState(k,X,Z)},wt.useCallback=function(k,X){return D.H.useCallback(k,X)},wt.useContext=function(k){return D.H.useContext(k)},wt.useDebugValue=function(){},wt.useDeferredValue=function(k,X){return D.H.useDeferredValue(k,X)},wt.useEffect=function(k,X,Z){var tt=D.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(k,X)},wt.useId=function(){return D.H.useId()},wt.useImperativeHandle=function(k,X,Z){return D.H.useImperativeHandle(k,X,Z)},wt.useInsertionEffect=function(k,X){return D.H.useInsertionEffect(k,X)},wt.useLayoutEffect=function(k,X){return D.H.useLayoutEffect(k,X)},wt.useMemo=function(k,X){return D.H.useMemo(k,X)},wt.useOptimistic=function(k,X){return D.H.useOptimistic(k,X)},wt.useReducer=function(k,X,Z){return D.H.useReducer(k,X,Z)},wt.useRef=function(k){return D.H.useRef(k)},wt.useState=function(k){return D.H.useState(k)},wt.useSyncExternalStore=function(k,X,Z){return D.H.useSyncExternalStore(k,X,Z)},wt.useTransition=function(){return D.H.useTransition()},wt.version="19.1.0",wt}var $b;function w0(){return $b||($b=1,Fp.exports=oR()),Fp.exports}var ft=w0(),Kp={exports:{}},Io={},Wp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function aR(){return Xb||(Xb=1,function(n){function t(_,H){var K=_.length;_.push(H);t:for(;0<K;){var nt=K-1>>>1,k=_[nt];if(0<s(k,H))_[nt]=H,_[K]=k,K=nt;else break t}}function e(_){return _.length===0?null:_[0]}function i(_){if(_.length===0)return null;var H=_[0],K=_.pop();if(K!==H){_[0]=K;t:for(var nt=0,k=_.length,X=k>>>1;nt<X;){var Z=2*(nt+1)-1,tt=_[Z],ot=Z+1,gt=_[ot];if(0>s(tt,K))ot<k&&0>s(gt,tt)?(_[nt]=gt,_[ot]=K,nt=ot):(_[nt]=tt,_[Z]=K,nt=Z);else if(ot<k&&0>s(gt,K))_[nt]=gt,_[ot]=K,nt=ot;else break t}}return H}function s(_,H){var K=_.sortIndex-H.sortIndex;return K!==0?K:_.id-H.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var h=[],f=[],p=1,g=null,y=3,x=!1,b=!1,w=!1,A=!1,O=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function M(_){for(var H=e(f);H!==null;){if(H.callback===null)i(f);else if(H.startTime<=_)i(f),H.sortIndex=H.expirationTime,t(h,H);else break;H=e(f)}}function D(_){if(w=!1,M(_),!b)if(e(h)!==null)b=!0,L||(L=!0,it());else{var H=e(f);H!==null&&Q(D,H.startTime-_)}}var L=!1,z=-1,$=5,et=-1;function st(){return A?!0:!(n.unstable_now()-et<$)}function rt(){if(A=!1,L){var _=n.unstable_now();et=_;var H=!0;try{t:{b=!1,w&&(w=!1,C(z),z=-1),x=!0;var K=y;try{e:{for(M(_),g=e(h);g!==null&&!(g.expirationTime>_&&st());){var nt=g.callback;if(typeof nt=="function"){g.callback=null,y=g.priorityLevel;var k=nt(g.expirationTime<=_);if(_=n.unstable_now(),typeof k=="function"){g.callback=k,M(_),H=!0;break e}g===e(h)&&i(h),M(_)}else i(h);g=e(h)}if(g!==null)H=!0;else{var X=e(f);X!==null&&Q(D,X.startTime-_),H=!1}}break t}finally{g=null,y=K,x=!1}H=void 0}}finally{H?it():L=!1}}}var it;if(typeof E=="function")it=function(){E(rt)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,B=Y.port2;Y.port1.onmessage=rt,it=function(){B.postMessage(null)}}else it=function(){O(rt,0)};function Q(_,H){z=O(function(){_(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(_){_.callback=null},n.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<_?Math.floor(1e3/_):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(_){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var K=y;y=H;try{return _()}finally{y=K}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(_,H){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var K=y;y=_;try{return H()}finally{y=K}},n.unstable_scheduleCallback=function(_,H,K){var nt=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?nt+K:nt):K=nt,_){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=K+k,_={id:p++,callback:H,priorityLevel:_,startTime:K,expirationTime:k,sortIndex:-1},K>nt?(_.sortIndex=K,t(f,_),e(h)===null&&_===e(f)&&(w?(C(z),z=-1):w=!0,Q(D,K-nt))):(_.sortIndex=k,t(h,_),b||x||(b=!0,L||(L=!0,it()))),_},n.unstable_shouldYield=st,n.unstable_wrapCallback=function(_){var H=y;return function(){var K=y;y=H;try{return _.apply(this,arguments)}finally{y=K}}}}(Ip)),Ip}var Yb;function uR(){return Yb||(Yb=1,Wp.exports=aR()),Wp.exports}var Qp={exports:{}},Be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function cR(){if(Gb)return Be;Gb=1;var n=w0();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(h,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:h,containerInfo:f,implementation:p}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Be.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(h,f,null,p)},Be.flushSync=function(h){var f=a.T,p=i.p;try{if(a.T=null,i.p=2,h)return h()}finally{a.T=f,i.p=p,i.d.f()}},Be.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Be.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Be.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):p==="script"&&i.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Be.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Be.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Be.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Be.requestFormReset=function(h){i.d.r(h)},Be.unstable_batchedUpdates=function(h,f){return h(f)},Be.useFormState=function(h,f,p){return a.H.useFormState(h,f,p)},Be.useFormStatus=function(){return a.H.useHostTransitionStatus()},Be.version="19.1.0",Be}var Fb;function hR(){if(Fb)return Qp.exports;Fb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qp.exports=cR(),Qp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function fR(){if(Kb)return Io;Kb=1;var n=uR(),t=w0(),e=hR();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function a(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(l(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=l(r),o===null)throw Error(i(188));return o!==r?null:r}for(var c=r,d=o;;){var m=c.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===c)return u(m),r;if(v===d)return u(m),o;v=v.sibling}throw Error(i(188))}if(c.return!==d.return)c=m,d=v;else{for(var S=!1,T=m.child;T;){if(T===c){S=!0,c=m,d=v;break}if(T===d){S=!0,d=m,c=v;break}T=T.sibling}if(!S){for(T=v.child;T;){if(T===c){S=!0,c=v,d=m;break}if(T===d){S=!0,d=v,c=m;break}T=T.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),et=Symbol.for("react.activity"),st=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function it(r){return r===null||typeof r!="object"?null:(r=rt&&r[rt]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Symbol.for("react.client.reference");function B(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Y?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList";case et:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case E:return(r.displayName||"Context")+".Provider";case C:return(r._context.displayName||"Context")+".Consumer";case M:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return o=r.displayName||null,o!==null?o:B(r.type)||"Memo";case $:o=r._payload,r=r._init;try{return B(r(o))}catch{}}return null}var Q=Array.isArray,_=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},nt=[],k=-1;function X(r){return{current:r}}function Z(r){0>k||(r.current=nt[k],nt[k]=null,k--)}function tt(r,o){k++,nt[k]=r.current,r.current=o}var ot=X(null),gt=X(null),dt=X(null),Pt=X(null);function Dt(r,o){switch(tt(dt,o),tt(gt,r),tt(ot,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?pb(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=pb(o),r=mb(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(ot),tt(ot,r)}function Sn(){Z(ot),Z(gt),Z(dt)}function Rf(r){r.memoizedState!==null&&tt(Pt,r);var o=ot.current,c=mb(o,r.type);o!==c&&(tt(gt,r),tt(ot,c))}function du(r){gt.current===r&&(Z(ot),Z(gt)),Pt.current===r&&(Z(Pt),Xo._currentValue=K)}var _f=Object.prototype.hasOwnProperty,Nf=n.unstable_scheduleCallback,Bf=n.unstable_cancelCallback,Vk=n.unstable_shouldYield,Pk=n.unstable_requestPaint,In=n.unstable_now,Hk=n.unstable_getCurrentPriorityLevel,Ky=n.unstable_ImmediatePriority,Wy=n.unstable_UserBlockingPriority,pu=n.unstable_NormalPriority,qk=n.unstable_LowPriority,Iy=n.unstable_IdlePriority,Uk=n.log,jk=n.unstable_setDisableYieldValue,Ql=null,ln=null;function Ki(r){if(typeof Uk=="function"&&jk(r),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Ql,r)}catch{}}var on=Math.clz32?Math.clz32:Yk,$k=Math.log,Xk=Math.LN2;function Yk(r){return r>>>=0,r===0?32:31-($k(r)/Xk|0)|0}var mu=256,gu=4194304;function qs(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function yu(r,o,c){var d=r.pendingLanes;if(d===0)return 0;var m=0,v=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var T=d&134217727;return T!==0?(d=T&~v,d!==0?m=qs(d):(S&=T,S!==0?m=qs(S):c||(c=T&~r,c!==0&&(m=qs(c))))):(T=d&~v,T!==0?m=qs(T):S!==0?m=qs(S):c||(c=d&~r,c!==0&&(m=qs(c)))),m===0?0:o!==0&&o!==m&&(o&v)===0&&(v=m&-m,c=o&-o,v>=c||v===32&&(c&4194048)!==0)?o:m}function Zl(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Gk(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qy(){var r=mu;return mu<<=1,(mu&4194048)===0&&(mu=256),r}function Zy(){var r=gu;return gu<<=1,(gu&62914560)===0&&(gu=4194304),r}function Lf(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Jl(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Fk(r,o,c,d,m,v){var S=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var T=r.entanglements,R=r.expirationTimes,q=r.hiddenUpdates;for(c=S&~c;0<c;){var G=31-on(c),I=1<<G;T[G]=0,R[G]=-1;var U=q[G];if(U!==null)for(q[G]=null,G=0;G<U.length;G++){var j=U[G];j!==null&&(j.lane&=-536870913)}c&=~I}d!==0&&Jy(r,d,0),v!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=v&~(S&~o))}function Jy(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-on(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|c&4194090}function t1(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var d=31-on(c),m=1<<d;m&o|r[d]&o&&(r[d]|=o),c&=~m}}function zf(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Vf(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function e1(){var r=H.p;return r!==0?r:(r=window.event,r===void 0?32:Bb(r.type))}function Kk(r,o){var c=H.p;try{return H.p=r,o()}finally{H.p=c}}var Wi=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wi,Ge="__reactProps$"+Wi,kr="__reactContainer$"+Wi,Pf="__reactEvents$"+Wi,Wk="__reactListeners$"+Wi,Ik="__reactHandles$"+Wi,n1="__reactResources$"+Wi,to="__reactMarker$"+Wi;function Hf(r){delete r[_e],delete r[Ge],delete r[Pf],delete r[Wk],delete r[Ik]}function Dr(r){var o=r[_e];if(o)return o;for(var c=r.parentNode;c;){if(o=c[kr]||c[_e]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=xb(r);r!==null;){if(c=r[_e])return c;r=xb(r)}return o}r=c,c=r.parentNode}return null}function Er(r){if(r=r[_e]||r[kr]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function eo(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function Rr(r){var o=r[n1];return o||(o=r[n1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ye(r){r[to]=!0}var i1=new Set,s1={};function Us(r,o){_r(r,o),_r(r+"Capture",o)}function _r(r,o){for(s1[r]=o,r=0;r<o.length;r++)i1.add(o[r])}var Qk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),r1={},l1={};function Zk(r){return _f.call(l1,r)?!0:_f.call(r1,r)?!1:Qk.test(r)?l1[r]=!0:(r1[r]=!0,!1)}function vu(r,o,c){if(Zk(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function xu(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function bi(r,o,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+d)}}var qf,o1;function Nr(r){if(qf===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);qf=o&&o[1]||"",o1=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qf+r+o1}var Uf=!1;function jf(r,o){if(!r||Uf)return"";Uf=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(j){var U=j}Reflect.construct(r,[],I)}else{try{I.call()}catch(j){U=j}r.call(I.prototype)}}else{try{throw Error()}catch(j){U=j}(I=r())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(j){if(j&&U&&typeof j.stack=="string")return[j.stack,U.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),S=v[0],T=v[1];if(S&&T){var R=S.split(`
`),q=T.split(`
`);for(m=d=0;d<R.length&&!R[d].includes("DetermineComponentFrameRoot");)d++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(d===R.length||m===q.length)for(d=R.length-1,m=q.length-1;1<=d&&0<=m&&R[d]!==q[m];)m--;for(;1<=d&&0<=m;d--,m--)if(R[d]!==q[m]){if(d!==1||m!==1)do if(d--,m--,0>m||R[d]!==q[m]){var G=`
`+R[d].replace(" at new "," at ");return r.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",r.displayName)),G}while(1<=d&&0<=m);break}}}finally{Uf=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Nr(c):""}function Jk(r){switch(r.tag){case 26:case 27:case 5:return Nr(r.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 15:return jf(r.type,!1);case 11:return jf(r.type.render,!1);case 1:return jf(r.type,!0);case 31:return Nr("Activity");default:return""}}function a1(r){try{var o="";do o+=Jk(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function wn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function u1(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function tD(r){var o=u1(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,v=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function bu(r){r._valueTracker||(r._valueTracker=tD(r))}function c1(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return r&&(d=u1(r)?r.checked?"true":"false":r.value),r=d,r!==c?(o.setValue(r),!0):!1}function Su(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var eD=/[\n"\\]/g;function An(r){return r.replace(eD,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function $f(r,o,c,d,m,v,S,T){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),o!=null?S==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+wn(o)):r.value!==""+wn(o)&&(r.value=""+wn(o)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),o!=null?Xf(r,S,wn(o)):c!=null?Xf(r,S,wn(c)):d!=null&&r.removeAttribute("value"),m==null&&v!=null&&(r.defaultChecked=!!v),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+wn(T):r.removeAttribute("name")}function h1(r,o,c,d,m,v,S,T){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;c=c!=null?""+wn(c):"",o=o!=null?""+wn(o):c,T||o===r.value||(r.value=o),r.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=T?r.checked:!!d,r.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Xf(r,o,c){o==="number"&&Su(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Br(r,o,c,d){if(r=r.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<r.length;c++)m=o.hasOwnProperty("$"+r[c].value),r[c].selected!==m&&(r[c].selected=m),m&&d&&(r[c].defaultSelected=!0)}else{for(c=""+wn(c),o=null,m=0;m<r.length;m++){if(r[m].value===c){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}o!==null||r[m].disabled||(o=r[m])}o!==null&&(o.selected=!0)}}function f1(r,o,c){if(o!=null&&(o=""+wn(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+wn(c):""}function d1(r,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if(Q(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=wn(o),r.defaultValue=c,d=r.textContent,d===c&&d!==""&&d!==null&&(r.value=d)}function Lr(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var nD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function p1(r,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,c):typeof c!="number"||c===0||nD.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function m1(r,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&c[m]!==d&&p1(r,m,d)}else for(var v in o)o.hasOwnProperty(v)&&p1(r,v,o[v])}function Yf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wu(r){return sD.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Gf=null;function Ff(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var zr=null,Vr=null;function g1(r){var o=Er(r);if(o&&(r=o.stateNode)){var c=r[Ge]||null;t:switch(r=o.stateNode,o.type){case"input":if($f(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+An(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==r&&d.form===r.form){var m=d[Ge]||null;if(!m)throw Error(i(90));$f(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===r.form&&c1(d)}break t;case"textarea":f1(r,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&Br(r,!!c.multiple,o,!1)}}}var Kf=!1;function y1(r,o,c){if(Kf)return r(o,c);Kf=!0;try{var d=r(o);return d}finally{if(Kf=!1,(zr!==null||Vr!==null)&&(oc(),zr&&(o=zr,r=Vr,Vr=zr=null,g1(o),r)))for(o=0;o<r.length;o++)g1(r[o])}}function no(r,o){var c=r.stateNode;if(c===null)return null;var d=c[Ge]||null;if(d===null)return null;c=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=!1;if(Si)try{var io={};Object.defineProperty(io,"passive",{get:function(){Wf=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Wf=!1}var Ii=null,If=null,Au=null;function v1(){if(Au)return Au;var r,o=If,c=o.length,d,m="value"in Ii?Ii.value:Ii.textContent,v=m.length;for(r=0;r<c&&o[r]===m[r];r++);var S=c-r;for(d=1;d<=S&&o[c-d]===m[v-d];d++);return Au=m.slice(r,1<d?1-d:void 0)}function Ou(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Tu(){return!0}function x1(){return!1}function Fe(r){function o(c,d,m,v,S){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(c=r[T],this[T]=c?c(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Tu:x1,this.isPropagationStopped=x1,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),o}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=Fe(js),so=p({},js,{view:0,detail:0}),rD=Fe(so),Qf,Zf,ro,Mu=p({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:td,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ro&&(ro&&r.type==="mousemove"?(Qf=r.screenX-ro.screenX,Zf=r.screenY-ro.screenY):Zf=Qf=0,ro=r),Qf)},movementY:function(r){return"movementY"in r?r.movementY:Zf}}),b1=Fe(Mu),lD=p({},Mu,{dataTransfer:0}),oD=Fe(lD),aD=p({},so,{relatedTarget:0}),Jf=Fe(aD),uD=p({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),cD=Fe(uD),hD=p({},js,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),fD=Fe(hD),dD=p({},js,{data:0}),S1=Fe(dD),pD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yD(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=gD[r])?!!o[r]:!1}function td(){return yD}var vD=p({},so,{key:function(r){if(r.key){var o=pD[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ou(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?mD[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:td,charCode:function(r){return r.type==="keypress"?Ou(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ou(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),xD=Fe(vD),bD=p({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w1=Fe(bD),SD=p({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:td}),wD=Fe(SD),AD=p({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),OD=Fe(AD),TD=p({},Mu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),CD=Fe(TD),MD=p({},js,{newState:0,oldState:0}),kD=Fe(MD),DD=[9,13,27,32],ed=Si&&"CompositionEvent"in window,lo=null;Si&&"documentMode"in document&&(lo=document.documentMode);var ED=Si&&"TextEvent"in window&&!lo,A1=Si&&(!ed||lo&&8<lo&&11>=lo),O1=" ",T1=!1;function C1(r,o){switch(r){case"keyup":return DD.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M1(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Pr=!1;function RD(r,o){switch(r){case"compositionend":return M1(o);case"keypress":return o.which!==32?null:(T1=!0,O1);case"textInput":return r=o.data,r===O1&&T1?null:r;default:return null}}function _D(r,o){if(Pr)return r==="compositionend"||!ed&&C1(r,o)?(r=v1(),Au=If=Ii=null,Pr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A1&&o.locale!=="ko"?null:o.data;default:return null}}var ND={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k1(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!ND[r.type]:o==="textarea"}function D1(r,o,c,d){zr?Vr?Vr.push(d):Vr=[d]:zr=d,o=dc(o,"onChange"),0<o.length&&(c=new Cu("onChange","change",null,c,d),r.push({event:c,listeners:o}))}var oo=null,ao=null;function BD(r){ub(r,0)}function ku(r){var o=eo(r);if(c1(o))return r}function E1(r,o){if(r==="change")return o}var R1=!1;if(Si){var nd;if(Si){var id="oninput"in document;if(!id){var _1=document.createElement("div");_1.setAttribute("oninput","return;"),id=typeof _1.oninput=="function"}nd=id}else nd=!1;R1=nd&&(!document.documentMode||9<document.documentMode)}function N1(){oo&&(oo.detachEvent("onpropertychange",B1),ao=oo=null)}function B1(r){if(r.propertyName==="value"&&ku(ao)){var o=[];D1(o,ao,r,Ff(r)),y1(BD,o)}}function LD(r,o,c){r==="focusin"?(N1(),oo=o,ao=c,oo.attachEvent("onpropertychange",B1)):r==="focusout"&&N1()}function zD(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ku(ao)}function VD(r,o){if(r==="click")return ku(o)}function PD(r,o){if(r==="input"||r==="change")return ku(o)}function HD(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var an=typeof Object.is=="function"?Object.is:HD;function uo(r,o){if(an(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!_f.call(o,m)||!an(r[m],o[m]))return!1}return!0}function L1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function z1(r,o){var c=L1(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=o&&d>=o)return{node:c,offset:o-r};r=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=L1(c)}}function V1(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?V1(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function P1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Su(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Su(r.document)}return o}function sd(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var qD=Si&&"documentMode"in document&&11>=document.documentMode,Hr=null,rd=null,co=null,ld=!1;function H1(r,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ld||Hr==null||Hr!==Su(d)||(d=Hr,"selectionStart"in d&&sd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),co&&uo(co,d)||(co=d,d=dc(rd,"onSelect"),0<d.length&&(o=new Cu("onSelect","select",null,o,c),r.push({event:o,listeners:d}),o.target=Hr)))}function $s(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var qr={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},od={},q1={};Si&&(q1=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Xs(r){if(od[r])return od[r];if(!qr[r])return r;var o=qr[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in q1)return od[r]=o[c];return r}var U1=Xs("animationend"),j1=Xs("animationiteration"),$1=Xs("animationstart"),UD=Xs("transitionrun"),jD=Xs("transitionstart"),$D=Xs("transitioncancel"),X1=Xs("transitionend"),Y1=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function qn(r,o){Y1.set(r,o),Us(o,[r])}var G1=new WeakMap;function On(r,o){if(typeof r=="object"&&r!==null){var c=G1.get(r);return c!==void 0?c:(o={value:r,source:o,stack:a1(o)},G1.set(r,o),o)}return{value:r,source:o,stack:a1(o)}}var Tn=[],Ur=0,ud=0;function Du(){for(var r=Ur,o=ud=Ur=0;o<r;){var c=Tn[o];Tn[o++]=null;var d=Tn[o];Tn[o++]=null;var m=Tn[o];Tn[o++]=null;var v=Tn[o];if(Tn[o++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}v!==0&&F1(c,m,v)}}function Eu(r,o,c,d){Tn[Ur++]=r,Tn[Ur++]=o,Tn[Ur++]=c,Tn[Ur++]=d,ud|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function cd(r,o,c,d){return Eu(r,o,c,d),Ru(r)}function jr(r,o){return Eu(r,null,null,o),Ru(r)}function F1(r,o,c){r.lanes|=c;var d=r.alternate;d!==null&&(d.lanes|=c);for(var m=!1,v=r.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(m=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,m&&o!==null&&(m=31-on(c),r=v.hiddenUpdates,d=r[m],d===null?r[m]=[o]:d.push(o),o.lane=c|536870912),v):null}function Ru(r){if(50<zo)throw zo=0,gp=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var $r={};function XD(r,o,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(r,o,c,d){return new XD(r,o,c,d)}function hd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function wi(r,o){var c=r.alternate;return c===null?(c=un(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function K1(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function _u(r,o,c,d,m,v){var S=0;if(d=r,typeof r=="function")hd(r)&&(S=1);else if(typeof r=="string")S=GE(r,c,ot.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case et:return r=un(31,c,o,m),r.elementType=et,r.lanes=v,r;case b:return Ys(c.children,m,v,o);case w:S=8,m|=24;break;case A:return r=un(12,c,o,m|2),r.elementType=A,r.lanes=v,r;case D:return r=un(13,c,o,m),r.elementType=D,r.lanes=v,r;case L:return r=un(19,c,o,m),r.elementType=L,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:case E:S=10;break t;case C:S=9;break t;case M:S=11;break t;case z:S=14;break t;case $:S=16,d=null;break t}S=29,c=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=un(S,c,o,m),o.elementType=r,o.type=d,o.lanes=v,o}function Ys(r,o,c,d){return r=un(7,r,d,o),r.lanes=c,r}function fd(r,o,c){return r=un(6,r,null,o),r.lanes=c,r}function dd(r,o,c){return o=un(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Xr=[],Yr=0,Nu=null,Bu=0,Cn=[],Mn=0,Gs=null,Ai=1,Oi="";function Fs(r,o){Xr[Yr++]=Bu,Xr[Yr++]=Nu,Nu=r,Bu=o}function W1(r,o,c){Cn[Mn++]=Ai,Cn[Mn++]=Oi,Cn[Mn++]=Gs,Gs=r;var d=Ai;r=Oi;var m=32-on(d)-1;d&=~(1<<m),c+=1;var v=32-on(o)+m;if(30<v){var S=m-m%5;v=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Ai=1<<32-on(o)+m|c<<m|d,Oi=v+r}else Ai=1<<v|c<<m|d,Oi=r}function pd(r){r.return!==null&&(Fs(r,1),W1(r,1,0))}function md(r){for(;r===Nu;)Nu=Xr[--Yr],Xr[Yr]=null,Bu=Xr[--Yr],Xr[Yr]=null;for(;r===Gs;)Gs=Cn[--Mn],Cn[Mn]=null,Oi=Cn[--Mn],Cn[Mn]=null,Ai=Cn[--Mn],Cn[Mn]=null}var He=null,te=null,Lt=!1,Ks=null,Qn=!1,gd=Error(i(519));function Ws(r){var o=Error(i(418,""));throw po(On(o,r)),gd}function I1(r){var o=r.stateNode,c=r.type,d=r.memoizedProps;switch(o[_e]=r,o[Ge]=d,c){case"dialog":kt("cancel",o),kt("close",o);break;case"iframe":case"object":case"embed":kt("load",o);break;case"video":case"audio":for(c=0;c<Po.length;c++)kt(Po[c],o);break;case"source":kt("error",o);break;case"img":case"image":case"link":kt("error",o),kt("load",o);break;case"details":kt("toggle",o);break;case"input":kt("invalid",o),h1(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),bu(o);break;case"select":kt("invalid",o);break;case"textarea":kt("invalid",o),d1(o,d.value,d.defaultValue,d.children),bu(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||db(o.textContent,c)?(d.popover!=null&&(kt("beforetoggle",o),kt("toggle",o)),d.onScroll!=null&&kt("scroll",o),d.onScrollEnd!=null&&kt("scrollend",o),d.onClick!=null&&(o.onclick=pc),o=!0):o=!1,o||Ws(r)}function Q1(r){for(He=r.return;He;)switch(He.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:He=He.return}}function ho(r){if(r!==He)return!1;if(!Lt)return Q1(r),Lt=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||_p(r.type,r.memoizedProps)),c=!c),c&&te&&Ws(r),Q1(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){te=jn(r.nextSibling);break t}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}te=null}}else o===27?(o=te,fs(r.type)?(r=zp,zp=null,te=r):te=o):te=He?jn(r.stateNode.nextSibling):null;return!0}function fo(){te=He=null,Lt=!1}function Z1(){var r=Ks;return r!==null&&(Ie===null?Ie=r:Ie.push.apply(Ie,r),Ks=null),r}function po(r){Ks===null?Ks=[r]:Ks.push(r)}var yd=X(null),Is=null,Ti=null;function Qi(r,o,c){tt(yd,o._currentValue),o._currentValue=c}function Ci(r){r._currentValue=yd.current,Z(yd)}function vd(r,o,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===c)break;r=r.return}}function xd(r,o,c,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var v=m.dependencies;if(v!==null){var S=m.child;v=v.firstContext;t:for(;v!==null;){var T=v;v=m;for(var R=0;R<o.length;R++)if(T.context===o[R]){v.lanes|=c,T=v.alternate,T!==null&&(T.lanes|=c),vd(v.return,c,r),d||(S=null);break t}v=T.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=c,v=S.alternate,v!==null&&(v.lanes|=c),vd(S,c,r),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function mo(r,o,c,d){r=null;for(var m=o,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var T=m.type;an(m.pendingProps.value,S.value)||(r!==null?r.push(T):r=[T])}}else if(m===Pt.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Xo):r=[Xo])}m=m.return}r!==null&&xd(o,r,c,d),o.flags|=262144}function Lu(r){for(r=r.firstContext;r!==null;){if(!an(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Qs(r){Is=r,Ti=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ne(r){return J1(Is,r)}function zu(r,o){return Is===null&&Qs(r),J1(r,o)}function J1(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ti===null){if(r===null)throw Error(i(308));Ti=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Ti=Ti.next=o;return c}var YD=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},GD=n.unstable_scheduleCallback,FD=n.unstable_NormalPriority,de={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new YD,data:new Map,refCount:0}}function go(r){r.refCount--,r.refCount===0&&GD(FD,function(){r.controller.abort()})}var yo=null,Sd=0,Gr=0,Fr=null;function KD(r,o){if(yo===null){var c=yo=[];Sd=0,Gr=Ap(),Fr={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Sd++,o.then(tv,tv),o}function tv(){if(--Sd===0&&yo!==null){Fr!==null&&(Fr.status="fulfilled");var r=yo;yo=null,Gr=0,Fr=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function WD(r,o){var c=[],d={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<c.length;m++)(0,c[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),d}var ev=_.S;_.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&KD(r,o),ev!==null&&ev(r,o)};var Zs=X(null);function wd(){var r=Zs.current;return r!==null?r:Gt.pooledCache}function Vu(r,o){o===null?tt(Zs,Zs.current):tt(Zs,o.pool)}function nv(){var r=wd();return r===null?null:{parent:de._currentValue,pool:r}}var vo=Error(i(460)),iv=Error(i(474)),Pu=Error(i(542)),Ad={then:function(){}};function sv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Hu(){}function rv(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Hu,Hu),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,ov(r),r;default:if(typeof o.status=="string")o.then(Hu,Hu);else{if(r=Gt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,ov(r),r}throw xo=o,vo}}var xo=null;function lv(){if(xo===null)throw Error(i(459));var r=xo;return xo=null,r}function ov(r){if(r===vo||r===Pu)throw Error(i(483))}var Zi=!1;function Od(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ji(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ts(r,o,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(zt&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=Ru(r),F1(r,null,c),o}return Eu(r,d,o,c),Ru(r)}function bo(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,t1(r,c)}}function Cd(r,o){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?m=v=S:v=v.next=S,c=c.next}while(c!==null);v===null?m=v=o:v=v.next=o}else m=v=o;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var Md=!1;function So(){if(Md){var r=Fr;if(r!==null)throw r}}function wo(r,o,c,d){Md=!1;var m=r.updateQueue;Zi=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var R=T,q=R.next;R.next=null,S===null?v=q:S.next=q,S=R;var G=r.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==S&&(T===null?G.firstBaseUpdate=q:T.next=q,G.lastBaseUpdate=R))}if(v!==null){var I=m.baseState;S=0,G=q=R=null,T=v;do{var U=T.lane&-536870913,j=U!==T.lane;if(j?(Et&U)===U:(d&U)===U){U!==0&&U===Gr&&(Md=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var bt=r,yt=T;U=o;var Ut=c;switch(yt.tag){case 1:if(bt=yt.payload,typeof bt=="function"){I=bt.call(Ut,I,U);break t}I=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=yt.payload,U=typeof bt=="function"?bt.call(Ut,I,U):bt,U==null)break t;I=p({},I,U);break t;case 2:Zi=!0}}U=T.callback,U!==null&&(r.flags|=64,j&&(r.flags|=8192),j=m.callbacks,j===null?m.callbacks=[U]:j.push(U))}else j={lane:U,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(q=G=j,R=I):G=G.next=j,S|=U;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;j=T,T=j.next,j.next=null,m.lastBaseUpdate=j,m.shared.pending=null}}while(!0);G===null&&(R=I),m.baseState=R,m.firstBaseUpdate=q,m.lastBaseUpdate=G,v===null&&(m.shared.lanes=0),as|=S,r.lanes=S,r.memoizedState=I}}function av(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function uv(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)av(c[r],o)}var Kr=X(null),qu=X(0);function cv(r,o){r=Ni,tt(qu,r),tt(Kr,o),Ni=r|o.baseLanes}function kd(){tt(qu,Ni),tt(Kr,Kr.current)}function Dd(){Ni=qu.current,Z(Kr),Z(qu)}var es=0,Ot=null,Ht=null,oe=null,Uu=!1,Wr=!1,Js=!1,ju=0,Ao=0,Ir=null,ID=0;function ie(){throw Error(i(321))}function Ed(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!an(r[c],o[c]))return!1;return!0}function Rd(r,o,c,d,m,v){return es=v,Ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_.H=r===null||r.memoizedState===null?Fv:Kv,Js=!1,v=c(d,m),Js=!1,Wr&&(v=fv(o,c,d,m)),hv(r),v}function hv(r){_.H=Ku;var o=Ht!==null&&Ht.next!==null;if(es=0,oe=Ht=Ot=null,Uu=!1,Ao=0,Ir=null,o)throw Error(i(300));r===null||ve||(r=r.dependencies,r!==null&&Lu(r)&&(ve=!0))}function fv(r,o,c,d){Ot=r;var m=0;do{if(Wr&&(Ir=null),Ao=0,Wr=!1,25<=m)throw Error(i(301));if(m+=1,oe=Ht=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}_.H=iE,v=o(c,d)}while(Wr);return v}function QD(){var r=_.H,o=r.useState()[0];return o=typeof o.then=="function"?Oo(o):o,r=r.useState()[0],(Ht!==null?Ht.memoizedState:null)!==r&&(Ot.flags|=1024),o}function _d(){var r=ju!==0;return ju=0,r}function Nd(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function Bd(r){if(Uu){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Uu=!1}es=0,oe=Ht=Ot=null,Wr=!1,Ao=ju=0,Ir=null}function Ke(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?Ot.memoizedState=oe=r:oe=oe.next=r,oe}function ae(){if(Ht===null){var r=Ot.alternate;r=r!==null?r.memoizedState:null}else r=Ht.next;var o=oe===null?Ot.memoizedState:oe.next;if(o!==null)oe=o,Ht=r;else{if(r===null)throw Ot.alternate===null?Error(i(467)):Error(i(310));Ht=r,r={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},oe===null?Ot.memoizedState=oe=r:oe=oe.next=r}return oe}function Ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(r){var o=Ao;return Ao+=1,Ir===null&&(Ir=[]),r=rv(Ir,r,o),o=Ot,(oe===null?o.memoizedState:oe.next)===null&&(o=o.alternate,_.H=o===null||o.memoizedState===null?Fv:Kv),r}function $u(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Oo(r);if(r.$$typeof===E)return Ne(r)}throw Error(i(438,String(r)))}function zd(r){var o=null,c=Ot.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Ot.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Ld(),Ot.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),d=0;d<r;d++)c[d]=st;return o.index++,c}function Mi(r,o){return typeof o=="function"?o(r):o}function Xu(r){var o=ae();return Vd(o,Ht,r)}function Vd(r,o,c){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var m=r.baseQueue,v=d.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}o.baseQueue=m=v,d.pending=null}if(v=r.baseState,m===null)r.memoizedState=v;else{o=m.next;var T=S=null,R=null,q=o,G=!1;do{var I=q.lane&-536870913;if(I!==q.lane?(Et&I)===I:(es&I)===I){var U=q.revertLane;if(U===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),I===Gr&&(G=!0);else if((es&U)===U){q=q.next,U===Gr&&(G=!0);continue}else I={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(T=R=I,S=v):R=R.next=I,Ot.lanes|=U,as|=U;I=q.action,Js&&c(v,I),v=q.hasEagerState?q.eagerState:c(v,I)}else U={lane:I,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(T=R=U,S=v):R=R.next=U,Ot.lanes|=I,as|=I;q=q.next}while(q!==null&&q!==o);if(R===null?S=v:R.next=T,!an(v,r.memoizedState)&&(ve=!0,G&&(c=Fr,c!==null)))throw c;r.memoizedState=v,r.baseState=S,r.baseQueue=R,d.lastRenderedState=v}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Pd(r){var o=ae(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var d=c.dispatch,m=c.pending,v=o.memoizedState;if(m!==null){c.pending=null;var S=m=m.next;do v=r(v,S.action),S=S.next;while(S!==m);an(v,o.memoizedState)||(ve=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,d]}function dv(r,o,c){var d=Ot,m=ae(),v=Lt;if(v){if(c===void 0)throw Error(i(407));c=c()}else c=o();var S=!an((Ht||m).memoizedState,c);S&&(m.memoizedState=c,ve=!0),m=m.queue;var T=gv.bind(null,d,m,r);if(To(2048,8,T,[r]),m.getSnapshot!==o||S||oe!==null&&oe.memoizedState.tag&1){if(d.flags|=2048,Qr(9,Yu(),mv.bind(null,d,m,c,o),null),Gt===null)throw Error(i(349));v||(es&124)!==0||pv(d,o,c)}return c}function pv(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Ot.updateQueue,o===null?(o=Ld(),Ot.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function mv(r,o,c,d){o.value=c,o.getSnapshot=d,yv(o)&&vv(r)}function gv(r,o,c){return c(function(){yv(o)&&vv(r)})}function yv(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!an(r,c)}catch{return!0}}function vv(r){var o=jr(r,2);o!==null&&pn(o,r,2)}function Hd(r){var o=Ke();if(typeof r=="function"){var c=r;if(r=c(),Js){Ki(!0);try{c()}finally{Ki(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:r},o}function xv(r,o,c,d){return r.baseState=c,Vd(r,Ht,typeof d=="function"?d:Mi)}function ZD(r,o,c,d,m){if(Fu(r))throw Error(i(485));if(r=o.action,r!==null){var v={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};_.T!==null?c(!0):v.isTransition=!1,d(v),c=o.pending,c===null?(v.next=o.pending=v,bv(o,v)):(v.next=c.next,o.pending=c.next=v)}}function bv(r,o){var c=o.action,d=o.payload,m=r.state;if(o.isTransition){var v=_.T,S={};_.T=S;try{var T=c(m,d),R=_.S;R!==null&&R(S,T),Sv(r,o,T)}catch(q){qd(r,o,q)}finally{_.T=v}}else try{v=c(m,d),Sv(r,o,v)}catch(q){qd(r,o,q)}}function Sv(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){wv(r,o,d)},function(d){return qd(r,o,d)}):wv(r,o,c)}function wv(r,o,c){o.status="fulfilled",o.value=c,Av(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,bv(r,c)))}function qd(r,o,c){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,Av(o),o=o.next;while(o!==d)}r.action=null}function Av(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Ov(r,o){return o}function Tv(r,o){if(Lt){var c=Gt.formState;if(c!==null){t:{var d=Ot;if(Lt){if(te){e:{for(var m=te,v=Qn;m.nodeType!==8;){if(!v){m=null;break e}if(m=jn(m.nextSibling),m===null){m=null;break e}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){te=jn(m.nextSibling),d=m.data==="F!";break t}}Ws(d)}d=!1}d&&(o=c[0])}}return c=Ke(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ov,lastRenderedState:o},c.queue=d,c=Xv.bind(null,Ot,d),d.dispatch=c,d=Hd(!1),v=Yd.bind(null,Ot,!1,d.queue),d=Ke(),m={state:o,dispatch:null,action:r,pending:null},d.queue=m,c=ZD.bind(null,Ot,m,v,c),m.dispatch=c,d.memoizedState=r,[o,c,!1]}function Cv(r){var o=ae();return Mv(o,Ht,r)}function Mv(r,o,c){if(o=Vd(r,o,Ov)[0],r=Xu(Mi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Oo(o)}catch(S){throw S===vo?Pu:S}else d=o;o=ae();var m=o.queue,v=m.dispatch;return c!==o.memoizedState&&(Ot.flags|=2048,Qr(9,Yu(),JD.bind(null,m,c),null)),[d,v,r]}function JD(r,o){r.action=o}function kv(r){var o=ae(),c=Ht;if(c!==null)return Mv(o,c,r);ae(),o=o.memoizedState,c=ae();var d=c.queue.dispatch;return c.memoizedState=r,[o,d,!1]}function Qr(r,o,c,d){return r={tag:r,create:c,deps:d,inst:o,next:null},o=Ot.updateQueue,o===null&&(o=Ld(),Ot.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,o.lastEffect=r),r}function Yu(){return{destroy:void 0,resource:void 0}}function Dv(){return ae().memoizedState}function Gu(r,o,c,d){var m=Ke();d=d===void 0?null:d,Ot.flags|=r,m.memoizedState=Qr(1|o,Yu(),c,d)}function To(r,o,c,d){var m=ae();d=d===void 0?null:d;var v=m.memoizedState.inst;Ht!==null&&d!==null&&Ed(d,Ht.memoizedState.deps)?m.memoizedState=Qr(o,v,c,d):(Ot.flags|=r,m.memoizedState=Qr(1|o,v,c,d))}function Ev(r,o){Gu(8390656,8,r,o)}function Rv(r,o){To(2048,8,r,o)}function _v(r,o){return To(4,2,r,o)}function Nv(r,o){return To(4,4,r,o)}function Bv(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Lv(r,o,c){c=c!=null?c.concat([r]):null,To(4,4,Bv.bind(null,o,r),c)}function Ud(){}function zv(r,o){var c=ae();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&Ed(o,d[1])?d[0]:(c.memoizedState=[r,o],r)}function Vv(r,o){var c=ae();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&Ed(o,d[1]))return d[0];if(d=r(),Js){Ki(!0);try{r()}finally{Ki(!1)}}return c.memoizedState=[d,o],d}function jd(r,o,c){return c===void 0||(es&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=qx(),Ot.lanes|=r,as|=r,c)}function Pv(r,o,c,d){return an(c,o)?c:Kr.current!==null?(r=jd(r,c,d),an(r,o)||(ve=!0),r):(es&42)===0?(ve=!0,r.memoizedState=c):(r=qx(),Ot.lanes|=r,as|=r,o)}function Hv(r,o,c,d,m){var v=H.p;H.p=v!==0&&8>v?v:8;var S=_.T,T={};_.T=T,Yd(r,!1,o,c);try{var R=m(),q=_.S;if(q!==null&&q(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=WD(R,d);Co(r,o,G,dn(r))}else Co(r,o,d,dn(r))}catch(I){Co(r,o,{then:function(){},status:"rejected",reason:I},dn())}finally{H.p=v,_.T=S}}function tE(){}function $d(r,o,c,d){if(r.tag!==5)throw Error(i(476));var m=qv(r).queue;Hv(r,m,o,K,c===null?tE:function(){return Uv(r),c(d)})}function qv(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:K},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Uv(r){var o=qv(r).next.queue;Co(r,o,{},dn())}function Xd(){return Ne(Xo)}function jv(){return ae().memoizedState}function $v(){return ae().memoizedState}function eE(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=dn();r=Ji(c);var d=ts(o,r,c);d!==null&&(pn(d,o,c),bo(d,o,c)),o={cache:bd()},r.payload=o;return}o=o.return}}function nE(r,o,c){var d=dn();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Fu(r)?Yv(o,c):(c=cd(r,o,c,d),c!==null&&(pn(c,r,d),Gv(c,o,d)))}function Xv(r,o,c){var d=dn();Co(r,o,c,d)}function Co(r,o,c,d){var m={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Fu(r))Yv(o,m);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,T=v(S,c);if(m.hasEagerState=!0,m.eagerState=T,an(T,S))return Eu(r,o,m,0),Gt===null&&Du(),!1}catch{}finally{}if(c=cd(r,o,m,d),c!==null)return pn(c,r,d),Gv(c,o,d),!0}return!1}function Yd(r,o,c,d){if(d={lane:2,revertLane:Ap(),action:d,hasEagerState:!1,eagerState:null,next:null},Fu(r)){if(o)throw Error(i(479))}else o=cd(r,c,d,2),o!==null&&pn(o,r,2)}function Fu(r){var o=r.alternate;return r===Ot||o!==null&&o===Ot}function Yv(r,o){Wr=Uu=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function Gv(r,o,c){if((c&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,t1(r,c)}}var Ku={readContext:Ne,use:$u,useCallback:ie,useContext:ie,useEffect:ie,useImperativeHandle:ie,useLayoutEffect:ie,useInsertionEffect:ie,useMemo:ie,useReducer:ie,useRef:ie,useState:ie,useDebugValue:ie,useDeferredValue:ie,useTransition:ie,useSyncExternalStore:ie,useId:ie,useHostTransitionStatus:ie,useFormState:ie,useActionState:ie,useOptimistic:ie,useMemoCache:ie,useCacheRefresh:ie},Fv={readContext:Ne,use:$u,useCallback:function(r,o){return Ke().memoizedState=[r,o===void 0?null:o],r},useContext:Ne,useEffect:Ev,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,Gu(4194308,4,Bv.bind(null,o,r),c)},useLayoutEffect:function(r,o){return Gu(4194308,4,r,o)},useInsertionEffect:function(r,o){Gu(4,2,r,o)},useMemo:function(r,o){var c=Ke();o=o===void 0?null:o;var d=r();if(Js){Ki(!0);try{r()}finally{Ki(!1)}}return c.memoizedState=[d,o],d},useReducer:function(r,o,c){var d=Ke();if(c!==void 0){var m=c(o);if(Js){Ki(!0);try{c(o)}finally{Ki(!1)}}}else m=o;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=nE.bind(null,Ot,r),[d.memoizedState,r]},useRef:function(r){var o=Ke();return r={current:r},o.memoizedState=r},useState:function(r){r=Hd(r);var o=r.queue,c=Xv.bind(null,Ot,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:Ud,useDeferredValue:function(r,o){var c=Ke();return jd(c,r,o)},useTransition:function(){var r=Hd(!1);return r=Hv.bind(null,Ot,r.queue,!0,!1),Ke().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var d=Ot,m=Ke();if(Lt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),Gt===null)throw Error(i(349));(Et&124)!==0||pv(d,o,c)}m.memoizedState=c;var v={value:c,getSnapshot:o};return m.queue=v,Ev(gv.bind(null,d,v,r),[r]),d.flags|=2048,Qr(9,Yu(),mv.bind(null,d,v,c,o),null),c},useId:function(){var r=Ke(),o=Gt.identifierPrefix;if(Lt){var c=Oi,d=Ai;c=(d&~(1<<32-on(d)-1)).toString(32)+c,o=""+o+"R"+c,c=ju++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=ID++,o=""+o+"r"+c.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:Xd,useFormState:Tv,useActionState:Tv,useOptimistic:function(r){var o=Ke();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Yd.bind(null,Ot,!0,c),c.dispatch=o,[r,o]},useMemoCache:zd,useCacheRefresh:function(){return Ke().memoizedState=eE.bind(null,Ot)}},Kv={readContext:Ne,use:$u,useCallback:zv,useContext:Ne,useEffect:Rv,useImperativeHandle:Lv,useInsertionEffect:_v,useLayoutEffect:Nv,useMemo:Vv,useReducer:Xu,useRef:Dv,useState:function(){return Xu(Mi)},useDebugValue:Ud,useDeferredValue:function(r,o){var c=ae();return Pv(c,Ht.memoizedState,r,o)},useTransition:function(){var r=Xu(Mi)[0],o=ae().memoizedState;return[typeof r=="boolean"?r:Oo(r),o]},useSyncExternalStore:dv,useId:jv,useHostTransitionStatus:Xd,useFormState:Cv,useActionState:Cv,useOptimistic:function(r,o){var c=ae();return xv(c,Ht,r,o)},useMemoCache:zd,useCacheRefresh:$v},iE={readContext:Ne,use:$u,useCallback:zv,useContext:Ne,useEffect:Rv,useImperativeHandle:Lv,useInsertionEffect:_v,useLayoutEffect:Nv,useMemo:Vv,useReducer:Pd,useRef:Dv,useState:function(){return Pd(Mi)},useDebugValue:Ud,useDeferredValue:function(r,o){var c=ae();return Ht===null?jd(c,r,o):Pv(c,Ht.memoizedState,r,o)},useTransition:function(){var r=Pd(Mi)[0],o=ae().memoizedState;return[typeof r=="boolean"?r:Oo(r),o]},useSyncExternalStore:dv,useId:jv,useHostTransitionStatus:Xd,useFormState:kv,useActionState:kv,useOptimistic:function(r,o){var c=ae();return Ht!==null?xv(c,Ht,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:zd,useCacheRefresh:$v},Zr=null,Mo=0;function Wu(r){var o=Mo;return Mo+=1,Zr===null&&(Zr=[]),rv(Zr,r,o)}function ko(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Iu(r,o){throw o.$$typeof===g?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Wv(r){var o=r._init;return o(r._payload)}function Iv(r){function o(V,N){if(r){var P=V.deletions;P===null?(V.deletions=[N],V.flags|=16):P.push(N)}}function c(V,N){if(!r)return null;for(;N!==null;)o(V,N),N=N.sibling;return null}function d(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function m(V,N){return V=wi(V,N),V.index=0,V.sibling=null,V}function v(V,N,P){return V.index=P,r?(P=V.alternate,P!==null?(P=P.index,P<N?(V.flags|=67108866,N):P):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function S(V){return r&&V.alternate===null&&(V.flags|=67108866),V}function T(V,N,P,F){return N===null||N.tag!==6?(N=fd(P,V.mode,F),N.return=V,N):(N=m(N,P),N.return=V,N)}function R(V,N,P,F){var ht=P.type;return ht===b?G(V,N,P.props.children,F,P.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===$&&Wv(ht)===N.type)?(N=m(N,P.props),ko(N,P),N.return=V,N):(N=_u(P.type,P.key,P.props,null,V.mode,F),ko(N,P),N.return=V,N)}function q(V,N,P,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=dd(P,V.mode,F),N.return=V,N):(N=m(N,P.children||[]),N.return=V,N)}function G(V,N,P,F,ht){return N===null||N.tag!==7?(N=Ys(P,V.mode,F,ht),N.return=V,N):(N=m(N,P),N.return=V,N)}function I(V,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=fd(""+N,V.mode,P),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case y:return P=_u(N.type,N.key,N.props,null,V.mode,P),ko(P,N),P.return=V,P;case x:return N=dd(N,V.mode,P),N.return=V,N;case $:var F=N._init;return N=F(N._payload),I(V,N,P)}if(Q(N)||it(N))return N=Ys(N,V.mode,P,null),N.return=V,N;if(typeof N.then=="function")return I(V,Wu(N),P);if(N.$$typeof===E)return I(V,zu(V,N),P);Iu(V,N)}return null}function U(V,N,P,F){var ht=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:T(V,N,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case y:return P.key===ht?R(V,N,P,F):null;case x:return P.key===ht?q(V,N,P,F):null;case $:return ht=P._init,P=ht(P._payload),U(V,N,P,F)}if(Q(P)||it(P))return ht!==null?null:G(V,N,P,F,null);if(typeof P.then=="function")return U(V,N,Wu(P),F);if(P.$$typeof===E)return U(V,N,zu(V,P),F);Iu(V,P)}return null}function j(V,N,P,F,ht){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return V=V.get(P)||null,T(N,V,""+F,ht);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case y:return V=V.get(F.key===null?P:F.key)||null,R(N,V,F,ht);case x:return V=V.get(F.key===null?P:F.key)||null,q(N,V,F,ht);case $:var Tt=F._init;return F=Tt(F._payload),j(V,N,P,F,ht)}if(Q(F)||it(F))return V=V.get(P)||null,G(N,V,F,ht,null);if(typeof F.then=="function")return j(V,N,P,Wu(F),ht);if(F.$$typeof===E)return j(V,N,P,zu(N,F),ht);Iu(N,F)}return null}function bt(V,N,P,F){for(var ht=null,Tt=null,pt=N,vt=N=0,be=null;pt!==null&&vt<P.length;vt++){pt.index>vt?(be=pt,pt=null):be=pt.sibling;var Nt=U(V,pt,P[vt],F);if(Nt===null){pt===null&&(pt=be);break}r&&pt&&Nt.alternate===null&&o(V,pt),N=v(Nt,N,vt),Tt===null?ht=Nt:Tt.sibling=Nt,Tt=Nt,pt=be}if(vt===P.length)return c(V,pt),Lt&&Fs(V,vt),ht;if(pt===null){for(;vt<P.length;vt++)pt=I(V,P[vt],F),pt!==null&&(N=v(pt,N,vt),Tt===null?ht=pt:Tt.sibling=pt,Tt=pt);return Lt&&Fs(V,vt),ht}for(pt=d(pt);vt<P.length;vt++)be=j(pt,V,vt,P[vt],F),be!==null&&(r&&be.alternate!==null&&pt.delete(be.key===null?vt:be.key),N=v(be,N,vt),Tt===null?ht=be:Tt.sibling=be,Tt=be);return r&&pt.forEach(function(ys){return o(V,ys)}),Lt&&Fs(V,vt),ht}function yt(V,N,P,F){if(P==null)throw Error(i(151));for(var ht=null,Tt=null,pt=N,vt=N=0,be=null,Nt=P.next();pt!==null&&!Nt.done;vt++,Nt=P.next()){pt.index>vt?(be=pt,pt=null):be=pt.sibling;var ys=U(V,pt,Nt.value,F);if(ys===null){pt===null&&(pt=be);break}r&&pt&&ys.alternate===null&&o(V,pt),N=v(ys,N,vt),Tt===null?ht=ys:Tt.sibling=ys,Tt=ys,pt=be}if(Nt.done)return c(V,pt),Lt&&Fs(V,vt),ht;if(pt===null){for(;!Nt.done;vt++,Nt=P.next())Nt=I(V,Nt.value,F),Nt!==null&&(N=v(Nt,N,vt),Tt===null?ht=Nt:Tt.sibling=Nt,Tt=Nt);return Lt&&Fs(V,vt),ht}for(pt=d(pt);!Nt.done;vt++,Nt=P.next())Nt=j(pt,V,vt,Nt.value,F),Nt!==null&&(r&&Nt.alternate!==null&&pt.delete(Nt.key===null?vt:Nt.key),N=v(Nt,N,vt),Tt===null?ht=Nt:Tt.sibling=Nt,Tt=Nt);return r&&pt.forEach(function(sR){return o(V,sR)}),Lt&&Fs(V,vt),ht}function Ut(V,N,P,F){if(typeof P=="object"&&P!==null&&P.type===b&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case y:t:{for(var ht=P.key;N!==null;){if(N.key===ht){if(ht=P.type,ht===b){if(N.tag===7){c(V,N.sibling),F=m(N,P.props.children),F.return=V,V=F;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===$&&Wv(ht)===N.type){c(V,N.sibling),F=m(N,P.props),ko(F,P),F.return=V,V=F;break t}c(V,N);break}else o(V,N);N=N.sibling}P.type===b?(F=Ys(P.props.children,V.mode,F,P.key),F.return=V,V=F):(F=_u(P.type,P.key,P.props,null,V.mode,F),ko(F,P),F.return=V,V=F)}return S(V);case x:t:{for(ht=P.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){c(V,N.sibling),F=m(N,P.children||[]),F.return=V,V=F;break t}else{c(V,N);break}else o(V,N);N=N.sibling}F=dd(P,V.mode,F),F.return=V,V=F}return S(V);case $:return ht=P._init,P=ht(P._payload),Ut(V,N,P,F)}if(Q(P))return bt(V,N,P,F);if(it(P)){if(ht=it(P),typeof ht!="function")throw Error(i(150));return P=ht.call(P),yt(V,N,P,F)}if(typeof P.then=="function")return Ut(V,N,Wu(P),F);if(P.$$typeof===E)return Ut(V,N,zu(V,P),F);Iu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(c(V,N.sibling),F=m(N,P),F.return=V,V=F):(c(V,N),F=fd(P,V.mode,F),F.return=V,V=F),S(V)):c(V,N)}return function(V,N,P,F){try{Mo=0;var ht=Ut(V,N,P,F);return Zr=null,ht}catch(pt){if(pt===vo||pt===Pu)throw pt;var Tt=un(29,pt,null,V.mode);return Tt.lanes=F,Tt.return=V,Tt}finally{}}}var Jr=Iv(!0),Qv=Iv(!1),kn=X(null),Zn=null;function ns(r){var o=r.alternate;tt(pe,pe.current&1),tt(kn,r),Zn===null&&(o===null||Kr.current!==null||o.memoizedState!==null)&&(Zn=r)}function Zv(r){if(r.tag===22){if(tt(pe,pe.current),tt(kn,r),Zn===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Zn=r)}}else is()}function is(){tt(pe,pe.current),tt(kn,kn.current)}function ki(r){Z(kn),Zn===r&&(Zn=null),Z(pe)}var pe=X(0);function Qu(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Lp(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Gd(r,o,c,d){o=r.memoizedState,c=c(d,o),c=c==null?o:p({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Fd={enqueueSetState:function(r,o,c){r=r._reactInternals;var d=dn(),m=Ji(d);m.payload=o,c!=null&&(m.callback=c),o=ts(r,m,d),o!==null&&(pn(o,r,d),bo(o,r,d))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var d=dn(),m=Ji(d);m.tag=1,m.payload=o,c!=null&&(m.callback=c),o=ts(r,m,d),o!==null&&(pn(o,r,d),bo(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=dn(),d=Ji(c);d.tag=2,o!=null&&(d.callback=o),o=ts(r,d,c),o!==null&&(pn(o,r,c),bo(o,r,c))}};function Jv(r,o,c,d,m,v,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,S):o.prototype&&o.prototype.isPureReactComponent?!uo(c,d)||!uo(m,v):!0}function tx(r,o,c,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==r&&Fd.enqueueReplaceState(o,o.state,null)}function tr(r,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(r=r.defaultProps){c===o&&(c=p({},c));for(var m in r)c[m]===void 0&&(c[m]=r[m])}return c}var Zu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function ex(r){Zu(r)}function nx(r){console.error(r)}function ix(r){Zu(r)}function Ju(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function sx(r,o,c){try{var d=r.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Kd(r,o,c){return c=Ji(c),c.tag=3,c.payload={element:null},c.callback=function(){Ju(r,o)},c}function rx(r){return r=Ji(r),r.tag=3,r}function lx(r,o,c,d){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var v=d.value;r.payload=function(){return m(v)},r.callback=function(){sx(o,c,d)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){sx(o,c,d),typeof m!="function"&&(us===null?us=new Set([this]):us.add(this));var T=d.stack;this.componentDidCatch(d.value,{componentStack:T!==null?T:""})})}function sE(r,o,c,d,m){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&mo(o,c,m,!0),c=kn.current,c!==null){switch(c.tag){case 13:return Zn===null?vp():c.alternate===null&&ee===0&&(ee=3),c.flags&=-257,c.flags|=65536,c.lanes=m,d===Ad?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),bp(r,d,m)),!1;case 22:return c.flags|=65536,d===Ad?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),bp(r,d,m)),!1}throw Error(i(435,c.tag))}return bp(r,d,m),vp(),!1}if(Lt)return o=kn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==gd&&(r=Error(i(422),{cause:d}),po(On(r,c)))):(d!==gd&&(o=Error(i(423),{cause:d}),po(On(o,c))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=On(d,c),m=Kd(r.stateNode,d,m),Cd(r,m),ee!==4&&(ee=2)),!1;var v=Error(i(520),{cause:d});if(v=On(v,c),Lo===null?Lo=[v]:Lo.push(v),ee!==4&&(ee=2),o===null)return!0;d=On(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=m&-m,c.lanes|=r,r=Kd(c.stateNode,d,r),Cd(c,r),!1;case 1:if(o=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(us===null||!us.has(v))))return c.flags|=65536,m&=-m,c.lanes|=m,m=rx(m),lx(m,r,c,d),Cd(c,m),!1}c=c.return}while(c!==null);return!1}var ox=Error(i(461)),ve=!1;function Oe(r,o,c,d){o.child=r===null?Qv(o,null,c,d):Jr(o,r.child,c,d)}function ax(r,o,c,d,m){c=c.render;var v=o.ref;if("ref"in d){var S={};for(var T in d)T!=="ref"&&(S[T]=d[T])}else S=d;return Qs(o),d=Rd(r,o,c,S,v,m),T=_d(),r!==null&&!ve?(Nd(r,o,m),Di(r,o,m)):(Lt&&T&&pd(o),o.flags|=1,Oe(r,o,d,m),o.child)}function ux(r,o,c,d,m){if(r===null){var v=c.type;return typeof v=="function"&&!hd(v)&&v.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=v,cx(r,o,v,d,m)):(r=_u(c.type,null,d,o,o.mode,m),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!np(r,m)){var S=v.memoizedProps;if(c=c.compare,c=c!==null?c:uo,c(S,d)&&r.ref===o.ref)return Di(r,o,m)}return o.flags|=1,r=wi(v,d),r.ref=o.ref,r.return=o,o.child=r}function cx(r,o,c,d,m){if(r!==null){var v=r.memoizedProps;if(uo(v,d)&&r.ref===o.ref)if(ve=!1,o.pendingProps=d=v,np(r,m))(r.flags&131072)!==0&&(ve=!0);else return o.lanes=r.lanes,Di(r,o,m)}return Wd(r,o,c,d,m)}function hx(r,o,c){var d=o.pendingProps,m=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|c:c,r!==null){for(m=o.child=r.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return fx(r,o,d,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Vu(o,v!==null?v.cachePool:null),v!==null?cv(o,v):kd(),Zv(o);else return o.lanes=o.childLanes=536870912,fx(r,o,v!==null?v.baseLanes|c:c,c)}else v!==null?(Vu(o,v.cachePool),cv(o,v),is(),o.memoizedState=null):(r!==null&&Vu(o,null),kd(),is());return Oe(r,o,m,c),o.child}function fx(r,o,c,d){var m=wd();return m=m===null?null:{parent:de._currentValue,pool:m},o.memoizedState={baseLanes:c,cachePool:m},r!==null&&Vu(o,null),kd(),Zv(o),r!==null&&mo(r,o,d,!0),null}function tc(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function Wd(r,o,c,d,m){return Qs(o),c=Rd(r,o,c,d,void 0,m),d=_d(),r!==null&&!ve?(Nd(r,o,m),Di(r,o,m)):(Lt&&d&&pd(o),o.flags|=1,Oe(r,o,c,m),o.child)}function dx(r,o,c,d,m,v){return Qs(o),o.updateQueue=null,c=fv(o,d,c,m),hv(r),d=_d(),r!==null&&!ve?(Nd(r,o,v),Di(r,o,v)):(Lt&&d&&pd(o),o.flags|=1,Oe(r,o,c,v),o.child)}function px(r,o,c,d,m){if(Qs(o),o.stateNode===null){var v=$r,S=c.contextType;typeof S=="object"&&S!==null&&(v=Ne(S)),v=new c(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Fd,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},Od(o),S=c.contextType,v.context=typeof S=="object"&&S!==null?Ne(S):$r,v.state=o.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(Gd(o,c,S,d),v.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Fd.enqueueReplaceState(v,v.state,null),wo(o,d,v,m),So(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){v=o.stateNode;var T=o.memoizedProps,R=tr(c,T);v.props=R;var q=v.context,G=c.contextType;S=$r,typeof G=="object"&&G!==null&&(S=Ne(G));var I=c.getDerivedStateFromProps;G=typeof I=="function"||typeof v.getSnapshotBeforeUpdate=="function",T=o.pendingProps!==T,G||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T||q!==S)&&tx(o,v,d,S),Zi=!1;var U=o.memoizedState;v.state=U,wo(o,d,v,m),So(),q=o.memoizedState,T||U!==q||Zi?(typeof I=="function"&&(Gd(o,c,I,d),q=o.memoizedState),(R=Zi||Jv(o,c,R,d,U,q,S))?(G||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=q),v.props=d,v.state=q,v.context=S,d=R):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,Td(r,o),S=o.memoizedProps,G=tr(c,S),v.props=G,I=o.pendingProps,U=v.context,q=c.contextType,R=$r,typeof q=="object"&&q!==null&&(R=Ne(q)),T=c.getDerivedStateFromProps,(q=typeof T=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==I||U!==R)&&tx(o,v,d,R),Zi=!1,U=o.memoizedState,v.state=U,wo(o,d,v,m),So();var j=o.memoizedState;S!==I||U!==j||Zi||r!==null&&r.dependencies!==null&&Lu(r.dependencies)?(typeof T=="function"&&(Gd(o,c,T,d),j=o.memoizedState),(G=Zi||Jv(o,c,G,d,U,j,R)||r!==null&&r.dependencies!==null&&Lu(r.dependencies))?(q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,j,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,j,R)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&U===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&U===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=j),v.props=d,v.state=j,v.context=R,d=G):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&U===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&U===r.memoizedState||(o.flags|=1024),d=!1)}return v=d,tc(r,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&d?(o.child=Jr(o,r.child,null,m),o.child=Jr(o,null,c,m)):Oe(r,o,c,m),o.memoizedState=v.state,r=o.child):r=Di(r,o,m),r}function mx(r,o,c,d){return fo(),o.flags|=256,Oe(r,o,c,d),o.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qd(r){return{baseLanes:r,cachePool:nv()}}function Zd(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=Dn),r}function gx(r,o,c){var d=o.pendingProps,m=!1,v=(o.flags&128)!==0,S;if((S=v)||(S=r!==null&&r.memoizedState===null?!1:(pe.current&2)!==0),S&&(m=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,r===null){if(Lt){if(m?ns(o):is(),Lt){var T=te,R;if(R=T){t:{for(R=T,T=Qn;R.nodeType!==8;){if(!T){T=null;break t}if(R=jn(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(o.memoizedState={dehydrated:T,treeContext:Gs!==null?{id:Ai,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},R=un(18,null,null,0),R.stateNode=T,R.return=o,o.child=R,He=o,te=null,R=!0):R=!1}R||Ws(o)}if(T=o.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Lp(T)?o.lanes=32:o.lanes=536870912,null;ki(o)}return T=d.children,d=d.fallback,m?(is(),m=o.mode,T=ec({mode:"hidden",children:T},m),d=Ys(d,m,c,null),T.return=o,d.return=o,T.sibling=d,o.child=T,m=o.child,m.memoizedState=Qd(c),m.childLanes=Zd(r,S,c),o.memoizedState=Id,d):(ns(o),Jd(o,T))}if(R=r.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(v)o.flags&256?(ns(o),o.flags&=-257,o=tp(r,o,c)):o.memoizedState!==null?(is(),o.child=r.child,o.flags|=128,o=null):(is(),m=d.fallback,T=o.mode,d=ec({mode:"visible",children:d.children},T),m=Ys(m,T,c,null),m.flags|=2,d.return=o,m.return=o,d.sibling=m,o.child=d,Jr(o,r.child,null,c),d=o.child,d.memoizedState=Qd(c),d.childLanes=Zd(r,S,c),o.memoizedState=Id,o=m);else if(ns(o),Lp(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var q=S.dgst;S=q,d=Error(i(419)),d.stack="",d.digest=S,po({value:d,source:null,stack:null}),o=tp(r,o,c)}else if(ve||mo(r,o,c,!1),S=(c&r.childLanes)!==0,ve||S){if(S=Gt,S!==null&&(d=c&-c,d=(d&42)!==0?1:zf(d),d=(d&(S.suspendedLanes|c))!==0?0:d,d!==0&&d!==R.retryLane))throw R.retryLane=d,jr(r,d),pn(S,r,d),ox;T.data==="$?"||vp(),o=tp(r,o,c)}else T.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=R.treeContext,te=jn(T.nextSibling),He=o,Lt=!0,Ks=null,Qn=!1,r!==null&&(Cn[Mn++]=Ai,Cn[Mn++]=Oi,Cn[Mn++]=Gs,Ai=r.id,Oi=r.overflow,Gs=o),o=Jd(o,d.children),o.flags|=4096);return o}return m?(is(),m=d.fallback,T=o.mode,R=r.child,q=R.sibling,d=wi(R,{mode:"hidden",children:d.children}),d.subtreeFlags=R.subtreeFlags&65011712,q!==null?m=wi(q,m):(m=Ys(m,T,c,null),m.flags|=2),m.return=o,d.return=o,d.sibling=m,o.child=d,d=m,m=o.child,T=r.child.memoizedState,T===null?T=Qd(c):(R=T.cachePool,R!==null?(q=de._currentValue,R=R.parent!==q?{parent:q,pool:q}:R):R=nv(),T={baseLanes:T.baseLanes|c,cachePool:R}),m.memoizedState=T,m.childLanes=Zd(r,S,c),o.memoizedState=Id,d):(ns(o),c=r.child,r=c.sibling,c=wi(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,r!==null&&(S=o.deletions,S===null?(o.deletions=[r],o.flags|=16):S.push(r)),o.child=c,o.memoizedState=null,c)}function Jd(r,o){return o=ec({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function ec(r,o){return r=un(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function tp(r,o,c){return Jr(o,r.child,null,c),r=Jd(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function yx(r,o,c){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),vd(r.return,o,c)}function ep(r,o,c,d,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=c,v.tailMode=m)}function vx(r,o,c){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(Oe(r,o,d.children,c),d=pe.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yx(r,c,o);else if(r.tag===19)yx(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(tt(pe,d),m){case"forwards":for(c=o.child,m=null;c!==null;)r=c.alternate,r!==null&&Qu(r)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),ep(o,!1,m,c,v);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(r=m.alternate,r!==null&&Qu(r)===null){o.child=m;break}r=m.sibling,m.sibling=c,c=m,m=r}ep(o,!0,c,null,v);break;case"together":ep(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Di(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),as|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(mo(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,c=wi(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=wi(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function np(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Lu(r)))}function rE(r,o,c){switch(o.tag){case 3:Dt(o,o.stateNode.containerInfo),Qi(o,de,r.memoizedState.cache),fo();break;case 27:case 5:Rf(o);break;case 4:Dt(o,o.stateNode.containerInfo);break;case 10:Qi(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(ns(o),o.flags|=128,null):(c&o.child.childLanes)!==0?gx(r,o,c):(ns(o),r=Di(r,o,c),r!==null?r.sibling:null);ns(o);break;case 19:var m=(r.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(mo(r,o,c,!1),d=(c&o.childLanes)!==0),m){if(d)return vx(r,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(pe,pe.current),d)break;return null;case 22:case 23:return o.lanes=0,hx(r,o,c);case 24:Qi(o,de,r.memoizedState.cache)}return Di(r,o,c)}function xx(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)ve=!0;else{if(!np(r,c)&&(o.flags&128)===0)return ve=!1,rE(r,o,c);ve=(r.flags&131072)!==0}else ve=!1,Lt&&(o.flags&1048576)!==0&&W1(o,Bu,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,m=d._init;if(d=m(d._payload),o.type=d,typeof d=="function")hd(d)?(r=tr(d,r),o.tag=1,o=px(null,o,d,r,c)):(o.tag=0,o=Wd(null,o,d,r,c));else{if(d!=null){if(m=d.$$typeof,m===M){o.tag=11,o=ax(null,o,d,r,c);break t}else if(m===z){o.tag=14,o=ux(null,o,d,r,c);break t}}throw o=B(d)||d,Error(i(306,o,""))}}return o;case 0:return Wd(r,o,o.type,o.pendingProps,c);case 1:return d=o.type,m=tr(d,o.pendingProps),px(r,o,d,m,c);case 3:t:{if(Dt(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var v=o.memoizedState;m=v.element,Td(r,o),wo(o,d,null,c);var S=o.memoizedState;if(d=S.cache,Qi(o,de,d),d!==v.cache&&xd(o,[de],c,!0),So(),d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=mx(r,o,d,c);break t}else if(d!==m){m=On(Error(i(424)),o),po(m),o=mx(r,o,d,c);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(te=jn(r.firstChild),He=o,Lt=!0,Ks=null,Qn=!0,c=Qv(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(fo(),d===m){o=Di(r,o,c);break t}Oe(r,o,d,c)}o=o.child}return o;case 26:return tc(r,o),r===null?(c=Ab(o.type,null,o.pendingProps,null))?o.memoizedState=c:Lt||(c=o.type,r=o.pendingProps,d=mc(dt.current).createElement(c),d[_e]=o,d[Ge]=r,Ce(d,c,r),ye(d),o.stateNode=d):o.memoizedState=Ab(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Rf(o),r===null&&Lt&&(d=o.stateNode=bb(o.type,o.pendingProps,dt.current),He=o,Qn=!0,m=te,fs(o.type)?(zp=m,te=jn(d.firstChild)):te=m),Oe(r,o,o.pendingProps.children,c),tc(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Lt&&((m=d=te)&&(d=NE(d,o.type,o.pendingProps,Qn),d!==null?(o.stateNode=d,He=o,te=jn(d.firstChild),Qn=!1,m=!0):m=!1),m||Ws(o)),Rf(o),m=o.type,v=o.pendingProps,S=r!==null?r.memoizedProps:null,d=v.children,_p(m,v)?d=null:S!==null&&_p(m,S)&&(o.flags|=32),o.memoizedState!==null&&(m=Rd(r,o,QD,null,null,c),Xo._currentValue=m),tc(r,o),Oe(r,o,d,c),o.child;case 6:return r===null&&Lt&&((r=c=te)&&(c=BE(c,o.pendingProps,Qn),c!==null?(o.stateNode=c,He=o,te=null,r=!0):r=!1),r||Ws(o)),null;case 13:return gx(r,o,c);case 4:return Dt(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=Jr(o,null,d,c):Oe(r,o,d,c),o.child;case 11:return ax(r,o,o.type,o.pendingProps,c);case 7:return Oe(r,o,o.pendingProps,c),o.child;case 8:return Oe(r,o,o.pendingProps.children,c),o.child;case 12:return Oe(r,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Qi(o,o.type,d.value),Oe(r,o,d.children,c),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,Qs(o),m=Ne(m),d=d(m),o.flags|=1,Oe(r,o,d,c),o.child;case 14:return ux(r,o,o.type,o.pendingProps,c);case 15:return cx(r,o,o.type,o.pendingProps,c);case 19:return vx(r,o,c);case 31:return d=o.pendingProps,c=o.mode,d={mode:d.mode,children:d.children},r===null?(c=ec(d,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=wi(r.child,d),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return hx(r,o,c);case 24:return Qs(o),d=Ne(de),r===null?(m=wd(),m===null&&(m=Gt,v=bd(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=c),m=v),o.memoizedState={parent:d,cache:m},Od(o),Qi(o,de,m)):((r.lanes&c)!==0&&(Td(r,o),wo(o,null,null,c),So()),m=r.memoizedState,v=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Qi(o,de,d)):(d=v.cache,Qi(o,de,d),d!==m.cache&&xd(o,[de],c,!0))),Oe(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Ei(r){r.flags|=4}function bx(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!kb(o)){if(o=kn.current,o!==null&&((Et&4194048)===Et?Zn!==null:(Et&62914560)!==Et&&(Et&536870912)===0||o!==Zn))throw xo=Ad,iv;r.flags|=8192}}function nc(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Zy():536870912,r.lanes|=o,il|=o)}function Do(r,o){if(!Lt)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Qt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(o)for(var m=r.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=c,o}function lE(r,o,c){var d=o.pendingProps;switch(md(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return Qt(o),null;case 3:return c=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ci(de),Sn(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(ho(o)?Ei(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Z1())),Qt(o),null;case 26:return c=o.memoizedState,r===null?(Ei(o),c!==null?(Qt(o),bx(o,c)):(Qt(o),o.flags&=-16777217)):c?c!==r.memoizedState?(Ei(o),Qt(o),bx(o,c)):(Qt(o),o.flags&=-16777217):(r.memoizedProps!==d&&Ei(o),Qt(o),o.flags&=-16777217),null;case 27:du(o),c=dt.current;var m=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Ei(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Qt(o),null}r=ot.current,ho(o)?I1(o):(r=bb(m,d,c),o.stateNode=r,Ei(o))}return Qt(o),null;case 5:if(du(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Ei(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Qt(o),null}if(r=ot.current,ho(o))I1(o);else{switch(m=mc(dt.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?m.createElement(c,{is:d.is}):m.createElement(c)}}r[_e]=o,r[Ge]=d;t:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break t;for(;m.sibling===null;){if(m.return===null||m.return===o)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=r;t:switch(Ce(r,c,d),c){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Ei(o)}}return Qt(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Ei(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=dt.current,ho(o)){if(r=o.stateNode,c=o.memoizedProps,d=null,m=He,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[_e]=o,r=!!(r.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||db(r.nodeValue,c)),r||Ws(o)}else r=mc(r).createTextNode(d),r[_e]=o,o.stateNode=r}return Qt(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=ho(o),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[_e]=o}else fo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),m=!1}else m=Z1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(ki(o),o):(ki(o),null)}if(ki(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=d!==null,r=r!==null&&r.memoizedState!==null,c){d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),nc(o,o.updateQueue),Qt(o),null;case 4:return Sn(),r===null&&Mp(o.stateNode.containerInfo),Qt(o),null;case 10:return Ci(o.type),Qt(o),null;case 19:if(Z(pe),m=o.memoizedState,m===null)return Qt(o),null;if(d=(o.flags&128)!==0,v=m.rendering,v===null)if(d)Do(m,!1);else{if(ee!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=Qu(r),v!==null){for(o.flags|=128,Do(m,!1),r=v.updateQueue,o.updateQueue=r,nc(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)K1(c,r),c=c.sibling;return tt(pe,pe.current&1|2),o.child}r=r.sibling}m.tail!==null&&In()>rc&&(o.flags|=128,d=!0,Do(m,!1),o.lanes=4194304)}else{if(!d)if(r=Qu(v),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,nc(o,r),Do(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Lt)return Qt(o),null}else 2*In()-m.renderingStartTime>rc&&c!==536870912&&(o.flags|=128,d=!0,Do(m,!1),o.lanes=4194304);m.isBackwards?(v.sibling=o.child,o.child=v):(r=m.last,r!==null?r.sibling=v:o.child=v,m.last=v)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=In(),o.sibling=null,r=pe.current,tt(pe,d?r&1|2:r&1),o):(Qt(o),null);case 22:case 23:return ki(o),Dd(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),c=o.updateQueue,c!==null&&nc(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),r!==null&&Z(Zs),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ci(de),Qt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function oE(r,o){switch(md(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Ci(de),Sn(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return du(o),null;case 13:if(ki(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));fo()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Z(pe),null;case 4:return Sn(),null;case 10:return Ci(o.type),null;case 22:case 23:return ki(o),Dd(),r!==null&&Z(Zs),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Ci(de),null;case 25:return null;default:return null}}function Sx(r,o){switch(md(o),o.tag){case 3:Ci(de),Sn();break;case 26:case 27:case 5:du(o);break;case 4:Sn();break;case 13:ki(o);break;case 19:Z(pe);break;case 10:Ci(o.type);break;case 22:case 23:ki(o),Dd(),r!==null&&Z(Zs);break;case 24:Ci(de)}}function Eo(r,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&r)===r){d=void 0;var v=c.create,S=c.inst;d=v(),S.destroy=d}c=c.next}while(c!==m)}}catch(T){jt(o,o.return,T)}}function ss(r,o,c){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var v=m.next;d=v;do{if((d.tag&r)===r){var S=d.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,m=o;var R=c,q=T;try{q()}catch(G){jt(m,R,G)}}}d=d.next}while(d!==v)}}catch(G){jt(o,o.return,G)}}function wx(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{uv(o,c)}catch(d){jt(r,r.return,d)}}}function Ax(r,o,c){c.props=tr(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(d){jt(r,o,d)}}function Ro(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof c=="function"?r.refCleanup=c(d):c.current=d}}catch(m){jt(r,o,m)}}function Jn(r,o){var c=r.ref,d=r.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(m){jt(r,o,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){jt(r,o,m)}else c.current=null}function Ox(r){var o=r.type,c=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(m){jt(r,r.return,m)}}function ip(r,o,c){try{var d=r.stateNode;kE(d,r.type,c,o),d[Ge]=o}catch(m){jt(r,r.return,m)}}function Tx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&fs(r.type)||r.tag===4}function sp(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Tx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&fs(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rp(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=pc));else if(d!==4&&(d===27&&fs(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(rp(r,o,c),r=r.sibling;r!==null;)rp(r,o,c),r=r.sibling}function ic(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(d!==4&&(d===27&&fs(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(ic(r,o,c),r=r.sibling;r!==null;)ic(r,o,c),r=r.sibling}function Cx(r){var o=r.stateNode,c=r.memoizedProps;try{for(var d=r.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Ce(o,d,c),o[_e]=r,o[Ge]=c}catch(v){jt(r,r.return,v)}}var Ri=!1,se=!1,lp=!1,Mx=typeof WeakSet=="function"?WeakSet:Set,xe=null;function aE(r,o){if(r=r.containerInfo,Ep=Sc,r=P1(r),sd(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break t}var S=0,T=-1,R=-1,q=0,G=0,I=r,U=null;e:for(;;){for(var j;I!==c||m!==0&&I.nodeType!==3||(T=S+m),I!==v||d!==0&&I.nodeType!==3||(R=S+d),I.nodeType===3&&(S+=I.nodeValue.length),(j=I.firstChild)!==null;)U=I,I=j;for(;;){if(I===r)break e;if(U===c&&++q===m&&(T=S),U===v&&++G===d&&(R=S),(j=I.nextSibling)!==null)break;I=U,U=I.parentNode}I=j}c=T===-1||R===-1?null:{start:T,end:R}}else c=null}c=c||{start:0,end:0}}else c=null;for(Rp={focusedElem:r,selectionRange:c},Sc=!1,xe=o;xe!==null;)if(o=xe,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,xe=r;else for(;xe!==null;){switch(o=xe,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=o,m=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var bt=tr(c.type,m,c.elementType===c.type);r=d.getSnapshotBeforeUpdate(bt,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(yt){jt(c,c.return,yt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)Bp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Bp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,xe=r;break}xe=o.return}}function kx(r,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:rs(r,c),d&4&&Eo(5,c);break;case 1:if(rs(r,c),d&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(S){jt(c,c.return,S)}else{var m=tr(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(m,o,r.__reactInternalSnapshotBeforeUpdate)}catch(S){jt(c,c.return,S)}}d&64&&wx(c),d&512&&Ro(c,c.return);break;case 3:if(rs(r,c),d&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{uv(r,o)}catch(S){jt(c,c.return,S)}}break;case 27:o===null&&d&4&&Cx(c);case 26:case 5:rs(r,c),o===null&&d&4&&Ox(c),d&512&&Ro(c,c.return);break;case 12:rs(r,c);break;case 13:rs(r,c),d&4&&Rx(r,c),d&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=yE.bind(null,c),LE(r,c))));break;case 22:if(d=c.memoizedState!==null||Ri,!d){o=o!==null&&o.memoizedState!==null||se,m=Ri;var v=se;Ri=d,(se=o)&&!v?ls(r,c,(c.subtreeFlags&8772)!==0):rs(r,c),Ri=m,se=v}break;case 30:break;default:rs(r,c)}}function Dx(r){var o=r.alternate;o!==null&&(r.alternate=null,Dx(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Hf(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Wt=null,We=!1;function _i(r,o,c){for(c=c.child;c!==null;)Ex(r,o,c),c=c.sibling}function Ex(r,o,c){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ql,c)}catch{}switch(c.tag){case 26:se||Jn(c,o),_i(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:se||Jn(c,o);var d=Wt,m=We;fs(c.type)&&(Wt=c.stateNode,We=!1),_i(r,o,c),qo(c.stateNode),Wt=d,We=m;break;case 5:se||Jn(c,o);case 6:if(d=Wt,m=We,Wt=null,_i(r,o,c),Wt=d,We=m,Wt!==null)if(We)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(c.stateNode)}catch(v){jt(c,o,v)}else try{Wt.removeChild(c.stateNode)}catch(v){jt(c,o,v)}break;case 18:Wt!==null&&(We?(r=Wt,vb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Ko(r)):vb(Wt,c.stateNode));break;case 4:d=Wt,m=We,Wt=c.stateNode.containerInfo,We=!0,_i(r,o,c),Wt=d,We=m;break;case 0:case 11:case 14:case 15:se||ss(2,c,o),se||ss(4,c,o),_i(r,o,c);break;case 1:se||(Jn(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Ax(c,o,d)),_i(r,o,c);break;case 21:_i(r,o,c);break;case 22:se=(d=se)||c.memoizedState!==null,_i(r,o,c),se=d;break;default:_i(r,o,c)}}function Rx(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ko(r)}catch(c){jt(o,o.return,c)}}function uE(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Mx),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Mx),o;default:throw Error(i(435,r.tag))}}function op(r,o){var c=uE(r);o.forEach(function(d){var m=vE.bind(null,r,d);c.has(d)||(c.add(d),d.then(m,m))})}function cn(r,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d],v=r,S=o,T=S;t:for(;T!==null;){switch(T.tag){case 27:if(fs(T.type)){Wt=T.stateNode,We=!1;break t}break;case 5:Wt=T.stateNode,We=!1;break t;case 3:case 4:Wt=T.stateNode.containerInfo,We=!0;break t}T=T.return}if(Wt===null)throw Error(i(160));Ex(v,S,m),Wt=null,We=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)_x(o,r),o=o.sibling}var Un=null;function _x(r,o){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:cn(o,r),hn(r),d&4&&(ss(3,r,r.return),Eo(3,r),ss(5,r,r.return));break;case 1:cn(o,r),hn(r),d&512&&(se||c===null||Jn(c,c.return)),d&64&&Ri&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var m=Un;if(cn(o,r),hn(r),d&512&&(se||c===null||Jn(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=r.memoizedState,c===null)if(d===null)if(r.stateNode===null){t:{d=r.type,c=r.memoizedProps,m=m.ownerDocument||m;e:switch(d){case"title":v=m.getElementsByTagName("title")[0],(!v||v[to]||v[_e]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(d),m.head.insertBefore(v,m.querySelector("head > title"))),Ce(v,d,c),v[_e]=r,ye(v),d=v;break t;case"link":var S=Cb("link","href",m).get(d+(c.href||""));if(S){for(var T=0;T<S.length;T++)if(v=S[T],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(T,1);break e}}v=m.createElement(d),Ce(v,d,c),m.head.appendChild(v);break;case"meta":if(S=Cb("meta","content",m).get(d+(c.content||""))){for(T=0;T<S.length;T++)if(v=S[T],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(T,1);break e}}v=m.createElement(d),Ce(v,d,c),m.head.appendChild(v);break;default:throw Error(i(468,d))}v[_e]=r,ye(v),d=v}r.stateNode=d}else Mb(m,r.type,r.stateNode);else r.stateNode=Tb(m,d,r.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?Mb(m,r.type,r.stateNode):Tb(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&ip(r,r.memoizedProps,c.memoizedProps)}break;case 27:cn(o,r),hn(r),d&512&&(se||c===null||Jn(c,c.return)),c!==null&&d&4&&ip(r,r.memoizedProps,c.memoizedProps);break;case 5:if(cn(o,r),hn(r),d&512&&(se||c===null||Jn(c,c.return)),r.flags&32){m=r.stateNode;try{Lr(m,"")}catch(j){jt(r,r.return,j)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,ip(r,m,c!==null?c.memoizedProps:m)),d&1024&&(lp=!0);break;case 6:if(cn(o,r),hn(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,c=r.stateNode;try{c.nodeValue=d}catch(j){jt(r,r.return,j)}}break;case 3:if(vc=null,m=Un,Un=gc(o.containerInfo),cn(o,r),Un=m,hn(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Ko(o.containerInfo)}catch(j){jt(r,r.return,j)}lp&&(lp=!1,Nx(r));break;case 4:d=Un,Un=gc(r.stateNode.containerInfo),cn(o,r),hn(r),Un=d;break;case 12:cn(o,r),hn(r);break;case 13:cn(o,r),hn(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(dp=In()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,op(r,d)));break;case 22:m=r.memoizedState!==null;var R=c!==null&&c.memoizedState!==null,q=Ri,G=se;if(Ri=q||m,se=G||R,cn(o,r),se=G,Ri=q,hn(r),d&8192)t:for(o=r.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(c===null||R||Ri||se||er(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){R=c=o;try{if(v=R.stateNode,m)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=R.stateNode;var I=R.memoizedProps.style,U=I!=null&&I.hasOwnProperty("display")?I.display:null;T.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(j){jt(R,R.return,j)}}}else if(o.tag===6){if(c===null){R=o;try{R.stateNode.nodeValue=m?"":R.memoizedProps}catch(j){jt(R,R.return,j)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,op(r,c))));break;case 19:cn(o,r),hn(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,op(r,d)));break;case 30:break;case 21:break;default:cn(o,r),hn(r)}}function hn(r){var o=r.flags;if(o&2){try{for(var c,d=r.return;d!==null;){if(Tx(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,v=sp(r);ic(r,v,m);break;case 5:var S=c.stateNode;c.flags&32&&(Lr(S,""),c.flags&=-33);var T=sp(r);ic(r,T,S);break;case 3:case 4:var R=c.stateNode.containerInfo,q=sp(r);rp(r,q,R);break;default:throw Error(i(161))}}catch(G){jt(r,r.return,G)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Nx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Nx(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function rs(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kx(r,o.alternate,o),o=o.sibling}function er(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ss(4,o,o.return),er(o);break;case 1:Jn(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&Ax(o,o.return,c),er(o);break;case 27:qo(o.stateNode);case 26:case 5:Jn(o,o.return),er(o);break;case 22:o.memoizedState===null&&er(o);break;case 30:er(o);break;default:er(o)}r=r.sibling}}function ls(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=r,v=o,S=v.flags;switch(v.tag){case 0:case 11:case 15:ls(m,v,c),Eo(4,v);break;case 1:if(ls(m,v,c),d=v,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){jt(d,d.return,q)}if(d=v,m=d.updateQueue,m!==null){var T=d.stateNode;try{var R=m.shared.hiddenCallbacks;if(R!==null)for(m.shared.hiddenCallbacks=null,m=0;m<R.length;m++)av(R[m],T)}catch(q){jt(d,d.return,q)}}c&&S&64&&wx(v),Ro(v,v.return);break;case 27:Cx(v);case 26:case 5:ls(m,v,c),c&&d===null&&S&4&&Ox(v),Ro(v,v.return);break;case 12:ls(m,v,c);break;case 13:ls(m,v,c),c&&S&4&&Rx(m,v);break;case 22:v.memoizedState===null&&ls(m,v,c),Ro(v,v.return);break;case 30:break;default:ls(m,v,c)}o=o.sibling}}function ap(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&go(c))}function up(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&go(r))}function ti(r,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Bx(r,o,c,d),o=o.sibling}function Bx(r,o,c,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:ti(r,o,c,d),m&2048&&Eo(9,o);break;case 1:ti(r,o,c,d);break;case 3:ti(r,o,c,d),m&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&go(r)));break;case 12:if(m&2048){ti(r,o,c,d),r=o.stateNode;try{var v=o.memoizedProps,S=v.id,T=v.onPostCommit;typeof T=="function"&&T(S,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(R){jt(o,o.return,R)}}else ti(r,o,c,d);break;case 13:ti(r,o,c,d);break;case 23:break;case 22:v=o.stateNode,S=o.alternate,o.memoizedState!==null?v._visibility&2?ti(r,o,c,d):_o(r,o):v._visibility&2?ti(r,o,c,d):(v._visibility|=2,tl(r,o,c,d,(o.subtreeFlags&10256)!==0)),m&2048&&ap(S,o);break;case 24:ti(r,o,c,d),m&2048&&up(o.alternate,o);break;default:ti(r,o,c,d)}}function tl(r,o,c,d,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,S=o,T=c,R=d,q=S.flags;switch(S.tag){case 0:case 11:case 15:tl(v,S,T,R,m),Eo(8,S);break;case 23:break;case 22:var G=S.stateNode;S.memoizedState!==null?G._visibility&2?tl(v,S,T,R,m):_o(v,S):(G._visibility|=2,tl(v,S,T,R,m)),m&&q&2048&&ap(S.alternate,S);break;case 24:tl(v,S,T,R,m),m&&q&2048&&up(S.alternate,S);break;default:tl(v,S,T,R,m)}o=o.sibling}}function _o(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,d=o,m=d.flags;switch(d.tag){case 22:_o(c,d),m&2048&&ap(d.alternate,d);break;case 24:_o(c,d),m&2048&&up(d.alternate,d);break;default:_o(c,d)}o=o.sibling}}var No=8192;function el(r){if(r.subtreeFlags&No)for(r=r.child;r!==null;)Lx(r),r=r.sibling}function Lx(r){switch(r.tag){case 26:el(r),r.flags&No&&r.memoizedState!==null&&KE(Un,r.memoizedState,r.memoizedProps);break;case 5:el(r);break;case 3:case 4:var o=Un;Un=gc(r.stateNode.containerInfo),el(r),Un=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=No,No=16777216,el(r),No=o):el(r));break;default:el(r)}}function zx(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Bo(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];xe=d,Px(d,r)}zx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vx(r),r=r.sibling}function Vx(r){switch(r.tag){case 0:case 11:case 15:Bo(r),r.flags&2048&&ss(9,r,r.return);break;case 3:Bo(r);break;case 12:Bo(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,sc(r)):Bo(r);break;default:Bo(r)}}function sc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];xe=d,Px(d,r)}zx(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ss(8,o,o.return),sc(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,sc(o));break;default:sc(o)}r=r.sibling}}function Px(r,o){for(;xe!==null;){var c=xe;switch(c.tag){case 0:case 11:case 15:ss(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:go(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,xe=d;else t:for(c=r;xe!==null;){d=xe;var m=d.sibling,v=d.return;if(Dx(d),d===c){xe=null;break t}if(m!==null){m.return=v,xe=m;break t}xe=v}}}var cE={getCacheForType:function(r){var o=Ne(de),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},hE=typeof WeakMap=="function"?WeakMap:Map,zt=0,Gt=null,Mt=null,Et=0,Vt=0,fn=null,os=!1,nl=!1,cp=!1,Ni=0,ee=0,as=0,nr=0,hp=0,Dn=0,il=0,Lo=null,Ie=null,fp=!1,dp=0,rc=1/0,lc=null,us=null,Te=0,cs=null,sl=null,rl=0,pp=0,mp=null,Hx=null,zo=0,gp=null;function dn(){if((zt&2)!==0&&Et!==0)return Et&-Et;if(_.T!==null){var r=Gr;return r!==0?r:Ap()}return e1()}function qx(){Dn===0&&(Dn=(Et&536870912)===0||Lt?Qy():536870912);var r=kn.current;return r!==null&&(r.flags|=32),Dn}function pn(r,o,c){(r===Gt&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)&&(ll(r,0),hs(r,Et,Dn,!1)),Jl(r,c),((zt&2)===0||r!==Gt)&&(r===Gt&&((zt&2)===0&&(nr|=c),ee===4&&hs(r,Et,Dn,!1)),ei(r))}function Ux(r,o,c){if((zt&6)!==0)throw Error(i(327));var d=!c&&(o&124)===0&&(o&r.expiredLanes)===0||Zl(r,o),m=d?pE(r,o):xp(r,o,!0),v=d;do{if(m===0){nl&&!d&&hs(r,o,0,!1);break}else{if(c=r.current.alternate,v&&!fE(c)){m=xp(r,o,!1),v=!1;continue}if(m===2){if(v=o,r.errorRecoveryDisabledLanes&v)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;t:{var T=r;m=Lo;var R=T.current.memoizedState.isDehydrated;if(R&&(ll(T,S).flags|=256),S=xp(T,S,!1),S!==2){if(cp&&!R){T.errorRecoveryDisabledLanes|=v,nr|=v,m=4;break t}v=Ie,Ie=m,v!==null&&(Ie===null?Ie=v:Ie.push.apply(Ie,v))}m=S}if(v=!1,m!==2)continue}}if(m===1){ll(r,0),hs(r,o,0,!0);break}t:{switch(d=r,v=m,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:hs(d,o,Dn,!os);break t;case 2:Ie=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=dp+300-In(),10<m)){if(hs(d,o,Dn,!os),yu(d,0,!0)!==0)break t;d.timeoutHandle=gb(jx.bind(null,d,c,Ie,lc,fp,o,Dn,nr,il,os,v,2,-0,0),m);break t}jx(d,c,Ie,lc,fp,o,Dn,nr,il,os,v,0,-0,0)}}break}while(!0);ei(r)}function jx(r,o,c,d,m,v,S,T,R,q,G,I,U,j){if(r.timeoutHandle=-1,I=o.subtreeFlags,(I&8192||(I&16785408)===16785408)&&($o={stylesheets:null,count:0,unsuspend:FE},Lx(o),I=WE(),I!==null)){r.cancelPendingCommit=I(Wx.bind(null,r,o,v,c,d,m,S,T,R,G,1,U,j)),hs(r,v,S,!q);return}Wx(r,o,v,c,d,m,S,T,R)}function fE(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var m=c[d],v=m.getSnapshot;m=m.value;try{if(!an(v(),m))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function hs(r,o,c,d){o&=~hp,o&=~nr,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var m=o;0<m;){var v=31-on(m),S=1<<v;d[v]=-1,m&=~S}c!==0&&Jy(r,c,o)}function oc(){return(zt&6)===0?(Vo(0),!1):!0}function yp(){if(Mt!==null){if(Vt===0)var r=Mt.return;else r=Mt,Ti=Is=null,Bd(r),Zr=null,Mo=0,r=Mt;for(;r!==null;)Sx(r.alternate,r),r=r.return;Mt=null}}function ll(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,EE(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),yp(),Gt=r,Mt=c=wi(r.current,null),Et=o,Vt=0,fn=null,os=!1,nl=Zl(r,o),cp=!1,il=Dn=hp=nr=as=ee=0,Ie=Lo=null,fp=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var m=31-on(d),v=1<<m;o|=r[m],d&=~v}return Ni=o,Du(),c}function $x(r,o){Ot=null,_.H=Ku,o===vo||o===Pu?(o=lv(),Vt=3):o===iv?(o=lv(),Vt=4):Vt=o===ox?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,fn=o,Mt===null&&(ee=1,Ju(r,On(o,r.current)))}function Xx(){var r=_.H;return _.H=Ku,r===null?Ku:r}function Yx(){var r=_.A;return _.A=cE,r}function vp(){ee=4,os||(Et&4194048)!==Et&&kn.current!==null||(nl=!0),(as&134217727)===0&&(nr&134217727)===0||Gt===null||hs(Gt,Et,Dn,!1)}function xp(r,o,c){var d=zt;zt|=2;var m=Xx(),v=Yx();(Gt!==r||Et!==o)&&(lc=null,ll(r,o)),o=!1;var S=ee;t:do try{if(Vt!==0&&Mt!==null){var T=Mt,R=fn;switch(Vt){case 8:yp(),S=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(o=!0);var q=Vt;if(Vt=0,fn=null,ol(r,T,R,q),c&&nl){S=0;break t}break;default:q=Vt,Vt=0,fn=null,ol(r,T,R,q)}}dE(),S=ee;break}catch(G){$x(r,G)}while(!0);return o&&r.shellSuspendCounter++,Ti=Is=null,zt=d,_.H=m,_.A=v,Mt===null&&(Gt=null,Et=0,Du()),S}function dE(){for(;Mt!==null;)Gx(Mt)}function pE(r,o){var c=zt;zt|=2;var d=Xx(),m=Yx();Gt!==r||Et!==o?(lc=null,rc=In()+500,ll(r,o)):nl=Zl(r,o);t:do try{if(Vt!==0&&Mt!==null){o=Mt;var v=fn;e:switch(Vt){case 1:Vt=0,fn=null,ol(r,o,v,1);break;case 2:case 9:if(sv(v)){Vt=0,fn=null,Fx(o);break}o=function(){Vt!==2&&Vt!==9||Gt!==r||(Vt=7),ei(r)},v.then(o,o);break t;case 3:Vt=7;break t;case 4:Vt=5;break t;case 7:sv(v)?(Vt=0,fn=null,Fx(o)):(Vt=0,fn=null,ol(r,o,v,7));break;case 5:var S=null;switch(Mt.tag){case 26:S=Mt.memoizedState;case 5:case 27:var T=Mt;if(!S||kb(S)){Vt=0,fn=null;var R=T.sibling;if(R!==null)Mt=R;else{var q=T.return;q!==null?(Mt=q,ac(q)):Mt=null}break e}}Vt=0,fn=null,ol(r,o,v,5);break;case 6:Vt=0,fn=null,ol(r,o,v,6);break;case 8:yp(),ee=6;break t;default:throw Error(i(462))}}mE();break}catch(G){$x(r,G)}while(!0);return Ti=Is=null,_.H=d,_.A=m,zt=c,Mt!==null?0:(Gt=null,Et=0,Du(),ee)}function mE(){for(;Mt!==null&&!Vk();)Gx(Mt)}function Gx(r){var o=xx(r.alternate,r,Ni);r.memoizedProps=r.pendingProps,o===null?ac(r):Mt=o}function Fx(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=dx(c,o,o.pendingProps,o.type,void 0,Et);break;case 11:o=dx(c,o,o.pendingProps,o.type.render,o.ref,Et);break;case 5:Bd(o);default:Sx(c,o),o=Mt=K1(o,Ni),o=xx(c,o,Ni)}r.memoizedProps=r.pendingProps,o===null?ac(r):Mt=o}function ol(r,o,c,d){Ti=Is=null,Bd(o),Zr=null,Mo=0;var m=o.return;try{if(sE(r,m,o,c,Et)){ee=1,Ju(r,On(c,r.current)),Mt=null;return}}catch(v){if(m!==null)throw Mt=m,v;ee=1,Ju(r,On(c,r.current)),Mt=null;return}o.flags&32768?(Lt||d===1?r=!0:nl||(Et&536870912)!==0?r=!1:(os=r=!0,(d===2||d===9||d===3||d===6)&&(d=kn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Kx(o,r)):ac(o)}function ac(r){var o=r;do{if((o.flags&32768)!==0){Kx(o,os);return}r=o.return;var c=lE(o.alternate,o,Ni);if(c!==null){Mt=c;return}if(o=o.sibling,o!==null){Mt=o;return}Mt=o=r}while(o!==null);ee===0&&(ee=5)}function Kx(r,o){do{var c=oE(r.alternate,r);if(c!==null){c.flags&=32767,Mt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){Mt=r;return}Mt=r=c}while(r!==null);ee=6,Mt=null}function Wx(r,o,c,d,m,v,S,T,R){r.cancelPendingCommit=null;do uc();while(Te!==0);if((zt&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=ud,Fk(r,c,v,S,T,R),r===Gt&&(Mt=Gt=null,Et=0),sl=o,cs=r,rl=c,pp=v,mp=m,Hx=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,xE(pu,function(){return tb(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=_.T,_.T=null,m=H.p,H.p=2,S=zt,zt|=4;try{aE(r,o,c)}finally{zt=S,H.p=m,_.T=d}}Te=1,Ix(),Qx(),Zx()}}function Ix(){if(Te===1){Te=0;var r=cs,o=sl,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=_.T,_.T=null;var d=H.p;H.p=2;var m=zt;zt|=4;try{_x(o,r);var v=Rp,S=P1(r.containerInfo),T=v.focusedElem,R=v.selectionRange;if(S!==T&&T&&T.ownerDocument&&V1(T.ownerDocument.documentElement,T)){if(R!==null&&sd(T)){var q=R.start,G=R.end;if(G===void 0&&(G=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(G,T.value.length);else{var I=T.ownerDocument||document,U=I&&I.defaultView||window;if(U.getSelection){var j=U.getSelection(),bt=T.textContent.length,yt=Math.min(R.start,bt),Ut=R.end===void 0?yt:Math.min(R.end,bt);!j.extend&&yt>Ut&&(S=Ut,Ut=yt,yt=S);var V=z1(T,yt),N=z1(T,Ut);if(V&&N&&(j.rangeCount!==1||j.anchorNode!==V.node||j.anchorOffset!==V.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var P=I.createRange();P.setStart(V.node,V.offset),j.removeAllRanges(),yt>Ut?(j.addRange(P),j.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),j.addRange(P))}}}}for(I=[],j=T;j=j.parentNode;)j.nodeType===1&&I.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<I.length;T++){var F=I[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Sc=!!Ep,Rp=Ep=null}finally{zt=m,H.p=d,_.T=c}}r.current=o,Te=2}}function Qx(){if(Te===2){Te=0;var r=cs,o=sl,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=_.T,_.T=null;var d=H.p;H.p=2;var m=zt;zt|=4;try{kx(r,o.alternate,o)}finally{zt=m,H.p=d,_.T=c}}Te=3}}function Zx(){if(Te===4||Te===3){Te=0,Pk();var r=cs,o=sl,c=rl,d=Hx;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Te=5:(Te=0,sl=cs=null,Jx(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(us=null),Vf(c),o=o.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ql,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=_.T,m=H.p,H.p=2,_.T=null;try{for(var v=r.onRecoverableError,S=0;S<d.length;S++){var T=d[S];v(T.value,{componentStack:T.stack})}}finally{_.T=o,H.p=m}}(rl&3)!==0&&uc(),ei(r),m=r.pendingLanes,(c&4194090)!==0&&(m&42)!==0?r===gp?zo++:(zo=0,gp=r):zo=0,Vo(0)}}function Jx(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,go(o)))}function uc(r){return Ix(),Qx(),Zx(),tb()}function tb(){if(Te!==5)return!1;var r=cs,o=pp;pp=0;var c=Vf(rl),d=_.T,m=H.p;try{H.p=32>c?32:c,_.T=null,c=mp,mp=null;var v=cs,S=rl;if(Te=0,sl=cs=null,rl=0,(zt&6)!==0)throw Error(i(331));var T=zt;if(zt|=4,Vx(v.current),Bx(v,v.current,S,c),zt=T,Vo(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ql,v)}catch{}return!0}finally{H.p=m,_.T=d,Jx(r,o)}}function eb(r,o,c){o=On(c,o),o=Kd(r.stateNode,o,2),r=ts(r,o,2),r!==null&&(Jl(r,2),ei(r))}function jt(r,o,c){if(r.tag===3)eb(r,r,c);else for(;o!==null;){if(o.tag===3){eb(o,r,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(us===null||!us.has(d))){r=On(c,r),c=rx(2),d=ts(o,c,2),d!==null&&(lx(c,d,o,r),Jl(d,2),ei(d));break}}o=o.return}}function bp(r,o,c){var d=r.pingCache;if(d===null){d=r.pingCache=new hE;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(c)||(cp=!0,m.add(c),r=gE.bind(null,r,o,c),o.then(r,r))}function gE(r,o,c){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Gt===r&&(Et&c)===c&&(ee===4||ee===3&&(Et&62914560)===Et&&300>In()-dp?(zt&2)===0&&ll(r,0):hp|=c,il===Et&&(il=0)),ei(r)}function nb(r,o){o===0&&(o=Zy()),r=jr(r,o),r!==null&&(Jl(r,o),ei(r))}function yE(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),nb(r,c)}function vE(r,o){var c=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),nb(r,c)}function xE(r,o){return Nf(r,o)}var cc=null,al=null,Sp=!1,hc=!1,wp=!1,ir=0;function ei(r){r!==al&&r.next===null&&(al===null?cc=al=r:al=al.next=r),hc=!0,Sp||(Sp=!0,SE())}function Vo(r,o){if(!wp&&hc){wp=!0;do for(var c=!1,d=cc;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var v=0;else{var S=d.suspendedLanes,T=d.pingedLanes;v=(1<<31-on(42|r)+1)-1,v&=m&~(S&~T),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,lb(d,v))}else v=Et,v=yu(d,d===Gt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Zl(d,v)||(c=!0,lb(d,v));d=d.next}while(c);wp=!1}}function bE(){ib()}function ib(){hc=Sp=!1;var r=0;ir!==0&&(DE()&&(r=ir),ir=0);for(var o=In(),c=null,d=cc;d!==null;){var m=d.next,v=sb(d,o);v===0?(d.next=null,c===null?cc=m:c.next=m,m===null&&(al=c)):(c=d,(r!==0||(v&3)!==0)&&(hc=!0)),d=m}Vo(r)}function sb(r,o){for(var c=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var S=31-on(v),T=1<<S,R=m[S];R===-1?((T&c)===0||(T&d)!==0)&&(m[S]=Gk(T,o)):R<=o&&(r.expiredLanes|=T),v&=~T}if(o=Gt,c=Et,c=yu(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,c===0||r===o&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Bf(d),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Zl(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(d!==null&&Bf(d),Vf(c)){case 2:case 8:c=Wy;break;case 32:c=pu;break;case 268435456:c=Iy;break;default:c=pu}return d=rb.bind(null,r),c=Nf(c,d),r.callbackPriority=o,r.callbackNode=c,o}return d!==null&&d!==null&&Bf(d),r.callbackPriority=2,r.callbackNode=null,2}function rb(r,o){if(Te!==0&&Te!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(uc()&&r.callbackNode!==c)return null;var d=Et;return d=yu(r,r===Gt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Ux(r,d,o),sb(r,In()),r.callbackNode!=null&&r.callbackNode===c?rb.bind(null,r):null)}function lb(r,o){if(uc())return null;Ux(r,o,!0)}function SE(){RE(function(){(zt&6)!==0?Nf(Ky,bE):ib()})}function Ap(){return ir===0&&(ir=Qy()),ir}function ob(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:wu(""+r)}function ab(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function wE(r,o,c,d,m){if(o==="submit"&&c&&c.stateNode===m){var v=ob((m[Ge]||null).action),S=d.submitter;S&&(o=(o=S[Ge]||null)?ob(o.formAction):S.getAttribute("formAction"),o!==null&&(v=o,S=null));var T=new Cu("action","action",null,d,m);r.push({event:T,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ir!==0){var R=S?ab(m,S):new FormData(m);$d(c,{pending:!0,data:R,method:m.method,action:v},null,R)}}else typeof v=="function"&&(T.preventDefault(),R=S?ab(m,S):new FormData(m),$d(c,{pending:!0,data:R,method:m.method,action:v},v,R))},currentTarget:m}]})}}for(var Op=0;Op<ad.length;Op++){var Tp=ad[Op],AE=Tp.toLowerCase(),OE=Tp[0].toUpperCase()+Tp.slice(1);qn(AE,"on"+OE)}qn(U1,"onAnimationEnd"),qn(j1,"onAnimationIteration"),qn($1,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(UD,"onTransitionRun"),qn(jD,"onTransitionStart"),qn($D,"onTransitionCancel"),qn(X1,"onTransitionEnd"),_r("onMouseEnter",["mouseout","mouseover"]),_r("onMouseLeave",["mouseout","mouseover"]),_r("onPointerEnter",["pointerout","pointerover"]),_r("onPointerLeave",["pointerout","pointerover"]),Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Us("onBeforeInput",["compositionend","keypress","textInput","paste"]),Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function ub(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],m=d.event;d=d.listeners;t:{var v=void 0;if(o)for(var S=d.length-1;0<=S;S--){var T=d[S],R=T.instance,q=T.currentTarget;if(T=T.listener,R!==v&&m.isPropagationStopped())break t;v=T,m.currentTarget=q;try{v(m)}catch(G){Zu(G)}m.currentTarget=null,v=R}else for(S=0;S<d.length;S++){if(T=d[S],R=T.instance,q=T.currentTarget,T=T.listener,R!==v&&m.isPropagationStopped())break t;v=T,m.currentTarget=q;try{v(m)}catch(G){Zu(G)}m.currentTarget=null,v=R}}}}function kt(r,o){var c=o[Pf];c===void 0&&(c=o[Pf]=new Set);var d=r+"__bubble";c.has(d)||(cb(o,r,2,!1),c.add(d))}function Cp(r,o,c){var d=0;o&&(d|=4),cb(c,r,d,o)}var fc="_reactListening"+Math.random().toString(36).slice(2);function Mp(r){if(!r[fc]){r[fc]=!0,i1.forEach(function(c){c!=="selectionchange"&&(TE.has(c)||Cp(c,!1,r),Cp(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[fc]||(o[fc]=!0,Cp("selectionchange",!1,o))}}function cb(r,o,c,d){switch(Bb(o)){case 2:var m=ZE;break;case 8:m=JE;break;default:m=Up}c=m.bind(null,o,c,r),m=void 0,!Wf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(o,c,{capture:!0,passive:m}):r.addEventListener(o,c,!0):m!==void 0?r.addEventListener(o,c,{passive:m}):r.addEventListener(o,c,!1)}function kp(r,o,c,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var T=d.stateNode.containerInfo;if(T===m)break;if(S===4)for(S=d.return;S!==null;){var R=S.tag;if((R===3||R===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;T!==null;){if(S=Dr(T),S===null)return;if(R=S.tag,R===5||R===6||R===26||R===27){d=v=S;continue t}T=T.parentNode}}d=d.return}y1(function(){var q=v,G=Ff(c),I=[];t:{var U=Y1.get(r);if(U!==void 0){var j=Cu,bt=r;switch(r){case"keypress":if(Ou(c)===0)break t;case"keydown":case"keyup":j=xD;break;case"focusin":bt="focus",j=Jf;break;case"focusout":bt="blur",j=Jf;break;case"beforeblur":case"afterblur":j=Jf;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=b1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=oD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=wD;break;case U1:case j1:case $1:j=cD;break;case X1:j=OD;break;case"scroll":case"scrollend":j=rD;break;case"wheel":j=CD;break;case"copy":case"cut":case"paste":j=fD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=w1;break;case"toggle":case"beforetoggle":j=kD}var yt=(o&4)!==0,Ut=!yt&&(r==="scroll"||r==="scrollend"),V=yt?U!==null?U+"Capture":null:U;yt=[];for(var N=q,P;N!==null;){var F=N;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||V===null||(F=no(N,V),F!=null&&yt.push(Ho(N,F,P))),Ut)break;N=N.return}0<yt.length&&(U=new j(U,bt,null,c,G),I.push({event:U,listeners:yt}))}}if((o&7)===0){t:{if(U=r==="mouseover"||r==="pointerover",j=r==="mouseout"||r==="pointerout",U&&c!==Gf&&(bt=c.relatedTarget||c.fromElement)&&(Dr(bt)||bt[kr]))break t;if((j||U)&&(U=G.window===G?G:(U=G.ownerDocument)?U.defaultView||U.parentWindow:window,j?(bt=c.relatedTarget||c.toElement,j=q,bt=bt?Dr(bt):null,bt!==null&&(Ut=l(bt),yt=bt.tag,bt!==Ut||yt!==5&&yt!==27&&yt!==6)&&(bt=null)):(j=null,bt=q),j!==bt)){if(yt=b1,F="onMouseLeave",V="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(yt=w1,F="onPointerLeave",V="onPointerEnter",N="pointer"),Ut=j==null?U:eo(j),P=bt==null?U:eo(bt),U=new yt(F,N+"leave",j,c,G),U.target=Ut,U.relatedTarget=P,F=null,Dr(G)===q&&(yt=new yt(V,N+"enter",bt,c,G),yt.target=P,yt.relatedTarget=Ut,F=yt),Ut=F,j&&bt)e:{for(yt=j,V=bt,N=0,P=yt;P;P=ul(P))N++;for(P=0,F=V;F;F=ul(F))P++;for(;0<N-P;)yt=ul(yt),N--;for(;0<P-N;)V=ul(V),P--;for(;N--;){if(yt===V||V!==null&&yt===V.alternate)break e;yt=ul(yt),V=ul(V)}yt=null}else yt=null;j!==null&&hb(I,U,j,yt,!1),bt!==null&&Ut!==null&&hb(I,Ut,bt,yt,!0)}}t:{if(U=q?eo(q):window,j=U.nodeName&&U.nodeName.toLowerCase(),j==="select"||j==="input"&&U.type==="file")var ht=E1;else if(k1(U))if(R1)ht=PD;else{ht=zD;var Tt=LD}else j=U.nodeName,!j||j.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?q&&Yf(q.elementType)&&(ht=E1):ht=VD;if(ht&&(ht=ht(r,q))){D1(I,ht,c,G);break t}Tt&&Tt(r,U,q),r==="focusout"&&q&&U.type==="number"&&q.memoizedProps.value!=null&&Xf(U,"number",U.value)}switch(Tt=q?eo(q):window,r){case"focusin":(k1(Tt)||Tt.contentEditable==="true")&&(Hr=Tt,rd=q,co=null);break;case"focusout":co=rd=Hr=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,H1(I,c,G);break;case"selectionchange":if(qD)break;case"keydown":case"keyup":H1(I,c,G)}var pt;if(ed)t:{switch(r){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Pr?C1(r,c)&&(vt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(vt="onCompositionStart");vt&&(A1&&c.locale!=="ko"&&(Pr||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Pr&&(pt=v1()):(Ii=G,If="value"in Ii?Ii.value:Ii.textContent,Pr=!0)),Tt=dc(q,vt),0<Tt.length&&(vt=new S1(vt,r,null,c,G),I.push({event:vt,listeners:Tt}),pt?vt.data=pt:(pt=M1(c),pt!==null&&(vt.data=pt)))),(pt=ED?RD(r,c):_D(r,c))&&(vt=dc(q,"onBeforeInput"),0<vt.length&&(Tt=new S1("onBeforeInput","beforeinput",null,c,G),I.push({event:Tt,listeners:vt}),Tt.data=pt)),wE(I,r,q,c,G)}ub(I,o)})}function Ho(r,o,c){return{instance:r,listener:o,currentTarget:c}}function dc(r,o){for(var c=o+"Capture",d=[];r!==null;){var m=r,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=no(r,c),m!=null&&d.unshift(Ho(r,m,v)),m=no(r,o),m!=null&&d.push(Ho(r,m,v))),r.tag===3)return d;r=r.return}return[]}function ul(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function hb(r,o,c,d,m){for(var v=o._reactName,S=[];c!==null&&c!==d;){var T=c,R=T.alternate,q=T.stateNode;if(T=T.tag,R!==null&&R===d)break;T!==5&&T!==26&&T!==27||q===null||(R=q,m?(q=no(c,v),q!=null&&S.unshift(Ho(c,q,R))):m||(q=no(c,v),q!=null&&S.push(Ho(c,q,R)))),c=c.return}S.length!==0&&r.push({event:o,listeners:S})}var CE=/\r\n?/g,ME=/\u0000|\uFFFD/g;function fb(r){return(typeof r=="string"?r:""+r).replace(CE,`
`).replace(ME,"")}function db(r,o){return o=fb(o),fb(r)===o}function pc(){}function qt(r,o,c,d,m,v){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Lr(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Lr(r,""+d);break;case"className":xu(r,"class",d);break;case"tabIndex":xu(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":xu(r,c,d);break;case"style":m1(r,d,v);break;case"data":if(o!=="object"){xu(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=wu(""+d),r.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(o!=="input"&&qt(r,o,"name",m.name,m,null),qt(r,o,"formEncType",m.formEncType,m,null),qt(r,o,"formMethod",m.formMethod,m,null),qt(r,o,"formTarget",m.formTarget,m,null)):(qt(r,o,"encType",m.encType,m,null),qt(r,o,"method",m.method,m,null),qt(r,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=wu(""+d),r.setAttribute(c,d);break;case"onClick":d!=null&&(r.onclick=pc);break;case"onScroll":d!=null&&kt("scroll",r);break;case"onScrollEnd":d!=null&&kt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}c=wu(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""+d):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":d===!0?r.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,d):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(c,d):r.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(c):r.setAttribute(c,d);break;case"popover":kt("beforetoggle",r),kt("toggle",r),vu(r,"popover",d);break;case"xlinkActuate":bi(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":bi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":bi(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":bi(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":bi(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":bi(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":bi(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":bi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":bi(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":vu(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=iD.get(c)||c,vu(r,c,d))}}function Dp(r,o,c,d,m,v){switch(c){case"style":m1(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof d=="string"?Lr(r,d):(typeof d=="number"||typeof d=="bigint")&&Lr(r,""+d);break;case"onScroll":d!=null&&kt("scroll",r);break;case"onScrollEnd":d!=null&&kt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!s1.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),o=c.slice(2,m?c.length-7:void 0),v=r[Ge]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(o,v,m),typeof d=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,d,m);break t}c in r?r[c]=d:d===!0?r.setAttribute(c,""):vu(r,c,d)}}}function Ce(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",r),kt("load",r);var d=!1,m=!1,v;for(v in c)if(c.hasOwnProperty(v)){var S=c[v];if(S!=null)switch(v){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:qt(r,o,v,S,c,null)}}m&&qt(r,o,"srcSet",c.srcSet,c,null),d&&qt(r,o,"src",c.src,c,null);return;case"input":kt("invalid",r);var T=v=S=m=null,R=null,q=null;for(d in c)if(c.hasOwnProperty(d)){var G=c[d];if(G!=null)switch(d){case"name":m=G;break;case"type":S=G;break;case"checked":R=G;break;case"defaultChecked":q=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,o));break;default:qt(r,o,d,G,c,null)}}h1(r,v,T,R,q,S,m,!1),bu(r);return;case"select":kt("invalid",r),d=S=v=null;for(m in c)if(c.hasOwnProperty(m)&&(T=c[m],T!=null))switch(m){case"value":v=T;break;case"defaultValue":S=T;break;case"multiple":d=T;default:qt(r,o,m,T,c,null)}o=v,c=S,r.multiple=!!d,o!=null?Br(r,!!d,o,!1):c!=null&&Br(r,!!d,c,!0);return;case"textarea":kt("invalid",r),v=m=d=null;for(S in c)if(c.hasOwnProperty(S)&&(T=c[S],T!=null))switch(S){case"value":d=T;break;case"defaultValue":m=T;break;case"children":v=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:qt(r,o,S,T,c,null)}d1(r,d,m,v),bu(r);return;case"option":for(R in c)if(c.hasOwnProperty(R)&&(d=c[R],d!=null))switch(R){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:qt(r,o,R,d,c,null)}return;case"dialog":kt("beforetoggle",r),kt("toggle",r),kt("cancel",r),kt("close",r);break;case"iframe":case"object":kt("load",r);break;case"video":case"audio":for(d=0;d<Po.length;d++)kt(Po[d],r);break;case"image":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"embed":case"source":case"link":kt("error",r),kt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in c)if(c.hasOwnProperty(q)&&(d=c[q],d!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:qt(r,o,q,d,c,null)}return;default:if(Yf(o)){for(G in c)c.hasOwnProperty(G)&&(d=c[G],d!==void 0&&Dp(r,o,G,d,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(d=c[T],d!=null&&qt(r,o,T,d,c,null))}function kE(r,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,S=null,T=null,R=null,q=null,G=null;for(j in c){var I=c[j];if(c.hasOwnProperty(j)&&I!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=I;default:d.hasOwnProperty(j)||qt(r,o,j,null,d,I)}}for(var U in d){var j=d[U];if(I=c[U],d.hasOwnProperty(U)&&(j!=null||I!=null))switch(U){case"type":v=j;break;case"name":m=j;break;case"checked":q=j;break;case"defaultChecked":G=j;break;case"value":S=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,o));break;default:j!==I&&qt(r,o,U,j,d,I)}}$f(r,S,T,R,q,G,v,m);return;case"select":j=S=T=U=null;for(v in c)if(R=c[v],c.hasOwnProperty(v)&&R!=null)switch(v){case"value":break;case"multiple":j=R;default:d.hasOwnProperty(v)||qt(r,o,v,null,d,R)}for(m in d)if(v=d[m],R=c[m],d.hasOwnProperty(m)&&(v!=null||R!=null))switch(m){case"value":U=v;break;case"defaultValue":T=v;break;case"multiple":S=v;default:v!==R&&qt(r,o,m,v,d,R)}o=T,c=S,d=j,U!=null?Br(r,!!c,U,!1):!!d!=!!c&&(o!=null?Br(r,!!c,o,!0):Br(r,!!c,c?[]:"",!1));return;case"textarea":j=U=null;for(T in c)if(m=c[T],c.hasOwnProperty(T)&&m!=null&&!d.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:qt(r,o,T,null,d,m)}for(S in d)if(m=d[S],v=c[S],d.hasOwnProperty(S)&&(m!=null||v!=null))switch(S){case"value":U=m;break;case"defaultValue":j=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==v&&qt(r,o,S,m,d,v)}f1(r,U,j);return;case"option":for(var bt in c)if(U=c[bt],c.hasOwnProperty(bt)&&U!=null&&!d.hasOwnProperty(bt))switch(bt){case"selected":r.selected=!1;break;default:qt(r,o,bt,null,d,U)}for(R in d)if(U=d[R],j=c[R],d.hasOwnProperty(R)&&U!==j&&(U!=null||j!=null))switch(R){case"selected":r.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:qt(r,o,R,U,d,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in c)U=c[yt],c.hasOwnProperty(yt)&&U!=null&&!d.hasOwnProperty(yt)&&qt(r,o,yt,null,d,U);for(q in d)if(U=d[q],j=c[q],d.hasOwnProperty(q)&&U!==j&&(U!=null||j!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,o));break;default:qt(r,o,q,U,d,j)}return;default:if(Yf(o)){for(var Ut in c)U=c[Ut],c.hasOwnProperty(Ut)&&U!==void 0&&!d.hasOwnProperty(Ut)&&Dp(r,o,Ut,void 0,d,U);for(G in d)U=d[G],j=c[G],!d.hasOwnProperty(G)||U===j||U===void 0&&j===void 0||Dp(r,o,G,U,d,j);return}}for(var V in c)U=c[V],c.hasOwnProperty(V)&&U!=null&&!d.hasOwnProperty(V)&&qt(r,o,V,null,d,U);for(I in d)U=d[I],j=c[I],!d.hasOwnProperty(I)||U===j||U==null&&j==null||qt(r,o,I,U,d,j)}var Ep=null,Rp=null;function mc(r){return r.nodeType===9?r:r.ownerDocument}function pb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mb(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function _p(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Np=null;function DE(){var r=window.event;return r&&r.type==="popstate"?r===Np?!1:(Np=r,!0):(Np=null,!1)}var gb=typeof setTimeout=="function"?setTimeout:void 0,EE=typeof clearTimeout=="function"?clearTimeout:void 0,yb=typeof Promise=="function"?Promise:void 0,RE=typeof queueMicrotask=="function"?queueMicrotask:typeof yb<"u"?function(r){return yb.resolve(null).then(r).catch(_E)}:gb;function _E(r){setTimeout(function(){throw r})}function fs(r){return r==="head"}function vb(r,o){var c=o,d=0,m=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<d&&8>d){c=d;var S=r.ownerDocument;if(c&1&&qo(S.documentElement),c&2&&qo(S.body),c&4)for(c=S.head,qo(c),S=c.firstChild;S;){var T=S.nextSibling,R=S.nodeName;S[to]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=T}}if(m===0){r.removeChild(v),Ko(o);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:d=c.charCodeAt(0)-48;else d=0;c=v}while(c);Ko(o)}function Bp(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Bp(c),Hf(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function NE(r,o,c,d){for(;r.nodeType===1;){var m=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[to])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=jn(r.nextSibling),r===null)break}return null}function BE(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=jn(r.nextSibling),r===null))return null;return r}function Lp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function LE(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function jn(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var zp=null;function xb(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function bb(r,o,c){switch(o=mc(c),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function qo(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Hf(r)}var En=new Map,Sb=new Set;function gc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Bi=H.d;H.d={f:zE,r:VE,D:PE,C:HE,L:qE,m:UE,X:$E,S:jE,M:XE};function zE(){var r=Bi.f(),o=oc();return r||o}function VE(r){var o=Er(r);o!==null&&o.tag===5&&o.type==="form"?Uv(o):Bi.r(r)}var cl=typeof document>"u"?null:document;function wb(r,o,c){var d=cl;if(d&&typeof o=="string"&&o){var m=An(o);m='link[rel="'+r+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),Sb.has(m)||(Sb.add(m),r={rel:r,crossOrigin:c,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),Ce(o,"link",r),ye(o),d.head.appendChild(o)))}}function PE(r){Bi.D(r),wb("dns-prefetch",r,null)}function HE(r,o){Bi.C(r,o),wb("preconnect",r,o)}function qE(r,o,c){Bi.L(r,o,c);var d=cl;if(d&&r&&o){var m='link[rel="preload"][as="'+An(o)+'"]';o==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+An(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+An(c.imageSizes)+'"]')):m+='[href="'+An(r)+'"]';var v=m;switch(o){case"style":v=hl(r);break;case"script":v=fl(r)}En.has(v)||(r=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),En.set(v,r),d.querySelector(m)!==null||o==="style"&&d.querySelector(Uo(v))||o==="script"&&d.querySelector(jo(v))||(o=d.createElement("link"),Ce(o,"link",r),ye(o),d.head.appendChild(o)))}}function UE(r,o){Bi.m(r,o);var c=cl;if(c&&r){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+An(d)+'"][href="'+An(r)+'"]',v=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=fl(r)}if(!En.has(v)&&(r=p({rel:"modulepreload",href:r},o),En.set(v,r),c.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(jo(v)))return}d=c.createElement("link"),Ce(d,"link",r),ye(d),c.head.appendChild(d)}}}function jE(r,o,c){Bi.S(r,o,c);var d=cl;if(d&&r){var m=Rr(d).hoistableStyles,v=hl(r);o=o||"default";var S=m.get(v);if(!S){var T={loading:0,preload:null};if(S=d.querySelector(Uo(v)))T.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},c),(c=En.get(v))&&Vp(r,c);var R=S=d.createElement("link");ye(R),Ce(R,"link",r),R._p=new Promise(function(q,G){R.onload=q,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(S,o,d)}S={type:"stylesheet",instance:S,count:1,state:T},m.set(v,S)}}}function $E(r,o){Bi.X(r,o);var c=cl;if(c&&r){var d=Rr(c).hoistableScripts,m=fl(r),v=d.get(m);v||(v=c.querySelector(jo(m)),v||(r=p({src:r,async:!0},o),(o=En.get(m))&&Pp(r,o),v=c.createElement("script"),ye(v),Ce(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function XE(r,o){Bi.M(r,o);var c=cl;if(c&&r){var d=Rr(c).hoistableScripts,m=fl(r),v=d.get(m);v||(v=c.querySelector(jo(m)),v||(r=p({src:r,async:!0,type:"module"},o),(o=En.get(m))&&Pp(r,o),v=c.createElement("script"),ye(v),Ce(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function Ab(r,o,c,d){var m=(m=dt.current)?gc(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=hl(c.href),c=Rr(m).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=hl(c.href);var v=Rr(m).hoistableStyles,S=v.get(r);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,S),(v=m.querySelector(Uo(r)))&&!v._p&&(S.instance=v,S.state.loading=5),En.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},En.set(r,c),v||YE(m,r,c,S.state))),o&&d===null)throw Error(i(528,""));return S}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=fl(c),c=Rr(m).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function hl(r){return'href="'+An(r)+'"'}function Uo(r){return'link[rel="stylesheet"]['+r+"]"}function Ob(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function YE(r,o,c,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Ce(o,"link",c),ye(o),r.head.appendChild(o))}function fl(r){return'[src="'+An(r)+'"]'}function jo(r){return"script[async]"+r}function Tb(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+An(c.href)+'"]');if(d)return o.instance=d,ye(d),d;var m=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),ye(d),Ce(d,"style",m),yc(d,c.precedence,r),o.instance=d;case"stylesheet":m=hl(c.href);var v=r.querySelector(Uo(m));if(v)return o.state.loading|=4,o.instance=v,ye(v),v;d=Ob(c),(m=En.get(m))&&Vp(d,m),v=(r.ownerDocument||r).createElement("link"),ye(v);var S=v;return S._p=new Promise(function(T,R){S.onload=T,S.onerror=R}),Ce(v,"link",d),o.state.loading|=4,yc(v,c.precedence,r),o.instance=v;case"script":return v=fl(c.src),(m=r.querySelector(jo(v)))?(o.instance=m,ye(m),m):(d=c,(m=En.get(v))&&(d=p({},c),Pp(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),ye(m),Ce(m,"link",d),r.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,yc(d,c.precedence,r));return o.instance}function yc(r,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,v=m,S=0;S<d.length;S++){var T=d[S];if(T.dataset.precedence===o)v=T;else if(v!==m)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function Vp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Pp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var vc=null;function Cb(r,o,c){if(vc===null){var d=new Map,m=vc=new Map;m.set(c,d)}else m=vc,d=m.get(c),d||(d=new Map,m.set(c,d));if(d.has(r))return d;for(d.set(r,null),c=c.getElementsByTagName(r),m=0;m<c.length;m++){var v=c[m];if(!(v[to]||v[_e]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(o)||"";S=r+S;var T=d.get(S);T?T.push(v):d.set(S,[v])}}return d}function Mb(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function GE(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var $o=null;function FE(){}function KE(r,o,c){if($o===null)throw Error(i(475));var d=$o;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=hl(c.href),v=r.querySelector(Uo(m));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=xc.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=v,ye(v);return}v=r.ownerDocument||r,c=Ob(c),(m=En.get(m))&&Vp(c,m),v=v.createElement("link"),ye(v);var S=v;S._p=new Promise(function(T,R){S.onload=T,S.onerror=R}),Ce(v,"link",c),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=xc.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function WE(){if($o===null)throw Error(i(475));var r=$o;return r.stylesheets&&r.count===0&&Hp(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&Hp(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function xc(){if(this.count--,this.count===0){if(this.stylesheets)Hp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var bc=null;function Hp(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,bc=new Map,o.forEach(IE,r),bc=null,xc.call(r))}function IE(r,o){if(!(o.state.loading&4)){var c=bc.get(r);if(c)var d=c.get(null);else{c=new Map,bc.set(r,c);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var S=m[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),d=S)}d&&c.set(null,d)}m=o.instance,S=m.getAttribute("data-precedence"),v=c.get(S)||d,v===d&&c.set(null,m),c.set(S,m),this.count++,d=xc.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),v?v.parentNode.insertBefore(m,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),o.state.loading|=4}}var Xo={$$typeof:E,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function QE(r,o,c,d,m,v,S,T){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lf(0),this.hiddenUpdates=Lf(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Db(r,o,c,d,m,v,S,T,R,q,G,I){return r=new QE(r,o,c,S,T,R,q,I),o=1,v===!0&&(o|=24),v=un(3,null,null,o),r.current=v,v.stateNode=r,o=bd(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:o},Od(v),r}function Eb(r){return r?(r=$r,r):$r}function Rb(r,o,c,d,m,v){m=Eb(m),d.context===null?d.context=m:d.pendingContext=m,d=Ji(o),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=ts(r,d,o),c!==null&&(pn(c,r,o),bo(c,r,o))}function _b(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function qp(r,o){_b(r,o),(r=r.alternate)&&_b(r,o)}function Nb(r){if(r.tag===13){var o=jr(r,67108864);o!==null&&pn(o,r,67108864),qp(r,67108864)}}var Sc=!0;function ZE(r,o,c,d){var m=_.T;_.T=null;var v=H.p;try{H.p=2,Up(r,o,c,d)}finally{H.p=v,_.T=m}}function JE(r,o,c,d){var m=_.T;_.T=null;var v=H.p;try{H.p=8,Up(r,o,c,d)}finally{H.p=v,_.T=m}}function Up(r,o,c,d){if(Sc){var m=jp(d);if(m===null)kp(r,o,d,wc,c),Lb(r,d);else if(eR(m,r,o,c,d))d.stopPropagation();else if(Lb(r,d),o&4&&-1<tR.indexOf(r)){for(;m!==null;){var v=Er(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=qs(v.pendingLanes);if(S!==0){var T=v;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var R=1<<31-on(S);T.entanglements[1]|=R,S&=~R}ei(v),(zt&6)===0&&(rc=In()+500,Vo(0))}}break;case 13:T=jr(v,2),T!==null&&pn(T,v,2),oc(),qp(v,2)}if(v=jp(d),v===null&&kp(r,o,d,wc,c),v===m)break;m=v}m!==null&&d.stopPropagation()}else kp(r,o,d,null,c)}}function jp(r){return r=Ff(r),$p(r)}var wc=null;function $p(r){if(wc=null,r=Dr(r),r!==null){var o=l(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=a(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return wc=r,null}function Bb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hk()){case Ky:return 2;case Wy:return 8;case pu:case qk:return 32;case Iy:return 268435456;default:return 32}default:return 32}}var Xp=!1,ds=null,ps=null,ms=null,Yo=new Map,Go=new Map,gs=[],tR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lb(r,o){switch(r){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Yo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(o.pointerId)}}function Fo(r,o,c,d,m,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Er(o),o!==null&&Nb(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),r)}function eR(r,o,c,d,m){switch(o){case"focusin":return ds=Fo(ds,r,o,c,d,m),!0;case"dragenter":return ps=Fo(ps,r,o,c,d,m),!0;case"mouseover":return ms=Fo(ms,r,o,c,d,m),!0;case"pointerover":var v=m.pointerId;return Yo.set(v,Fo(Yo.get(v)||null,r,o,c,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Go.set(v,Fo(Go.get(v)||null,r,o,c,d,m)),!0}return!1}function zb(r){var o=Dr(r.target);if(o!==null){var c=l(o);if(c!==null){if(o=c.tag,o===13){if(o=a(c),o!==null){r.blockedOn=o,Kk(r.priority,function(){if(c.tag===13){var d=dn();d=zf(d);var m=jr(c,d);m!==null&&pn(m,c,d),qp(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ac(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=jp(r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);Gf=d,c.target.dispatchEvent(d),Gf=null}else return o=Er(c),o!==null&&Nb(o),r.blockedOn=c,!1;o.shift()}return!0}function Vb(r,o,c){Ac(r)&&c.delete(o)}function nR(){Xp=!1,ds!==null&&Ac(ds)&&(ds=null),ps!==null&&Ac(ps)&&(ps=null),ms!==null&&Ac(ms)&&(ms=null),Yo.forEach(Vb),Go.forEach(Vb)}function Oc(r,o){r.blockedOn===o&&(r.blockedOn=null,Xp||(Xp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nR)))}var Tc=null;function Pb(r){Tc!==r&&(Tc=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tc===r&&(Tc=null);for(var o=0;o<r.length;o+=3){var c=r[o],d=r[o+1],m=r[o+2];if(typeof d!="function"){if($p(d||c)===null)continue;break}var v=Er(c);v!==null&&(r.splice(o,3),o-=3,$d(v,{pending:!0,data:m,method:c.method,action:d},d,m))}}))}function Ko(r){function o(R){return Oc(R,r)}ds!==null&&Oc(ds,r),ps!==null&&Oc(ps,r),ms!==null&&Oc(ms,r),Yo.forEach(o),Go.forEach(o);for(var c=0;c<gs.length;c++){var d=gs[c];d.blockedOn===r&&(d.blockedOn=null)}for(;0<gs.length&&(c=gs[0],c.blockedOn===null);)zb(c),c.blockedOn===null&&gs.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var m=c[d],v=c[d+1],S=m[Ge]||null;if(typeof v=="function")S||Pb(c);else if(S){var T=null;if(v&&v.hasAttribute("formAction")){if(m=v,S=v[Ge]||null)T=S.formAction;else if($p(m)!==null)continue}else T=S.action;typeof T=="function"?c[d+1]=T:(c.splice(d,3),d-=3),Pb(c)}}}function Yp(r){this._internalRoot=r}Cc.prototype.render=Yp.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=dn();Rb(c,d,r,o,null,null)},Cc.prototype.unmount=Yp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Rb(r.current,2,null,r,null,null),oc(),o[kr]=null}};function Cc(r){this._internalRoot=r}Cc.prototype.unstable_scheduleHydration=function(r){if(r){var o=e1();r={blockedOn:null,target:r,priority:o};for(var c=0;c<gs.length&&o!==0&&o<gs[c].priority;c++);gs.splice(c,0,r),c===0&&zb(r)}};var Hb=t.version;if(Hb!=="19.1.0")throw Error(i(527,Hb,"19.1.0"));H.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var iR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Ql=Mc.inject(iR),ln=Mc}catch{}}return Io.createRoot=function(r,o){if(!s(r))throw Error(i(299));var c=!1,d="",m=ex,v=nx,S=ix,T=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(T=o.unstable_transitionCallbacks)),o=Db(r,1,!1,null,null,c,d,m,v,S,T,null),r[kr]=o.current,Mp(r),new Yp(o)},Io.hydrateRoot=function(r,o,c){if(!s(r))throw Error(i(299));var d=!1,m="",v=ex,S=nx,T=ix,R=null,q=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(R=c.unstable_transitionCallbacks),c.formState!==void 0&&(q=c.formState)),o=Db(r,1,!0,o,c??null,d,m,v,S,T,R,q),o.context=Eb(null),c=o.current,d=dn(),d=zf(d),m=Ji(d),m.callback=null,ts(c,m,d),c=d,o.current.lanes=c,Jl(o,c),ei(o),r[kr]=o.current,Mp(r),new Cc(o)},Io.version="19.1.0",Io}var Wb;function dR(){if(Wb)return Kp.exports;Wb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Kp.exports=fR(),Kp.exports}var pR=dR();/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gR=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),Ib=n=>{const t=gR(n);return t.charAt(0).toUpperCase()+t.slice(1)},_2=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),yR=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=ft.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:a,...u},h)=>ft.createElement("svg",{ref:h,...vR,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:_2("lucide",s),...!l&&!yR(u)&&{"aria-hidden":"true"},...u},[...a.map(([f,p])=>ft.createElement(f,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=(n,t)=>{const e=ft.forwardRef(({className:i,...s},l)=>ft.createElement(xR,{ref:l,iconNode:t,className:_2(`lucide-${mR(Ib(n))}`,`lucide-${n}`,i),...s}));return e.displayName=Ib(n),e};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],SR=Xl("code-xml",bR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],AR=Xl("git-branch",wR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],TR=Xl("github",OR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],MR=Xl("share-2",CR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],DR=Xl("sparkles",kR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RR=Xl("triangle-alert",ER);let Wm=[],N2=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=0,e=0;t<n.length;t++)(t%2?N2:Wm).push(e=e+n[t])})();function _R(n){if(n<768)return!1;for(let t=0,e=Wm.length;;){let i=t+e>>1;if(n<Wm[i])e=i;else if(n>=N2[i])t=i+1;else return!0;if(t==e)return!1}}function Qb(n){return n>=127462&&n<=127487}const Zb=8205;function NR(n,t,e=!0,i=!0){return(e?B2:BR)(n,t,i)}function B2(n,t,e){if(t==n.length)return t;t&&L2(n.charCodeAt(t))&&z2(n.charCodeAt(t-1))&&t--;let i=Zp(n,t);for(t+=Jb(i);t<n.length;){let s=Zp(n,t);if(i==Zb||s==Zb||e&&_R(s))t+=Jb(s),i=s;else if(Qb(s)){let l=0,a=t-2;for(;a>=0&&Qb(Zp(n,a));)l++,a-=2;if(l%2==0)break;t+=2}else break}return t}function BR(n,t,e){for(;t>0;){let i=B2(n,t-2,e);if(i<t)return i;t--}return 0}function Zp(n,t){let e=n.charCodeAt(t);if(!z2(e)||t+1==n.length)return e;let i=n.charCodeAt(t+1);return L2(i)?(e-55296<<10)+(i-56320)+65536:e}function L2(n){return n>=56320&&n<57344}function z2(n){return n>=55296&&n<56320}function Jb(n){return n<65536?1:2}class _t{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){[t,e]=Nl(this,t,e);let s=[];return this.decompose(0,t,s,2),i.length&&i.decompose(0,i.length,s,3),this.decompose(e,this.length,s,1),li.from(s,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=Nl(this,t,e);let i=[];return this.decompose(t,e,i,0),li.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),s=new da(this),l=new da(t);for(let a=e,u=e;;){if(s.next(a),l.next(a),a=0,s.lineBreak!=l.lineBreak||s.done!=l.done||s.value!=l.value)return!1;if(u+=s.value.length,s.done||u>=i)return!0}}iter(t=1){return new da(this,t)}iterRange(t,e=this.length){return new V2(this,t,e)}iterLines(t,e){let i;if(t==null)i=this.iter();else{e==null&&(e=this.lines+1);let s=this.line(t).from;i=this.iterRange(s,Math.max(s,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new P2(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?_t.empty:t.length<=32?new le(t):li.from(le.split(t,[]))}}class le extends _t{constructor(t,e=LR(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,s){for(let l=0;;l++){let a=this.text[l],u=s+a.length;if((e?i:u)>=t)return new zR(s,u,i,a);s=u+1,i++}}decompose(t,e,i,s){let l=t<=0&&e>=this.length?this:new le(tS(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(s&1){let a=i.pop(),u=lh(l.text,a.text.slice(),0,l.length);if(u.length<=32)i.push(new le(u,a.length+l.length));else{let h=u.length>>1;i.push(new le(u.slice(0,h)),new le(u.slice(h)))}}else i.push(l)}replace(t,e,i){if(!(i instanceof le))return super.replace(t,e,i);[t,e]=Nl(this,t,e);let s=lh(this.text,lh(i.text,tS(this.text,0,t)),e),l=this.length+i.length-(e-t);return s.length<=32?new le(s,l):li.from(le.split(s,[]),l)}sliceString(t,e=this.length,i=`
`){[t,e]=Nl(this,t,e);let s="";for(let l=0,a=0;l<=e&&a<this.text.length;a++){let u=this.text[a],h=l+u.length;l>t&&a&&(s+=i),t<h&&e>l&&(s+=u.slice(Math.max(0,t-l),e-l)),l=h+1}return s}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],s=-1;for(let l of t)i.push(l),s+=l.length+1,i.length==32&&(e.push(new le(i,s)),i=[],s=-1);return s>-1&&e.push(new le(i,s)),e}}class li extends _t{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let i of t)this.lines+=i.lines}lineInner(t,e,i,s){for(let l=0;;l++){let a=this.children[l],u=s+a.length,h=i+a.lines-1;if((e?h:u)>=t)return a.lineInner(t,e,i,s);s=u+1,i=h+1}}decompose(t,e,i,s){for(let l=0,a=0;a<=e&&l<this.children.length;l++){let u=this.children[l],h=a+u.length;if(t<=h&&e>=a){let f=s&((a<=t?1:0)|(h>=e?2:0));a>=t&&h<=e&&!f?i.push(u):u.decompose(t-a,e-a,i,f)}a=h+1}}replace(t,e,i){if([t,e]=Nl(this,t,e),i.lines<this.lines)for(let s=0,l=0;s<this.children.length;s++){let a=this.children[s],u=l+a.length;if(t>=l&&e<=u){let h=a.replace(t-l,e-l,i),f=this.lines-a.lines+h.lines;if(h.lines<f>>4&&h.lines>f>>6){let p=this.children.slice();return p[s]=h,new li(p,this.length-(e-t)+i.length)}return super.replace(l,u,h)}l=u+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i=`
`){[t,e]=Nl(this,t,e);let s="";for(let l=0,a=0;l<this.children.length&&a<=e;l++){let u=this.children[l],h=a+u.length;a>t&&l&&(s+=i),t<h&&e>a&&(s+=u.sliceString(t-a,e-a,i)),a=h+1}return s}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof li))return 0;let i=0,[s,l,a,u]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;s+=e,l+=e){if(s==a||l==u)return i;let h=this.children[s],f=t.children[l];if(h!=f)return i+h.scanIdentical(f,e);i+=h.length+1}}static from(t,e=t.reduce((i,s)=>i+s.length+1,-1)){let i=0;for(let x of t)i+=x.lines;if(i<32){let x=[];for(let b of t)b.flatten(x);return new le(x,e)}let s=Math.max(32,i>>5),l=s<<1,a=s>>1,u=[],h=0,f=-1,p=[];function g(x){let b;if(x.lines>l&&x instanceof li)for(let w of x.children)g(w);else x.lines>a&&(h>a||!h)?(y(),u.push(x)):x instanceof le&&h&&(b=p[p.length-1])instanceof le&&x.lines+b.lines<=32?(h+=x.lines,f+=x.length+1,p[p.length-1]=new le(b.text.concat(x.text),b.length+1+x.length)):(h+x.lines>s&&y(),h+=x.lines,f+=x.length+1,p.push(x))}function y(){h!=0&&(u.push(p.length==1?p[0]:li.from(p,f)),f=-1,h=p.length=0)}for(let x of t)g(x);return y(),u.length==1?u[0]:new li(u,e)}}_t.empty=new le([""],0);function LR(n){let t=-1;for(let e of n)t+=e.length+1;return t}function lh(n,t,e=0,i=1e9){for(let s=0,l=0,a=!0;l<n.length&&s<=i;l++){let u=n[l],h=s+u.length;h>=e&&(h>i&&(u=u.slice(0,i-s)),s<e&&(u=u.slice(e-s)),a?(t[t.length-1]+=u,a=!1):t.push(u)),s=h+1}return t}function tS(n,t,e){return lh(n,[""],t,e)}class da{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof le?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,s=this.nodes[i],l=this.offsets[i],a=l>>1,u=s instanceof le?s.text.length:s.children.length;if(a==(e>0?u:0)){if(i==0)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((l&1)==(e>0?0:1)){if(this.offsets[i]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(s instanceof le){let h=s.text[a+(e<0?-1:0)];if(this.offsets[i]+=e,h.length>Math.max(0,t))return this.value=t==0?h:e>0?h.slice(t):h.slice(0,h.length-t),this;t-=h.length}else{let h=s.children[a+(e<0?-1:0)];t>h.length?(t-=h.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(h),this.offsets.push(e>0?1:(h instanceof le?h.text.length:h.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class V2{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new da(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:s}=this.cursor.next(t);return this.pos+=(s.length+t)*e,this.value=s.length<=i?s:e<0?s.slice(s.length-i):s.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class P2{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:s}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(_t.prototype[Symbol.iterator]=function(){return this.iter()},da.prototype[Symbol.iterator]=V2.prototype[Symbol.iterator]=P2.prototype[Symbol.iterator]=function(){return this});class zR{constructor(t,e,i,s){this.from=t,this.to=e,this.number=i,this.text=s}get length(){return this.to-this.from}}function Nl(n,t,e){return t=Math.max(0,Math.min(n.length,t)),[t,Math.max(t,Math.min(n.length,e))]}function Ee(n,t,e=!0,i=!0){return NR(n,t,e,i)}function VR(n){return n>=56320&&n<57344}function PR(n){return n>=55296&&n<56320}function Qe(n,t){let e=n.charCodeAt(t);if(!PR(e)||t+1==n.length)return e;let i=n.charCodeAt(t+1);return VR(i)?(e-55296<<10)+(i-56320)+65536:e}function A0(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function oi(n){return n<65536?1:2}const Im=/\r\n?|\n/;var qe=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(qe||(qe={}));class hi{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,s=0;e<this.sections.length;){let l=this.sections[e++],a=this.sections[e++];a<0?(t(i,s,l),s+=l):s+=a,i+=l}}iterChangedRanges(t,e=!1){Qm(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],s=this.sections[e++];s<0?t.push(i,s):t.push(s,i)}return new hi(t)}composeDesc(t){return this.empty?t:t.empty?this:H2(this,t)}mapDesc(t,e=!1){return t.empty?this:Zm(this,t,e)}mapPos(t,e=-1,i=qe.Simple){let s=0,l=0;for(let a=0;a<this.sections.length;){let u=this.sections[a++],h=this.sections[a++],f=s+u;if(h<0){if(f>t)return l+(t-s);l+=u}else{if(i!=qe.Simple&&f>=t&&(i==qe.TrackDel&&s<t&&f>t||i==qe.TrackBefore&&s<t||i==qe.TrackAfter&&f>t))return null;if(f>t||f==t&&e<0&&!u)return t==s||e<0?l:l+h;l+=h}s=f}if(t>s)throw new RangeError(`Position ${t} is out of range for changeset of length ${s}`);return l}touchesRange(t,e=t){for(let i=0,s=0;i<this.sections.length&&s<=e;){let l=this.sections[i++],a=this.sections[i++],u=s+l;if(a>=0&&s<=e&&u>=t)return s<t&&u>e?"cover":!0;s=u}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],s=this.sections[e++];t+=(t?" ":"")+i+(s>=0?":"+s:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new hi(t)}static create(t){return new hi(t)}}class me extends hi{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return Qm(this,(e,i,s,l,a)=>t=t.replace(s,s+(i-e),a),!1),t}mapDesc(t,e=!1){return Zm(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let s=0,l=0;s<e.length;s+=2){let a=e[s],u=e[s+1];if(u>=0){e[s]=u,e[s+1]=a;let h=s>>1;for(;i.length<h;)i.push(_t.empty);i.push(a?t.slice(l,l+a):_t.empty)}l+=a}return new me(e,i)}compose(t){return this.empty?t:t.empty?this:H2(this,t,!0)}map(t,e=!1){return t.empty?this:Zm(this,t,e,!0)}iterChanges(t,e=!1){Qm(this,t,e)}get desc(){return hi.create(this.sections)}filter(t){let e=[],i=[],s=[],l=new Oa(this);t:for(let a=0,u=0;;){let h=a==t.length?1e9:t[a++];for(;u<h||u==h&&l.len==0;){if(l.done)break t;let p=Math.min(l.len,h-u);Le(s,p,-1);let g=l.ins==-1?-1:l.off==0?l.ins:0;Le(e,p,g),g>0&&As(i,e,l.text),l.forward(p),u+=p}let f=t[a++];for(;u<f;){if(l.done)break t;let p=Math.min(l.len,f-u);Le(e,p,-1),Le(s,p,l.ins==-1?-1:l.off==0?l.ins:0),l.forward(p),u+=p}}return{changes:new me(e,i),filtered:hi.create(s)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],s=this.sections[e+1];s<0?t.push(i):s==0?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let s=[],l=[],a=0,u=null;function h(p=!1){if(!p&&!s.length)return;a<e&&Le(s,e-a,-1);let g=new me(s,l);u=u?u.compose(g.map(u)):g,s=[],l=[],a=0}function f(p){if(Array.isArray(p))for(let g of p)f(g);else if(p instanceof me){if(p.length!=e)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${e})`);h(),u=u?u.compose(p.map(u)):p}else{let{from:g,to:y=g,insert:x}=p;if(g>y||g<0||y>e)throw new RangeError(`Invalid change range ${g} to ${y} (in doc of length ${e})`);let b=x?typeof x=="string"?_t.of(x.split(i||Im)):x:_t.empty,w=b.length;if(g==y&&w==0)return;g<a&&h(),g>a&&Le(s,g-a,-1),Le(s,y-g,w),As(l,s,b),a=y}}return f(t),h(!u),u}static empty(t){return new me(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let s=0;s<t.length;s++){let l=t[s];if(typeof l=="number")e.push(l,-1);else{if(!Array.isArray(l)||typeof l[0]!="number"||l.some((a,u)=>u&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(l.length==1)e.push(l[0],0);else{for(;i.length<s;)i.push(_t.empty);i[s]=_t.of(l.slice(1)),e.push(l[0],i[s].length)}}}return new me(e,i)}static createSet(t,e){return new me(t,e)}}function Le(n,t,e,i=!1){if(t==0&&e<=0)return;let s=n.length-2;s>=0&&e<=0&&e==n[s+1]?n[s]+=t:s>=0&&t==0&&n[s]==0?n[s+1]+=e:i?(n[s]+=t,n[s+1]+=e):n.push(t,e)}function As(n,t,e){if(e.length==0)return;let i=t.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(e);else{for(;n.length<i;)n.push(_t.empty);n.push(e)}}function Qm(n,t,e){let i=n.inserted;for(let s=0,l=0,a=0;a<n.sections.length;){let u=n.sections[a++],h=n.sections[a++];if(h<0)s+=u,l+=u;else{let f=s,p=l,g=_t.empty;for(;f+=u,p+=h,h&&i&&(g=g.append(i[a-2>>1])),!(e||a==n.sections.length||n.sections[a+1]<0);)u=n.sections[a++],h=n.sections[a++];t(s,f,l,p,g),s=f,l=p}}}function Zm(n,t,e,i=!1){let s=[],l=i?[]:null,a=new Oa(n),u=new Oa(t);for(let h=-1;;){if(a.done&&u.len||u.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&u.ins==-1){let f=Math.min(a.len,u.len);Le(s,f,-1),a.forward(f),u.forward(f)}else if(u.ins>=0&&(a.ins<0||h==a.i||a.off==0&&(u.len<a.len||u.len==a.len&&!e))){let f=u.len;for(Le(s,u.ins,-1);f;){let p=Math.min(a.len,f);a.ins>=0&&h<a.i&&a.len<=p&&(Le(s,0,a.ins),l&&As(l,s,a.text),h=a.i),a.forward(p),f-=p}u.next()}else if(a.ins>=0){let f=0,p=a.len;for(;p;)if(u.ins==-1){let g=Math.min(p,u.len);f+=g,p-=g,u.forward(g)}else if(u.ins==0&&u.len<p)p-=u.len,u.next();else break;Le(s,f,h<a.i?a.ins:0),l&&h<a.i&&As(l,s,a.text),h=a.i,a.forward(a.len-p)}else{if(a.done&&u.done)return l?me.createSet(s,l):hi.create(s);throw new Error("Mismatched change set lengths")}}}function H2(n,t,e=!1){let i=[],s=e?[]:null,l=new Oa(n),a=new Oa(t);for(let u=!1;;){if(l.done&&a.done)return s?me.createSet(i,s):hi.create(i);if(l.ins==0)Le(i,l.len,0,u),l.next();else if(a.len==0&&!a.done)Le(i,0,a.ins,u),s&&As(s,i,a.text),a.next();else{if(l.done||a.done)throw new Error("Mismatched change set lengths");{let h=Math.min(l.len2,a.len),f=i.length;if(l.ins==-1){let p=a.ins==-1?-1:a.off?0:a.ins;Le(i,h,p,u),s&&p&&As(s,i,a.text)}else a.ins==-1?(Le(i,l.off?0:l.len,h,u),s&&As(s,i,l.textBit(h))):(Le(i,l.off?0:l.len,a.off?0:a.ins,u),s&&!a.off&&As(s,i,a.text));u=(l.ins>h||a.ins>=0&&a.len>h)&&(u||i.length>f),l.forward2(h),a.forward(h)}}}}class Oa{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?_t.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?_t.empty:e[i].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class cr{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,e=-1){let i,s;return this.empty?i=s=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),s=t.mapPos(this.to,-1)),i==this.from&&s==this.to?this:new cr(i,s,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return W.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return W.range(this.anchor,i)}eq(t,e=!1){return this.anchor==t.anchor&&this.head==t.head&&(!e||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return W.range(t.anchor,t.head)}static create(t,e,i){return new cr(t,e,i)}}class W{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:W.create(this.ranges.map(i=>i.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(t.ranges[i],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new W([this.main],0)}addRange(t,e=!0){return W.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,W.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new W(t.ranges.map(e=>cr.fromJSON(e)),t.main)}static single(t,e=t){return new W([W.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,s=0;s<t.length;s++){let l=t[s];if(l.empty?l.from<=i:l.from<i)return W.normalized(t.slice(),e);i=l.to}return new W(t,e)}static cursor(t,e=0,i,s){return cr.create(t,t,(e==0?0:e<0?8:16)|(i==null?7:Math.min(6,i))|(s??16777215)<<6)}static range(t,e,i,s){let l=(i??16777215)<<6|(s==null?7:Math.min(6,s));return e<t?cr.create(e,t,48|l):cr.create(t,e,(e>t?8:0)|l)}static normalized(t,e=0){let i=t[e];t.sort((s,l)=>s.from-l.from),e=t.indexOf(i);for(let s=1;s<t.length;s++){let l=t[s],a=t[s-1];if(l.empty?l.from<=a.to:l.from<a.to){let u=a.from,h=Math.max(l.to,a.to);s<=e&&e--,t.splice(--s,2,l.anchor>l.head?W.range(h,u):W.range(u,h))}}return new W(t,e)}}function q2(n,t){for(let e of n.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let O0=0;class ut{constructor(t,e,i,s,l){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=s,this.id=O0++,this.default=t([]),this.extensions=typeof l=="function"?l(this):l}get reader(){return this}static define(t={}){return new ut(t.combine||(e=>e),t.compareInput||((e,i)=>e===i),t.compare||(t.combine?(e,i)=>e===i:T0),!!t.static,t.enables)}of(t){return new oh([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new oh(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new oh(t,this,2,e)}from(t,e){return e||(e=i=>i),this.compute([t],i=>e(i.field(t)))}}function T0(n,t){return n==t||n.length==t.length&&n.every((e,i)=>e===t[i])}class oh{constructor(t,e,i,s){this.dependencies=t,this.facet=e,this.type=i,this.value=s,this.id=O0++}dynamicSlot(t){var e;let i=this.value,s=this.facet.compareInput,l=this.id,a=t[l]>>1,u=this.type==2,h=!1,f=!1,p=[];for(let g of this.dependencies)g=="doc"?h=!0:g=="selection"?f=!0:(((e=t[g.id])!==null&&e!==void 0?e:1)&1)==0&&p.push(t[g.id]);return{create(g){return g.values[a]=i(g),1},update(g,y){if(h&&y.docChanged||f&&(y.docChanged||y.selection)||Jm(g,p)){let x=i(g);if(u?!eS(x,g.values[a],s):!s(x,g.values[a]))return g.values[a]=x,1}return 0},reconfigure:(g,y)=>{let x,b=y.config.address[l];if(b!=null){let w=Dh(y,b);if(this.dependencies.every(A=>A instanceof ut?y.facet(A)===g.facet(A):A instanceof Re?y.field(A,!1)==g.field(A,!1):!0)||(u?eS(x=i(g),w,s):s(x=i(g),w)))return g.values[a]=w,0}else x=i(g);return g.values[a]=x,1}}}}function eS(n,t,e){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(!e(n[i],t[i]))return!1;return!0}function Jm(n,t){let e=!1;for(let i of t)pa(n,i)&1&&(e=!0);return e}function HR(n,t,e){let i=e.map(h=>n[h.id]),s=e.map(h=>h.type),l=i.filter(h=>!(h&1)),a=n[t.id]>>1;function u(h){let f=[];for(let p=0;p<i.length;p++){let g=Dh(h,i[p]);if(s[p]==2)for(let y of g)f.push(y);else f.push(g)}return t.combine(f)}return{create(h){for(let f of i)pa(h,f);return h.values[a]=u(h),1},update(h,f){if(!Jm(h,l))return 0;let p=u(h);return t.compare(p,h.values[a])?0:(h.values[a]=p,1)},reconfigure(h,f){let p=Jm(h,i),g=f.config.facets[t.id],y=f.facet(t);if(g&&!p&&T0(e,g))return h.values[a]=y,0;let x=u(h);return t.compare(x,y)?(h.values[a]=y,0):(h.values[a]=x,1)}}}const kc=ut.define({static:!0});class Re{constructor(t,e,i,s,l){this.id=t,this.createF=e,this.updateF=i,this.compareF=s,this.spec=l,this.provides=void 0}static define(t){let e=new Re(O0++,t.create,t.update,t.compare||((i,s)=>i===s),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(kc).find(i=>i.field==this);return((e==null?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:i=>(i.values[e]=this.create(i),1),update:(i,s)=>{let l=i.values[e],a=this.updateF(l,s);return this.compareF(l,a)?0:(i.values[e]=a,1)},reconfigure:(i,s)=>{let l=i.facet(kc),a=s.facet(kc),u;return(u=l.find(h=>h.field==this))&&u!=a.find(h=>h.field==this)?(i.values[e]=u.create(i),1):s.config.address[this.id]!=null?(i.values[e]=s.field(this),0):(i.values[e]=this.create(i),1)}}}init(t){return[this,kc.of({field:this,create:t})]}get extension(){return this}}const ar={lowest:4,low:3,default:2,high:1,highest:0};function Qo(n){return t=>new U2(t,n)}const Mr={highest:Qo(ar.highest),high:Qo(ar.high),default:Qo(ar.default),low:Qo(ar.low),lowest:Qo(ar.lowest)};class U2{constructor(t,e){this.inner=t,this.prec=e}}class df{of(t){return new tg(this,t)}reconfigure(t){return df.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class tg{constructor(t,e){this.compartment=t,this.inner=e}}class kh{constructor(t,e,i,s,l,a){for(this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=s,this.staticValues=l,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let s=[],l=Object.create(null),a=new Map;for(let y of qR(t,e,a))y instanceof Re?s.push(y):(l[y.facet.id]||(l[y.facet.id]=[])).push(y);let u=Object.create(null),h=[],f=[];for(let y of s)u[y.id]=f.length<<1,f.push(x=>y.slot(x));let p=i==null?void 0:i.config.facets;for(let y in l){let x=l[y],b=x[0].facet,w=p&&p[y]||[];if(x.every(A=>A.type==0))if(u[b.id]=h.length<<1|1,T0(w,x))h.push(i.facet(b));else{let A=b.combine(x.map(O=>O.value));h.push(i&&b.compare(A,i.facet(b))?i.facet(b):A)}else{for(let A of x)A.type==0?(u[A.id]=h.length<<1|1,h.push(A.value)):(u[A.id]=f.length<<1,f.push(O=>A.dynamicSlot(O)));u[b.id]=f.length<<1,f.push(A=>HR(A,b,x))}}let g=f.map(y=>y(u));return new kh(t,a,g,u,h,l)}}function qR(n,t,e){let i=[[],[],[],[],[]],s=new Map;function l(a,u){let h=s.get(a);if(h!=null){if(h<=u)return;let f=i[h].indexOf(a);f>-1&&i[h].splice(f,1),a instanceof tg&&e.delete(a.compartment)}if(s.set(a,u),Array.isArray(a))for(let f of a)l(f,u);else if(a instanceof tg){if(e.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=t.get(a.compartment)||a.inner;e.set(a.compartment,f),l(f,u)}else if(a instanceof U2)l(a.inner,a.prec);else if(a instanceof Re)i[u].push(a),a.provides&&l(a.provides,u);else if(a instanceof oh)i[u].push(a),a.facet.extensions&&l(a.facet.extensions,ar.default);else{let f=a.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);l(f,u)}}return l(n,ar.default),i.reduce((a,u)=>a.concat(u))}function pa(n,t){if(t&1)return 2;let e=t>>1,i=n.status[e];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[e]=4;let s=n.computeSlot(n,n.config.dynamicSlots[e]);return n.status[e]=2|s}function Dh(n,t){return t&1?n.config.staticValues[t>>1]:n.values[t>>1]}const j2=ut.define(),eg=ut.define({combine:n=>n.some(t=>t),static:!0}),$2=ut.define({combine:n=>n.length?n[0]:void 0,static:!0}),X2=ut.define(),Y2=ut.define(),G2=ut.define(),F2=ut.define({combine:n=>n.length?n[0]:!1});class Fi{constructor(t,e){this.type=t,this.value=e}static define(){return new UR}}class UR{of(t){return new Fi(this,t)}}class jR{constructor(t){this.map=t}of(t){return new At(this,t)}}class At{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new At(this.type,e)}is(t){return this.type==t}static define(t={}){return new jR(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let s of t){let l=s.map(e);l&&i.push(l)}return i}}At.reconfigure=At.define();At.appendConfig=At.define();class ge{constructor(t,e,i,s,l,a){this.startState=t,this.changes=e,this.selection=i,this.effects=s,this.annotations=l,this.scrollIntoView=a,this._doc=null,this._state=null,i&&q2(i,e.newLength),l.some(u=>u.type==ge.time)||(this.annotations=l.concat(ge.time.of(Date.now())))}static create(t,e,i,s,l,a){return new ge(t,e,i,s,l,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(ge.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}}ge.time=Fi.define();ge.userEvent=Fi.define();ge.addToHistory=Fi.define();ge.remote=Fi.define();function $R(n,t){let e=[];for(let i=0,s=0;;){let l,a;if(i<n.length&&(s==t.length||t[s]>=n[i]))l=n[i++],a=n[i++];else if(s<t.length)l=t[s++],a=t[s++];else return e;!e.length||e[e.length-1]<l?e.push(l,a):e[e.length-1]<a&&(e[e.length-1]=a)}}function K2(n,t,e){var i;let s,l,a;return e?(s=t.changes,l=me.empty(t.changes.length),a=n.changes.compose(t.changes)):(s=t.changes.map(n.changes),l=n.changes.mapDesc(t.changes,!0),a=n.changes.compose(s)),{changes:a,selection:t.selection?t.selection.map(l):(i=n.selection)===null||i===void 0?void 0:i.map(s),effects:At.mapEffects(n.effects,s).concat(At.mapEffects(t.effects,l)),annotations:n.annotations.length?n.annotations.concat(t.annotations):t.annotations,scrollIntoView:n.scrollIntoView||t.scrollIntoView}}function ng(n,t,e){let i=t.selection,s=Tl(t.annotations);return t.userEvent&&(s=s.concat(ge.userEvent.of(t.userEvent))),{changes:t.changes instanceof me?t.changes:me.of(t.changes||[],e,n.facet($2)),selection:i&&(i instanceof W?i:W.single(i.anchor,i.head)),effects:Tl(t.effects),annotations:s,scrollIntoView:!!t.scrollIntoView}}function W2(n,t,e){let i=ng(n,t.length?t[0]:{},n.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let l=1;l<t.length;l++){t[l].filter===!1&&(e=!1);let a=!!t[l].sequential;i=K2(i,ng(n,t[l],a?i.changes.newLength:n.doc.length),a)}let s=ge.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return YR(e?XR(s):s)}function XR(n){let t=n.startState,e=!0;for(let s of t.facet(X2)){let l=s(n);if(l===!1){e=!1;break}Array.isArray(l)&&(e=e===!0?l:$R(e,l))}if(e!==!0){let s,l;if(e===!1)l=n.changes.invertedDesc,s=me.empty(t.doc.length);else{let a=n.changes.filter(e);s=a.changes,l=a.filtered.mapDesc(a.changes).invertedDesc}n=ge.create(t,s,n.selection&&n.selection.map(l),At.mapEffects(n.effects,l),n.annotations,n.scrollIntoView)}let i=t.facet(Y2);for(let s=i.length-1;s>=0;s--){let l=i[s](n);l instanceof ge?n=l:Array.isArray(l)&&l.length==1&&l[0]instanceof ge?n=l[0]:n=W2(t,Tl(l),!1)}return n}function YR(n){let t=n.startState,e=t.facet(G2),i=n;for(let s=e.length-1;s>=0;s--){let l=e[s](n);l&&Object.keys(l).length&&(i=K2(i,ng(t,l,n.changes.newLength),!0))}return i==n?n:ge.create(t,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const GR=[];function Tl(n){return n==null?GR:Array.isArray(n)?n:[n]}var It=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(It||(It={}));const FR=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ig;try{ig=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function KR(n){if(ig)return ig.test(n);for(let t=0;t<n.length;t++){let e=n[t];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||FR.test(e)))return!0}return!1}function WR(n){return t=>{if(!/\S/.test(t))return It.Space;if(KR(t))return It.Word;for(let e=0;e<n.length;e++)if(t.indexOf(n[e])>-1)return It.Word;return It.Other}}class Bt{constructor(t,e,i,s,l,a){this.config=t,this.doc=e,this.selection=i,this.values=s,this.status=t.statusTemplate.slice(),this.computeSlot=l,a&&(a._state=this);for(let u=0;u<this.config.dynamicSlots.length;u++)pa(this,u<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(i==null){if(e)throw new RangeError("Field is not present in this state");return}return pa(this,i),Dh(this,i)}update(...t){return W2(this,t,!0)}applyTransaction(t){let e=this.config,{base:i,compartments:s}=e;for(let u of t.effects)u.is(df.reconfigure)?(e&&(s=new Map,e.compartments.forEach((h,f)=>s.set(f,h)),e=null),s.set(u.value.compartment,u.value.extension)):u.is(At.reconfigure)?(e=null,i=u.value):u.is(At.appendConfig)&&(e=null,i=Tl(i).concat(u.value));let l;e?l=t.startState.values.slice():(e=kh.resolve(i,s,this),l=new Bt(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(h,f)=>f.reconfigure(h,this),null).values);let a=t.startState.facet(eg)?t.newSelection:t.newSelection.asSingle();new Bt(e,t.newDoc,a,l,(u,h)=>h.update(u,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:W.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),s=this.changes(i.changes),l=[i.range],a=Tl(i.effects);for(let u=1;u<e.ranges.length;u++){let h=t(e.ranges[u]),f=this.changes(h.changes),p=f.map(s);for(let y=0;y<u;y++)l[y]=l[y].map(p);let g=s.mapDesc(f,!0);l.push(h.range.map(g)),s=s.compose(p),a=At.mapEffects(a,p).concat(At.mapEffects(Tl(h.effects),g))}return{changes:s,selection:W.create(l,e.mainIndex),effects:a}}changes(t=[]){return t instanceof me?t:me.of(t,this.doc.length,this.facet(Bt.lineSeparator))}toText(t){return _t.of(t.split(this.facet(Bt.lineSeparator)||Im))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(pa(this,e),Dh(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let s=t[i];s instanceof Re&&this.config.address[s.id]!=null&&(e[i]=s.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i){for(let l in i)if(Object.prototype.hasOwnProperty.call(t,l)){let a=i[l],u=t[l];s.push(a.init(h=>a.spec.fromJSON(u,h)))}}return Bt.create({doc:t.doc,selection:W.fromJSON(t.selection),extensions:e.extensions?s.concat([e.extensions]):s})}static create(t={}){let e=kh.resolve(t.extensions||[],new Map),i=t.doc instanceof _t?t.doc:_t.of((t.doc||"").split(e.staticFacet(Bt.lineSeparator)||Im)),s=t.selection?t.selection instanceof W?t.selection:W.single(t.selection.anchor,t.selection.head):W.single(0);return q2(s,i.length),e.staticFacet(eg)||(s=s.asSingle()),new Bt(e,i,s,e.dynamicSlots.map(()=>null),(l,a)=>a.create(l),null)}get tabSize(){return this.facet(Bt.tabSize)}get lineBreak(){return this.facet(Bt.lineSeparator)||`
`}get readOnly(){return this.facet(F2)}phrase(t,...e){for(let i of this.facet(Bt.phrases))if(Object.prototype.hasOwnProperty.call(i,t)){t=i[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(i,s)=>{if(s=="$")return"$";let l=+(s||1);return!l||l>e.length?i:e[l-1]})),t}languageDataAt(t,e,i=-1){let s=[];for(let l of this.facet(j2))for(let a of l(this,e,i))Object.prototype.hasOwnProperty.call(a,t)&&s.push(a[t]);return s}charCategorizer(t){return WR(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:i,length:s}=this.doc.lineAt(t),l=this.charCategorizer(t),a=t-i,u=t-i;for(;a>0;){let h=Ee(e,a,!1);if(l(e.slice(h,a))!=It.Word)break;a=h}for(;u<s;){let h=Ee(e,u);if(l(e.slice(u,h))!=It.Word)break;u=h}return a==u?null:W.range(a+i,u+i)}}Bt.allowMultipleSelections=eg;Bt.tabSize=ut.define({combine:n=>n.length?n[0]:4});Bt.lineSeparator=$2;Bt.readOnly=F2;Bt.phrases=ut.define({compare(n,t){let e=Object.keys(n),i=Object.keys(t);return e.length==i.length&&e.every(s=>n[s]==t[s])}});Bt.languageData=j2;Bt.changeFilter=X2;Bt.transactionFilter=Y2;Bt.transactionExtender=G2;df.reconfigure=At.define();function yi(n,t,e={}){let i={};for(let s of n)for(let l of Object.keys(s)){let a=s[l],u=i[l];if(u===void 0)i[l]=a;else if(!(u===a||a===void 0))if(Object.hasOwnProperty.call(e,l))i[l]=e[l](u,a);else throw new Error("Config merge conflict for field "+l)}for(let s in t)i[s]===void 0&&(i[s]=t[s]);return i}class Sr{eq(t){return this==t}range(t,e=t){return sg.create(t,e,this)}}Sr.prototype.startSide=Sr.prototype.endSide=0;Sr.prototype.point=!1;Sr.prototype.mapMode=qe.TrackDel;let sg=class I2{constructor(t,e,i){this.from=t,this.to=e,this.value=i}static create(t,e,i){return new I2(t,e,i)}};function rg(n,t){return n.from-t.from||n.value.startSide-t.value.startSide}class C0{constructor(t,e,i,s){this.from=t,this.to=e,this.value=i,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,s=0){let l=i?this.to:this.from;for(let a=s,u=l.length;;){if(a==u)return a;let h=a+u>>1,f=l[h]-t||(i?this.value[h].endSide:this.value[h].startSide)-e;if(h==a)return f>=0?a:u;f>=0?u=h:a=h+1}}between(t,e,i,s){for(let l=this.findIndex(e,-1e9,!0),a=this.findIndex(i,1e9,!1,l);l<a;l++)if(s(this.from[l]+t,this.to[l]+t,this.value[l])===!1)return!1}map(t,e){let i=[],s=[],l=[],a=-1,u=-1;for(let h=0;h<this.value.length;h++){let f=this.value[h],p=this.from[h]+t,g=this.to[h]+t,y,x;if(p==g){let b=e.mapPos(p,f.startSide,f.mapMode);if(b==null||(y=x=b,f.startSide!=f.endSide&&(x=e.mapPos(p,f.endSide),x<y)))continue}else if(y=e.mapPos(p,f.startSide),x=e.mapPos(g,f.endSide),y>x||y==x&&f.startSide>0&&f.endSide<=0)continue;(x-y||f.endSide-f.startSide)<0||(a<0&&(a=y),f.point&&(u=Math.max(u,x-y)),i.push(f),s.push(y-a),l.push(x-a))}return{mapped:i.length?new C0(s,l,i,u):null,pos:a}}}class Rt{constructor(t,e,i,s){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=s}static create(t,e,i,s){return new Rt(t,e,i,s)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:s=0,filterTo:l=this.length}=t,a=t.filter;if(e.length==0&&!a)return this;if(i&&(e=e.slice().sort(rg)),this.isEmpty)return e.length?Rt.of(e):this;let u=new Q2(this,null,-1).goto(0),h=0,f=[],p=new Ui;for(;u.value||h<e.length;)if(h<e.length&&(u.from-e[h].from||u.startSide-e[h].value.startSide)>=0){let g=e[h++];p.addInner(g.from,g.to,g.value)||f.push(g)}else u.rangeIndex==1&&u.chunkIndex<this.chunk.length&&(h==e.length||this.chunkEnd(u.chunkIndex)<e[h].from)&&(!a||s>this.chunkEnd(u.chunkIndex)||l<this.chunkPos[u.chunkIndex])&&p.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!a||s>u.to||l<u.from||a(u.from,u.to,u.value))&&(p.addInner(u.from,u.to,u.value)||f.push(sg.create(u.from,u.to,u.value))),u.next());return p.finishInner(this.nextLayer.isEmpty&&!f.length?Rt.empty:this.nextLayer.update({add:f,filter:a,filterFrom:s,filterTo:l}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],s=-1;for(let a=0;a<this.chunk.length;a++){let u=this.chunkPos[a],h=this.chunk[a],f=t.touchesRange(u,u+h.length);if(f===!1)s=Math.max(s,h.maxPoint),e.push(h),i.push(t.mapPos(u));else if(f===!0){let{mapped:p,pos:g}=h.map(u,t);p&&(s=Math.max(s,p.maxPoint),e.push(p),i.push(g))}}let l=this.nextLayer.map(t);return e.length==0?l:new Rt(i,e,l||Rt.empty,s)}between(t,e,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s];if(e>=l&&t<=l+a.length&&a.between(l,t-l,e-l,i)===!1)return}this.nextLayer.between(t,e,i)}}iter(t=0){return Ta.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Ta.from(t).goto(e)}static compare(t,e,i,s,l=-1){let a=t.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=l),u=e.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=l),h=nS(a,u,i),f=new Zo(a,h,l),p=new Zo(u,h,l);i.iterGaps((g,y,x)=>iS(f,g,p,y,x,s)),i.empty&&i.length==0&&iS(f,0,p,0,0,s)}static eq(t,e,i=0,s){s==null&&(s=999999999);let l=t.filter(p=>!p.isEmpty&&e.indexOf(p)<0),a=e.filter(p=>!p.isEmpty&&t.indexOf(p)<0);if(l.length!=a.length)return!1;if(!l.length)return!0;let u=nS(l,a),h=new Zo(l,u,0).goto(i),f=new Zo(a,u,0).goto(i);for(;;){if(h.to!=f.to||!lg(h.active,f.active)||h.point&&(!f.point||!h.point.eq(f.point)))return!1;if(h.to>s)return!0;h.next(),f.next()}}static spans(t,e,i,s,l=-1){let a=new Zo(t,null,l).goto(e),u=e,h=a.openStart;for(;;){let f=Math.min(a.to,i);if(a.point){let p=a.activeForPoint(a.to),g=a.pointFrom<e?p.length+1:a.point.startSide<0?p.length:Math.min(p.length,h);s.point(u,f,a.point,p,g,a.pointRank),h=Math.min(a.openEnd(f),p.length)}else f>u&&(s.span(u,f,a.active,h),h=a.openEnd(f));if(a.to>i)return h+(a.point&&a.to>i?1:0);u=a.to,a.next()}}static of(t,e=!1){let i=new Ui;for(let s of t instanceof sg?[t]:e?IR(t):t)i.add(s.from,s.to,s.value);return i.finish()}static join(t){if(!t.length)return Rt.empty;let e=t[t.length-1];for(let i=t.length-2;i>=0;i--)for(let s=t[i];s!=Rt.empty;s=s.nextLayer)e=new Rt(s.chunkPos,s.chunk,e,Math.max(s.maxPoint,e.maxPoint));return e}}Rt.empty=new Rt([],[],null,-1);function IR(n){if(n.length>1)for(let t=n[0],e=1;e<n.length;e++){let i=n[e];if(rg(t,i)>0)return n.slice().sort(rg);t=i}return n}Rt.empty.nextLayer=Rt.empty;class Ui{finishChunk(t){this.chunks.push(new C0(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new Ui)).add(t,e,i)}addInner(t,e,i){let s=t-this.lastTo||i.startSide-this.last.endSide;if(s<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(Rt.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=Rt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function nS(n,t,e){let i=new Map;for(let l of n)for(let a=0;a<l.chunk.length;a++)l.chunk[a].maxPoint<=0&&i.set(l.chunk[a],l.chunkPos[a]);let s=new Set;for(let l of t)for(let a=0;a<l.chunk.length;a++){let u=i.get(l.chunk[a]);u!=null&&(e?e.mapPos(u):u)==l.chunkPos[a]&&!(e!=null&&e.touchesRange(u,u+l.chunk[a].length))&&s.add(l.chunk[a])}return s}class Q2{constructor(t,e,i,s=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<t||s.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Ta{constructor(t){this.heap=t}static from(t,e=null,i=-1){let s=[];for(let l=0;l<t.length;l++)for(let a=t[l];!a.isEmpty;a=a.nextLayer)a.maxPoint>=i&&s.push(new Q2(a,e,i,l));return s.length==1?s[0]:new Ta(s)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let i=this.heap.length>>1;i>=0;i--)Jp(this.heap,i);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let i=this.heap.length>>1;i>=0;i--)Jp(this.heap,i);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Jp(this.heap,0)}}}function Jp(n,t){for(let e=n[t];;){let i=(t<<1)+1;if(i>=n.length)break;let s=n[i];if(i+1<n.length&&s.compare(n[i+1])>=0&&(s=n[i+1],i++),e.compare(s)<0)break;n[i]=e,n[t]=s,t=i}}class Zo{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ta.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Dc(this.active,t),Dc(this.activeTo,t),Dc(this.activeRank,t),this.minActive=sS(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:s,rank:l}=this.cursor;for(;e<this.activeRank.length&&(l-this.activeRank[e]||s-this.activeTo[e])>0;)e++;Ec(this.active,e,i),Ec(this.activeTo,e,s),Ec(this.activeRank,e,l),t&&Ec(t,e,this.cursor.from),this.minActive=sS(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>t){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&Dc(i,s)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let l=this.cursor.value;if(!l.point)this.addActive(i),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let s=i.length-1;s>=0&&i[s]<t;s--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i]);return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}}function iS(n,t,e,i,s,l){n.goto(t),e.goto(i);let a=i+s,u=i,h=i-t;for(;;){let f=n.to+h-e.to,p=f||n.endSide-e.endSide,g=p<0?n.to+h:e.to,y=Math.min(g,a);if(n.point||e.point?n.point&&e.point&&(n.point==e.point||n.point.eq(e.point))&&lg(n.activeForPoint(n.to),e.activeForPoint(e.to))||l.comparePoint(u,y,n.point,e.point):y>u&&!lg(n.active,e.active)&&l.compareRange(u,y,n.active,e.active),g>a)break;(f||n.openEnd!=e.openEnd)&&l.boundChange&&l.boundChange(g),u=g,p<=0&&n.next(),p>=0&&e.next()}}function lg(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!=t[e]&&!n[e].eq(t[e]))return!1;return!0}function Dc(n,t){for(let e=t,i=n.length-1;e<i;e++)n[e]=n[e+1];n.pop()}function Ec(n,t,e){for(let i=n.length-1;i>=t;i--)n[i+1]=n[i];n[t]=e}function sS(n,t){let e=-1,i=1e9;for(let s=0;s<t.length;s++)(t[s]-i||n[s].endSide-n[e].endSide)<0&&(e=s,i=t[s]);return e}function Yl(n,t,e=n.length){let i=0;for(let s=0;s<e&&s<n.length;)n.charCodeAt(s)==9?(i+=t-i%t,s++):(i++,s=Ee(n,s));return i}function og(n,t,e,i){for(let s=0,l=0;;){if(l>=t)return s;if(s==n.length)break;l+=n.charCodeAt(s)==9?e-l%e:1,s=Ee(n,s)}return i===!0?-1:n.length}const ag="",rS=typeof Symbol>"u"?"__"+ag:Symbol.for(ag),ug=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),lS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ds{constructor(t,e){this.rules=[];let{finish:i}=e||{};function s(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function l(a,u,h,f){let p=[],g=/^@(\w+)\b/.exec(a[0]),y=g&&g[1]=="keyframes";if(g&&u==null)return h.push(a[0]+";");for(let x in u){let b=u[x];if(/&/.test(x))l(x.split(/,\s*/).map(w=>a.map(A=>w.replace(/&/,A))).reduce((w,A)=>w.concat(A)),b,h);else if(b&&typeof b=="object"){if(!g)throw new RangeError("The value of a property ("+x+") should be a primitive value.");l(s(x),b,p,y)}else b!=null&&p.push(x.replace(/_.*/,"").replace(/[A-Z]/g,w=>"-"+w.toLowerCase())+": "+b+";")}(p.length||y)&&h.push((i&&!g&&!f?a.map(i):a).join(", ")+" {"+p.join(" ")+"}")}for(let a in t)l(s(a),t[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=lS[rS]||1;return lS[rS]=t+1,ag+t.toString(36)}static mount(t,e,i){let s=t[ug],l=i&&i.nonce;s?l&&s.setNonce(l):s=new QR(t,l),s.mount(Array.isArray(e)?e:[e],t)}}let oS=new Map;class QR{constructor(t,e){let i=t.ownerDocument||t,s=i.defaultView;if(!t.head&&t.adoptedStyleSheets&&s.CSSStyleSheet){let l=oS.get(i);if(l)return t[ug]=l;this.sheet=new s.CSSStyleSheet,oS.set(i,this)}else this.styleTag=i.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[ug]=this}mount(t,e){let i=this.sheet,s=0,l=0;for(let a=0;a<t.length;a++){let u=t[a],h=this.modules.indexOf(u);if(h<l&&h>-1&&(this.modules.splice(h,1),l--,h=-1),h==-1){if(this.modules.splice(l++,0,u),i)for(let f=0;f<u.rules.length;f++)i.insertRule(u.rules[f],s++)}else{for(;l<h;)s+=this.modules[l++].rules.length;s+=u.rules.length,l++}}if(i)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let a="";for(let h=0;h<this.modules.length;h++)a+=this.modules[h].getRules()+`
`;this.styleTag.textContent=a;let u=e.head||e;this.styleTag.parentNode!=u&&u.insertBefore(this.styleTag,u.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var Es={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ca={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ZR=typeof navigator<"u"&&/Mac/.test(navigator.platform),JR=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var De=0;De<10;De++)Es[48+De]=Es[96+De]=String(De);for(var De=1;De<=24;De++)Es[De+111]="F"+De;for(var De=65;De<=90;De++)Es[De]=String.fromCharCode(De+32),Ca[De]=String.fromCharCode(De);for(var tm in Es)Ca.hasOwnProperty(tm)||(Ca[tm]=Es[tm]);function t_(n){var t=ZR&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||JR&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",e=!t&&n.key||(n.shiftKey?Ca:Es)[n.keyCode]||n.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}function $t(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var t=1,e=arguments[1];if(e&&typeof e=="object"&&e.nodeType==null&&!Array.isArray(e)){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s=="string"?n.setAttribute(i,s):s!=null&&(n[i]=s)}t++}for(;t<arguments.length;t++)Z2(n,arguments[t]);return n}function Z2(n,t){if(typeof t=="string")n.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)n.appendChild(t);else if(Array.isArray(t))for(var e=0;e<t.length;e++)Z2(n,t[e]);else throw new RangeError("Unsupported child node: "+t)}function Ma(n){let t;return n.nodeType==11?t=n.getSelection?n:n.ownerDocument:t=n,t.getSelection()}function cg(n,t){return t?n==t||n.contains(t.nodeType!=1?t.parentNode:t):!1}function ah(n,t){if(!t.anchorNode)return!1;try{return cg(n,t.anchorNode)}catch{return!1}}function ka(n){return n.nodeType==3?Ar(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function ma(n,t,e,i){return e?aS(n,t,e,i,-1)||aS(n,t,e,i,1):!1}function wr(n){for(var t=0;;t++)if(n=n.previousSibling,!n)return t}function Eh(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function aS(n,t,e,i,s){for(;;){if(n==e&&t==i)return!0;if(t==(s<0?0:gi(n))){if(n.nodeName=="DIV")return!1;let l=n.parentNode;if(!l||l.nodeType!=1)return!1;t=wr(n)+(s<0?0:1),n=l}else if(n.nodeType==1){if(n=n.childNodes[t+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;t=s<0?gi(n):0}else return!1}}function gi(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function pf(n,t){let e=t?n.left:n.right;return{left:e,right:e,top:n.top,bottom:n.bottom}}function e_(n){let t=n.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function J2(n,t){let e=t.width/n.offsetWidth,i=t.height/n.offsetHeight;return(e>.995&&e<1.005||!isFinite(e)||Math.abs(t.width-n.offsetWidth)<1)&&(e=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(t.height-n.offsetHeight)<1)&&(i=1),{scaleX:e,scaleY:i}}function n_(n,t,e,i,s,l,a,u){let h=n.ownerDocument,f=h.defaultView||window;for(let p=n,g=!1;p&&!g;)if(p.nodeType==1){let y,x=p==h.body,b=1,w=1;if(x)y=e_(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(g=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let C=p.getBoundingClientRect();({scaleX:b,scaleY:w}=J2(p,C)),y={left:C.left,right:C.left+p.clientWidth*b,top:C.top,bottom:C.top+p.clientHeight*w}}let A=0,O=0;if(s=="nearest")t.top<y.top?(O=t.top-(y.top+a),e>0&&t.bottom>y.bottom+O&&(O=t.bottom-y.bottom+a)):t.bottom>y.bottom&&(O=t.bottom-y.bottom+a,e<0&&t.top-O<y.top&&(O=t.top-(y.top+a)));else{let C=t.bottom-t.top,E=y.bottom-y.top;O=(s=="center"&&C<=E?t.top+C/2-E/2:s=="start"||s=="center"&&e<0?t.top-a:t.bottom-E+a)-y.top}if(i=="nearest"?t.left<y.left?(A=t.left-(y.left+l),e>0&&t.right>y.right+A&&(A=t.right-y.right+l)):t.right>y.right&&(A=t.right-y.right+l,e<0&&t.left<y.left+A&&(A=t.left-(y.left+l))):A=(i=="center"?t.left+(t.right-t.left)/2-(y.right-y.left)/2:i=="start"==u?t.left-l:t.right-(y.right-y.left)+l)-y.left,A||O)if(x)f.scrollBy(A,O);else{let C=0,E=0;if(O){let M=p.scrollTop;p.scrollTop+=O/w,E=(p.scrollTop-M)*w}if(A){let M=p.scrollLeft;p.scrollLeft+=A/b,C=(p.scrollLeft-M)*b}t={left:t.left-C,top:t.top-E,right:t.right-C,bottom:t.bottom-E},C&&Math.abs(C-A)<1&&(i="nearest"),E&&Math.abs(E-O)<1&&(s="nearest")}if(x)break;(t.top<y.top||t.bottom>y.bottom||t.left<y.left||t.right>y.right)&&(t={left:Math.max(t.left,y.left),right:Math.min(t.right,y.right),top:Math.max(t.top,y.top),bottom:Math.min(t.bottom,y.bottom)}),p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function i_(n){let t=n.ownerDocument,e,i;for(let s=n.parentNode;s&&!(s==t.body||e&&i);)if(s.nodeType==1)!i&&s.scrollHeight>s.clientHeight&&(i=s),!e&&s.scrollWidth>s.clientWidth&&(e=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:e,y:i}}class s_{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:i}=t;this.set(e,Math.min(t.anchorOffset,e?gi(e):0),i,Math.min(t.focusOffset,i?gi(i):0))}set(t,e,i,s){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=s}}let dl=null;function tO(n){if(n.setActive)return n.setActive();if(dl)return n.focus(dl);let t=[];for(let e=n;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(n.focus(dl==null?{get preventScroll(){return dl={preventScroll:!0},!0}}:void 0),!dl){dl=!1;for(let e=0;e<t.length;){let i=t[e++],s=t[e++],l=t[e++];i.scrollTop!=s&&(i.scrollTop=s),i.scrollLeft!=l&&(i.scrollLeft=l)}}}let uS;function Ar(n,t,e=t){let i=uS||(uS=document.createRange());return i.setEnd(n,e),i.setStart(n,t),i}function Cl(n,t,e,i){let s={key:t,code:t,keyCode:e,which:e,cancelable:!0};i&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=i);let l=new KeyboardEvent("keydown",s);l.synthetic=!0,n.dispatchEvent(l);let a=new KeyboardEvent("keyup",s);return a.synthetic=!0,n.dispatchEvent(a),l.defaultPrevented||a.defaultPrevented}function r_(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function eO(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function l_(n,t){let e=t.focusNode,i=t.focusOffset;if(!e||t.anchorNode!=e||t.anchorOffset!=i)return!1;for(i=Math.min(i,gi(e));;)if(i){if(e.nodeType!=1)return!1;let s=e.childNodes[i-1];s.contentEditable=="false"?i--:(e=s,i=gi(e))}else{if(e==n)return!0;i=wr(e),e=e.parentNode}}function nO(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function iO(n,t){for(let e=n,i=t;;){if(e.nodeType==3&&i>0)return{node:e,offset:i};if(e.nodeType==1&&i>0){if(e.contentEditable=="false")return null;e=e.childNodes[i-1],i=gi(e)}else if(e.parentNode&&!Eh(e))i=wr(e),e=e.parentNode;else return null}}function sO(n,t){for(let e=n,i=t;;){if(e.nodeType==3&&i<e.nodeValue.length)return{node:e,offset:i};if(e.nodeType==1&&i<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[i],i=0}else if(e.parentNode&&!Eh(e))i=wr(e)+1,e=e.parentNode;else return null}}class ze{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new ze(t.parentNode,wr(t),e)}static after(t,e){return new ze(t.parentNode,wr(t)+1,e)}}const M0=[];class Yt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(this.flags&2){let i=this.dom,s=null,l;for(let a of this.children){if(a.flags&7){if(!a.dom&&(l=s?s.nextSibling:i.firstChild)){let u=Yt.get(l);(!u||!u.parent&&u.canReuseDOM(a))&&a.reuseDOM(l)}a.sync(t,e),a.flags&=-8}if(l=s?s.nextSibling:i.firstChild,e&&!e.written&&e.node==i&&l!=a.dom&&(e.written=!0),a.dom.parentNode==i)for(;l&&l!=a.dom;)l=cS(l);else i.insertBefore(a.dom,l);s=a.dom}for(l=s?s.nextSibling:i.firstChild,l&&e&&e.node==i&&(e.written=!0);l;)l=cS(l)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(t,e),i.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let s=gi(t)==0?0:e==0?-1:1;for(;;){let l=t.parentNode;if(l==this.dom)break;s==0&&l.firstChild!=l.lastChild&&(t==l.firstChild?s=-1:s=1),t=l}s<0?i=t:i=t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Yt.get(i);)i=i.nextSibling;if(!i)return this.length;for(let s=0,l=0;;s++){let a=this.children[s];if(a.dom==i)return l;l+=a.length+a.breakAfter}}domBoundsAround(t,e,i=0){let s=-1,l=-1,a=-1,u=-1;for(let h=0,f=i,p=i;h<this.children.length;h++){let g=this.children[h],y=f+g.length;if(f<t&&y>e)return g.domBoundsAround(t,e,f);if(y>=t&&s==-1&&(s=h,l=f),f>e&&g.dom.parentNode==this.dom){a=h,u=p;break}p=y,f=y+g.breakAfter}return{from:l,to:u<0?i+this.length:u,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),e.flags&1)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.flags&7&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=M0){this.markDirty();for(let s=t;s<e;s++){let l=this.children[s];l.parent==this&&i.indexOf(l)<0&&l.destroy()}i.length<250?this.children.splice(t,e-t,...i):this.children=[].concat(this.children.slice(0,t),i,this.children.slice(e));for(let s=0;s<i.length;s++)i[s].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new rO(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,i,s,l,a){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!((this.flags|t.flags)&8)}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}Yt.prototype.breakAfter=0;function cS(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}class rO{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function lO(n,t,e,i,s,l,a,u,h){let{children:f}=n,p=f.length?f[t]:null,g=l.length?l[l.length-1]:null,y=g?g.breakAfter:a;if(!(t==i&&p&&!a&&!y&&l.length<2&&p.merge(e,s,l.length?g:null,e==0,u,h))){if(i<f.length){let x=f[i];x&&(s<x.length||x.breakAfter&&(g!=null&&g.breakAfter))?(t==i&&(x=x.split(s),s=0),!y&&g&&x.merge(0,s,g,!0,0,h)?l[l.length-1]=x:((s||x.children.length&&!x.children[0].length)&&x.merge(0,s,null,!1,0,h),l.push(x))):x!=null&&x.breakAfter&&(g?g.breakAfter=1:a=1),i++}for(p&&(p.breakAfter=a,e>0&&(!a&&l.length&&p.merge(e,p.length,l[0],!1,u,0)?p.breakAfter=l.shift().breakAfter:(e<p.length||p.children.length&&p.children[p.children.length-1].length==0)&&p.merge(e,p.length,null,!1,u,0),t++));t<i&&l.length;)if(f[i-1].become(l[l.length-1]))i--,l.pop(),h=l.length?0:u;else if(f[t].become(l[0]))t++,l.shift(),u=l.length?0:h;else break;!l.length&&t&&i<f.length&&!f[t-1].breakAfter&&f[i].merge(0,0,f[t-1],!1,u,h)&&t--,(t<i||l.length)&&n.replaceChildren(t,i,l)}}function oO(n,t,e,i,s,l){let a=n.childCursor(),{i:u,off:h}=a.findPos(e,1),{i:f,off:p}=a.findPos(t,-1),g=t-e;for(let y of i)g+=y.length;n.length+=g,lO(n,f,p,u,h,i,0,s,l)}let Ze=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},hg=typeof document<"u"?document:{documentElement:{style:{}}};const fg=/Edge\/(\d+)/.exec(Ze.userAgent),aO=/MSIE \d/.test(Ze.userAgent),dg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ze.userAgent),mf=!!(aO||dg||fg),hS=!mf&&/gecko\/(\d+)/i.test(Ze.userAgent),em=!mf&&/Chrome\/(\d+)/.exec(Ze.userAgent),o_="webkitFontSmoothing"in hg.documentElement.style,uO=!mf&&/Apple Computer/.test(Ze.vendor),fS=uO&&(/Mobile\/\w+/.test(Ze.userAgent)||Ze.maxTouchPoints>2);var ct={mac:fS||/Mac/.test(Ze.platform),windows:/Win/.test(Ze.platform),linux:/Linux|X11/.test(Ze.platform),ie:mf,ie_version:aO?hg.documentMode||6:dg?+dg[1]:fg?+fg[1]:0,gecko:hS,gecko_version:hS?+(/Firefox\/(\d+)/.exec(Ze.userAgent)||[0,0])[1]:0,chrome:!!em,chrome_version:em?+em[1]:0,ios:fS,android:/Android\b/.test(Ze.userAgent),safari:uO,webkit_version:o_?+(/\bAppleWebKit\/(\d+)/.exec(Ze.userAgent)||[0,0])[1]:0,tabSize:hg.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const a_=256;class Gn extends Yt{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,i){return this.flags&8||i&&(!(i instanceof Gn)||this.length-(e-t)+i.length>a_||i.flags&8)?!1:(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new Gn(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=this.flags&8,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new ze(this.dom,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return u_(this.dom,t,e)}}class ji extends Yt{constructor(t,e=[],i=0){super(),this.mark=t,this.children=e,this.length=i;for(let s of e)s.setParent(this)}setAttrs(t){if(eO(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!((this.flags|t.flags)&8)}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,i,s,l,a){return i&&(!(i instanceof ji&&i.mark.eq(this.mark))||t&&l<=0||e<this.length&&a<=0)?!1:(oO(this,t,e,i?i.children.slice():[],l-1,a-1),this.markDirty(),!0)}split(t){let e=[],i=0,s=-1,l=0;for(let u of this.children){let h=i+u.length;h>t&&e.push(i<t?u.split(t-i):u),s<0&&i>=t&&(s=l),i=h,l++}let a=this.length-t;return this.length=t,s>-1&&(this.children.length=s,this.markDirty()),new ji(this.mark,e,a)}domAtPos(t){return cO(this,t)}coordsAt(t,e){return fO(this,t,e)}}function u_(n,t,e){let i=n.nodeValue.length;t>i&&(t=i);let s=t,l=t,a=0;t==0&&e<0||t==i&&e>=0?ct.chrome||ct.gecko||(t?(s--,a=1):l<i&&(l++,a=-1)):e<0?s--:l<i&&l++;let u=Ar(n,s,l).getClientRects();if(!u.length)return null;let h=u[(a?a<0:e>=0)?0:u.length-1];return ct.safari&&!a&&h.width==0&&(h=Array.prototype.find.call(u,f=>f.width)||h),a?pf(h,a<0):h||null}class Os extends Yt{static create(t,e,i){return new Os(t,e,i)}constructor(t,e,i){super(),this.widget=t,this.length=e,this.side=i,this.prevWidget=null}split(t){let e=Os.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,i,s,l,a){return i&&(!(i instanceof Os)||!this.widget.compare(i.widget)||t>0&&l<=0||e<this.length&&a<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}become(t){return t instanceof Os&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return _t.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,i=e&&e.state.doc,s=this.posAtStart;return i?i.slice(s,s+this.length):_t.empty}domAtPos(t){return(this.length?t==0:this.side>0)?ze.before(this.dom):ze.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let i=this.widget.coordsAt(this.dom,t,e);if(i)return i;let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let a=this.side?this.side<0:t>0;for(let u=a?s.length-1:0;l=s[u],!(t>0?u==0:u==s.length-1||l.top<l.bottom);u+=a?-1:1);return pf(l,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Bl extends Yt{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Bl&&t.side==this.side}split(){return new Bl(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?ze.before(this.dom):ze.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return _t.empty}get isHidden(){return!0}}Gn.prototype.children=Os.prototype.children=Bl.prototype.children=M0;function cO(n,t){let e=n.dom,{children:i}=n,s=0;for(let l=0;s<i.length;s++){let a=i[s],u=l+a.length;if(!(u==l&&a.getSide()<=0)){if(t>l&&t<u&&a.dom.parentNode==e)return a.domAtPos(t-l);if(t<=l)break;l=u}}for(let l=s;l>0;l--){let a=i[l-1];if(a.dom.parentNode==e)return a.domAtPos(a.length)}for(let l=s;l<i.length;l++){let a=i[l];if(a.dom.parentNode==e)return a.domAtPos(0)}return new ze(e,0)}function hO(n,t,e){let i,{children:s}=n;e>0&&t instanceof ji&&s.length&&(i=s[s.length-1])instanceof ji&&i.mark.eq(t.mark)?hO(i,t.children[0],e-1):(s.push(t),t.setParent(n)),n.length+=t.length}function fO(n,t,e){let i=null,s=-1,l=null,a=-1;function u(f,p){for(let g=0,y=0;g<f.children.length&&y<=p;g++){let x=f.children[g],b=y+x.length;b>=p&&(x.children.length?u(x,p-y):(!l||l.isHidden&&(e>0||h_(l,x)))&&(b>p||y==b&&x.getSide()>0)?(l=x,a=p-y):(y<p||y==b&&x.getSide()<0&&!x.isHidden)&&(i=x,s=p-y)),y=b}}u(n,t);let h=(e<0?i:l)||i||l;return h?h.coordsAt(Math.max(0,h==i?s:a),e):c_(n)}function c_(n){let t=n.dom.lastChild;if(!t)return n.dom.getBoundingClientRect();let e=ka(t);return e[e.length-1]||null}function h_(n,t){let e=n.coordsAt(0,1),i=t.coordsAt(0,1);return e&&i&&i.top<e.bottom}function pg(n,t){for(let e in n)e=="class"&&t.class?t.class+=" "+n.class:e=="style"&&t.style?t.style+=";"+n.style:t[e]=n[e];return t}const dS=Object.create(null);function Rh(n,t,e){if(n==t)return!0;n||(n=dS),t||(t=dS);let i=Object.keys(n),s=Object.keys(t);if(i.length-(e&&i.indexOf(e)>-1?1:0)!=s.length-(e&&s.indexOf(e)>-1?1:0))return!1;for(let l of i)if(l!=e&&(s.indexOf(l)==-1||n[l]!==t[l]))return!1;return!0}function mg(n,t,e){let i=!1;if(t)for(let s in t)e&&s in e||(i=!0,s=="style"?n.style.cssText="":n.removeAttribute(s));if(e)for(let s in e)t&&t[s]==e[s]||(i=!0,s=="style"?n.style.cssText=e[s]:n.setAttribute(s,e[s]));return i}function f_(n){let t=Object.create(null);for(let e=0;e<n.attributes.length;e++){let i=n.attributes[e];t[i.name]=i.value}return t}class Vs{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var $e=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}($e||($e={}));class xt extends Sr{constructor(t,e,i,s){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=s}get heightRelevant(){return!1}static mark(t){return new Ja(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),i=!!t.block;return e+=i&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new Rs(t,e,e,i,t.widget||null,!1)}static replace(t){let e=!!t.block,i,s;if(t.isBlockGap)i=-5e8,s=4e8;else{let{start:l,end:a}=dO(t,e);i=(l?e?-3e8:-1:5e8)-1,s=(a?e?2e8:1:-6e8)+1}return new Rs(t,i,s,e,t.widget||null,!0)}static line(t){return new tu(t)}static set(t,e=!1){return Rt.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}xt.none=Rt.empty;class Ja extends xt{constructor(t){let{start:e,end:i}=dO(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,i;return this==t||t instanceof Ja&&this.tagName==t.tagName&&(this.class||((e=this.attrs)===null||e===void 0?void 0:e.class))==(t.class||((i=t.attrs)===null||i===void 0?void 0:i.class))&&Rh(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}Ja.prototype.point=!1;class tu extends xt{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof tu&&this.spec.class==t.spec.class&&Rh(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}tu.prototype.mapMode=qe.TrackBefore;tu.prototype.point=!0;class Rs extends xt{constructor(t,e,i,s,l,a){super(e,i,l,t),this.block=s,this.isReplace=a,this.mapMode=s?e<=0?qe.TrackBefore:qe.TrackAfter:qe.TrackDel}get type(){return this.startSide!=this.endSide?$e.WidgetRange:this.startSide<=0?$e.WidgetBefore:$e.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof Rs&&d_(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}Rs.prototype.point=!0;function dO(n,t=!1){let{inclusiveStart:e,inclusiveEnd:i}=n;return e==null&&(e=n.inclusive),i==null&&(i=n.inclusive),{start:e??t,end:i??t}}function d_(n,t){return n==t||!!(n&&t&&n.compare(t))}function uh(n,t,e,i=0){let s=e.length-1;s>=0&&e[s]+i>=n?e[s]=Math.max(e[s],t):e.push(n,t)}class ue extends Yt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,s,l,a){if(i){if(!(i instanceof ue))return!1;this.dom||i.transferDOM(this)}return s&&this.setDeco(i?i.attrs:null),oO(this,t,e,i?i.children.slice():[],l,a),!0}split(t){let e=new ue;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i,off:s}=this.childPos(t);s&&(e.append(this.children[i].split(s),0),this.children[i].merge(s,this.children[i].length,null,!1,0,0),i++);for(let l=i;l<this.children.length;l++)e.append(this.children[l],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Rh(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){hO(this,t,e)}addLineDeco(t){let e=t.spec.attributes,i=t.spec.class;e&&(this.attrs=pg(e,this.attrs||{})),i&&(this.attrs=pg({class:i},this.attrs||{}))}domAtPos(t){return cO(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.flags|=6)}sync(t,e){var i;this.dom?this.flags&4&&(eO(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(mg(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let s=this.dom.lastChild;for(;s&&Yt.get(s)instanceof ji;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((i=Yt.get(s))===null||i===void 0?void 0:i.isEditable)==!1&&(!ct.ios||!this.children.some(l=>l instanceof Gn))){let l=document.createElement("BR");l.cmIgnore=!0,this.dom.appendChild(l)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0,e;for(let i of this.children){if(!(i instanceof Gn)||/[^ -~]/.test(i.text))return null;let s=ka(i.dom);if(s.length!=1)return null;t+=s[0].width,e=s[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(t,e){let i=fO(this,t,e);if(!this.children.length&&i&&this.parent){let{heightOracle:s}=this.parent.view.viewState,l=i.bottom-i.top;if(Math.abs(l-s.lineHeight)<2&&s.textHeight<l){let a=(l-s.textHeight)/2;return{top:i.top+a,bottom:i.bottom-a,left:i.left,right:i.left}}}return i}become(t){return t instanceof ue&&this.children.length==0&&t.children.length==0&&Rh(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let i=0,s=0;i<t.children.length;i++){let l=t.children[i],a=s+l.length;if(a>=e){if(l instanceof ue)return l;if(a>e)break}s=a+l.breakAfter}return null}}class qi extends Yt{constructor(t,e,i){super(),this.widget=t,this.length=e,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(t,e,i,s,l,a){return i&&(!(i instanceof qi)||!this.widget.compare(i.widget)||t>0&&l<=0||e<this.length&&a<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}domAtPos(t){return t==0?ze.before(this.dom):ze.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let i=new qi(this.widget,e,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return M0}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):_t.empty}domBoundsAround(){return null}become(t){return t instanceof qi&&t.widget.constructor==this.widget.constructor?(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){let i=this.widget.coordsAt(this.dom,t,e);return i||(this.widget instanceof gg?null:pf(this.dom.getBoundingClientRect(),this.length?t==0:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:i}=this.deco;return e==i?!1:t<0?e<0:i>0}}class gg extends Vs{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ga{constructor(t,e,i,s){this.doc=t,this.pos=e,this.end=i,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof qi&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ue),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Rc(new Bl(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(t&&this.content.length&&this.content[this.content.length-1]instanceof qi)&&this.getLine()}buildText(t,e,i){for(;t>0;){if(this.textOff==this.text.length){let{value:l,lineBreak:a,done:u}=this.cursor.next(this.skip);if(this.skip=0,u)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}else this.text=l,this.textOff=0}let s=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-i)),this.getLine().append(Rc(new Gn(this.text.slice(this.textOff,this.textOff+s)),e),i),this.atCursorPos=!0,this.textOff+=s,t-=s,i=0}}span(t,e,i,s){this.buildText(e-t,i,s),this.pos=e,this.openStart<0&&(this.openStart=s)}point(t,e,i,s,l,a){if(this.disallowBlockEffectsFor[a]&&i instanceof Rs){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let u=e-t;if(i instanceof Rs)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new qi(i.widget||Ll.block,u,i));else{let h=Os.create(i.widget||Ll.inline,u,u?0:i.startSide),f=this.atCursorPos&&!h.isEditable&&l<=s.length&&(t<e||i.startSide>0),p=!h.isEditable&&(t<e||l>s.length||i.startSide<=0),g=this.getLine();this.pendingBuffer==2&&!f&&!h.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),f&&(g.append(Rc(new Bl(1),s),l),l=s.length+Math.max(0,l-s.length)),g.append(Rc(h,s),l),this.atCursorPos=p,this.pendingBuffer=p?t<e||l>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);u&&(this.textOff+u<=this.text.length?this.textOff+=u:(this.skip+=u-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=l)}static build(t,e,i,s,l){let a=new ga(t,e,i,l);return a.openEnd=Rt.spans(s,e,i,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function Rc(n,t){for(let e of t)n=new ji(e,[n],n.length);return n}class Ll extends Vs{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ll.inline=new Ll("span");Ll.block=new Ll("div");var Kt=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Kt||(Kt={}));const Or=Kt.LTR,k0=Kt.RTL;function pO(n){let t=[];for(let e=0;e<n.length;e++)t.push(1<<+n[e]);return t}const p_=pO("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),m_=pO("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),yg=Object.create(null),ni=[];for(let n of["()","[]","{}"]){let t=n.charCodeAt(0),e=n.charCodeAt(1);yg[t]=e,yg[e]=-t}function mO(n){return n<=247?p_[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?m_[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const g_=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ts{get dir(){return this.level%2?k0:Or}constructor(t,e,i){this.from=t,this.to=e,this.level=i}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,i,s){let l=-1;for(let a=0;a<t.length;a++){let u=t[a];if(u.from<=e&&u.to>=e){if(u.level==i)return a;(l<0||(s!=0?s<0?u.from<e:u.to>e:t[l].level>u.level))&&(l=a)}}if(l<0)throw new RangeError("Index out of range");return l}}function gO(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++){let i=n[e],s=t[e];if(i.from!=s.from||i.to!=s.to||i.direction!=s.direction||!gO(i.inner,s.inner))return!1}return!0}const Xt=[];function y_(n,t,e,i,s){for(let l=0;l<=i.length;l++){let a=l?i[l-1].to:t,u=l<i.length?i[l].from:e,h=l?256:s;for(let f=a,p=h,g=h;f<u;f++){let y=mO(n.charCodeAt(f));y==512?y=p:y==8&&g==4&&(y=16),Xt[f]=y==4?2:y,y&7&&(g=y),p=y}for(let f=a,p=h,g=h;f<u;f++){let y=Xt[f];if(y==128)f<u-1&&p==Xt[f+1]&&p&24?y=Xt[f]=p:Xt[f]=256;else if(y==64){let x=f+1;for(;x<u&&Xt[x]==64;)x++;let b=f&&p==8||x<e&&Xt[x]==8?g==1?1:8:256;for(let w=f;w<x;w++)Xt[w]=b;f=x-1}else y==8&&g==1&&(Xt[f]=1);p=y,y&7&&(g=y)}}}function v_(n,t,e,i,s){let l=s==1?2:1;for(let a=0,u=0,h=0;a<=i.length;a++){let f=a?i[a-1].to:t,p=a<i.length?i[a].from:e;for(let g=f,y,x,b;g<p;g++)if(x=yg[y=n.charCodeAt(g)])if(x<0){for(let w=u-3;w>=0;w-=3)if(ni[w+1]==-x){let A=ni[w+2],O=A&2?s:A&4?A&1?l:s:0;O&&(Xt[g]=Xt[ni[w]]=O),u=w;break}}else{if(ni.length==189)break;ni[u++]=g,ni[u++]=y,ni[u++]=h}else if((b=Xt[g])==2||b==1){let w=b==s;h=w?0:1;for(let A=u-3;A>=0;A-=3){let O=ni[A+2];if(O&2)break;if(w)ni[A+2]|=2;else{if(O&4)break;ni[A+2]|=4}}}}}function x_(n,t,e,i){for(let s=0,l=i;s<=e.length;s++){let a=s?e[s-1].to:n,u=s<e.length?e[s].from:t;for(let h=a;h<u;){let f=Xt[h];if(f==256){let p=h+1;for(;;)if(p==u){if(s==e.length)break;p=e[s++].to,u=s<e.length?e[s].from:t}else if(Xt[p]==256)p++;else break;let g=l==1,y=(p<t?Xt[p]:i)==1,x=g==y?g?1:2:i;for(let b=p,w=s,A=w?e[w-1].to:n;b>h;)b==A&&(b=e[--w].from,A=w?e[w-1].to:n),Xt[--b]=x;h=p}else l=f,h++}}}function vg(n,t,e,i,s,l,a){let u=i%2?2:1;if(i%2==s%2)for(let h=t,f=0;h<e;){let p=!0,g=!1;if(f==l.length||h<l[f].from){let w=Xt[h];w!=u&&(p=!1,g=w==16)}let y=!p&&u==1?[]:null,x=p?i:i+1,b=h;t:for(;;)if(f<l.length&&b==l[f].from){if(g)break t;let w=l[f];if(!p)for(let A=w.to,O=f+1;;){if(A==e)break t;if(O<l.length&&l[O].from==A)A=l[O++].to;else{if(Xt[A]==u)break t;break}}if(f++,y)y.push(w);else{w.from>h&&a.push(new Ts(h,w.from,x));let A=w.direction==Or!=!(x%2);xg(n,A?i+1:i,s,w.inner,w.from,w.to,a),h=w.to}b=w.to}else{if(b==e||(p?Xt[b]!=u:Xt[b]==u))break;b++}y?vg(n,h,b,i+1,s,y,a):h<b&&a.push(new Ts(h,b,x)),h=b}else for(let h=e,f=l.length;h>t;){let p=!0,g=!1;if(!f||h>l[f-1].to){let w=Xt[h-1];w!=u&&(p=!1,g=w==16)}let y=!p&&u==1?[]:null,x=p?i:i+1,b=h;t:for(;;)if(f&&b==l[f-1].to){if(g)break t;let w=l[--f];if(!p)for(let A=w.from,O=f;;){if(A==t)break t;if(O&&l[O-1].to==A)A=l[--O].from;else{if(Xt[A-1]==u)break t;break}}if(y)y.push(w);else{w.to<h&&a.push(new Ts(w.to,h,x));let A=w.direction==Or!=!(x%2);xg(n,A?i+1:i,s,w.inner,w.from,w.to,a),h=w.from}b=w.from}else{if(b==t||(p?Xt[b-1]!=u:Xt[b-1]==u))break;b--}y?vg(n,b,h,i+1,s,y,a):b<h&&a.push(new Ts(b,h,x)),h=b}}function xg(n,t,e,i,s,l,a){let u=t%2?2:1;y_(n,s,l,i,u),v_(n,s,l,i,u),x_(s,l,i,u),vg(n,s,l,t,e,i,a)}function b_(n,t,e){if(!n)return[new Ts(0,0,t==k0?1:0)];if(t==Or&&!e.length&&!g_.test(n))return yO(n.length);if(e.length)for(;n.length>Xt.length;)Xt[Xt.length]=256;let i=[],s=t==Or?0:1;return xg(n,s,s,e,0,n.length,i),i}function yO(n){return[new Ts(0,n,0)]}let vO="";function S_(n,t,e,i,s){var l;let a=i.head-n.from,u=Ts.find(t,a,(l=i.bidiLevel)!==null&&l!==void 0?l:-1,i.assoc),h=t[u],f=h.side(s,e);if(a==f){let y=u+=s?1:-1;if(y<0||y>=t.length)return null;h=t[u=y],a=h.side(!s,e),f=h.side(s,e)}let p=Ee(n.text,a,h.forward(s,e));(p<h.from||p>h.to)&&(p=f),vO=n.text.slice(Math.min(a,p),Math.max(a,p));let g=u==(s?t.length-1:0)?null:t[u+(s?1:-1)];return g&&p==f&&g.level+(s?0:1)<h.level?W.cursor(g.side(!s,e)+n.from,g.forward(s,e)?1:-1,g.level):W.cursor(p+n.from,h.forward(s,e)?-1:1,h.level)}function w_(n,t,e){for(let i=t;i<e;i++){let s=mO(n.charCodeAt(i));if(s==1)return Or;if(s==2||s==4)return k0}return Or}const xO=ut.define(),bO=ut.define(),SO=ut.define(),wO=ut.define(),bg=ut.define(),AO=ut.define(),OO=ut.define(),D0=ut.define(),E0=ut.define(),TO=ut.define({combine:n=>n.some(t=>t)}),CO=ut.define({combine:n=>n.some(t=>t)}),MO=ut.define();class Ml{constructor(t,e="nearest",i="nearest",s=5,l=5,a=!1){this.range=t,this.y=e,this.x=i,this.yMargin=s,this.xMargin=l,this.isSnapshot=a}map(t){return t.empty?this:new Ml(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new Ml(W.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const _c=At.define({map:(n,t)=>n.map(t)}),kO=At.define();function tn(n,t,e){let i=n.facet(wO);i.length?i[0](t):window.onerror&&window.onerror(String(t),e,void 0,void 0,t)||(e?console.error(e+":",t):console.error(t))}const Pi=ut.define({combine:n=>n.length?n[0]:!0});let A_=0;const gl=ut.define({combine(n){return n.filter((t,e)=>{for(let i=0;i<e;i++)if(n[i].plugin==t.plugin)return!1;return!0})}});class fe{constructor(t,e,i,s,l){this.id=t,this.create=e,this.domEventHandlers=i,this.domEventObservers=s,this.baseExtensions=l(this),this.extension=this.baseExtensions.concat(gl.of({plugin:this,arg:void 0}))}of(t){return this.baseExtensions.concat(gl.of({plugin:this,arg:t}))}static define(t,e){const{eventHandlers:i,eventObservers:s,provide:l,decorations:a}=e||{};return new fe(A_++,t,i,s,u=>{let h=[];return a&&h.push(Da.of(f=>{let p=f.plugin(u);return p?a(p):xt.none})),l&&h.push(l(u)),h})}static fromClass(t,e){return fe.define((i,s)=>new t(i,s),e)}}class nm{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(i){if(tn(e.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(t,this.spec.arg)}catch(e){tn(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(i){tn(t.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const DO=ut.define(),R0=ut.define(),Da=ut.define(),EO=ut.define(),_0=ut.define(),RO=ut.define();function pS(n,t){let e=n.state.facet(RO);if(!e.length)return e;let i=e.map(l=>l instanceof Function?l(n):l),s=[];return Rt.spans(i,t.from,t.to,{point(){},span(l,a,u,h){let f=l-t.from,p=a-t.from,g=s;for(let y=u.length-1;y>=0;y--,h--){let x=u[y].spec.bidiIsolate,b;if(x==null&&(x=w_(t.text,f,p)),h>0&&g.length&&(b=g[g.length-1]).to==f&&b.direction==x)b.to=p,g=b.inner;else{let w={from:f,to:p,direction:x,inner:[]};g.push(w),g=w.inner}}}}),s}const _O=ut.define();function N0(n){let t=0,e=0,i=0,s=0;for(let l of n.state.facet(_O)){let a=l(n);a&&(a.left!=null&&(t=Math.max(t,a.left)),a.right!=null&&(e=Math.max(e,a.right)),a.top!=null&&(i=Math.max(i,a.top)),a.bottom!=null&&(s=Math.max(s,a.bottom)))}return{left:t,right:e,top:i,bottom:s}}const la=ut.define();class zn{constructor(t,e,i,s){this.fromA=t,this.toA=e,this.fromB=i,this.toB=s}join(t){return new zn(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let s=t[e-1];if(!(s.fromA>i.toA)){if(s.toA<i.fromA)break;i=i.join(s),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(e.length==0)return t;let i=[];for(let s=0,l=0,a=0,u=0;;s++){let h=s==t.length?null:t[s],f=a-u,p=h?h.fromB:1e9;for(;l<e.length&&e[l]<p;){let g=e[l],y=e[l+1],x=Math.max(u,g),b=Math.min(p,y);if(x<=b&&new zn(x+f,b+f,x,b).addToSet(i),y>p)break;l+=2}if(!h)return i;new zn(h.fromA,h.toA,h.fromB,h.toB).addToSet(i),a=h.toA,u=h.toB}}}class _h{constructor(t,e,i){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=me.empty(this.startState.doc.length);for(let l of i)this.changes=this.changes.compose(l.changes);let s=[];this.changes.iterChangedRanges((l,a,u,h)=>s.push(new zn(l,a,u,h))),this.changedRanges=s}static create(t,e,i){return new _h(t,e,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class mS extends Yt{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=xt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new ue],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new zn(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let i=t.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:f,toA:p})=>p<this.minWidthFrom||f>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((e=this.domChanged)===null||e===void 0)&&e.newSel?s=this.domChanged.newSel.head:!E_(t.changes,this.hasComposition)&&!t.selectionSet&&(s=t.state.selection.main.head));let l=s>-1?T_(this.view,t.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:f,to:p}=this.hasComposition;i=new zn(f,p,t.changes.mapPos(f,-1),t.changes.mapPos(p,1)).addToSet(i.slice())}this.hasComposition=l?{from:l.range.fromB,to:l.range.toB}:null,(ct.ie||ct.chrome)&&!l&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,u=this.updateDeco(),h=k_(a,u,t.changes);return i=zn.extendWithRanges(i,h),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,t.startState.doc.length,l),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,i);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=ct.chrome||ct.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||s.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let l=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof qi&&a.widget instanceof gg&&l.push(a.dom);s.updateGaps(l)}updateChildren(t,e,i){let s=i?i.range.addToSet(t.slice()):t,l=this.childCursor(e);for(let a=s.length-1;;a--){let u=a>=0?s[a]:null;if(!u)break;let{fromA:h,toA:f,fromB:p,toB:g}=u,y,x,b,w;if(i&&i.range.fromB<g&&i.range.toB>p){let M=ga.build(this.view.state.doc,p,i.range.fromB,this.decorations,this.dynamicDecorationMap),D=ga.build(this.view.state.doc,i.range.toB,g,this.decorations,this.dynamicDecorationMap);x=M.breakAtStart,b=M.openStart,w=D.openEnd;let L=this.compositionView(i);D.breakAtStart?L.breakAfter=1:D.content.length&&L.merge(L.length,L.length,D.content[0],!1,D.openStart,0)&&(L.breakAfter=D.content[0].breakAfter,D.content.shift()),M.content.length&&L.merge(0,0,M.content[M.content.length-1],!0,0,M.openEnd)&&M.content.pop(),y=M.content.concat(L).concat(D.content)}else({content:y,breakAtStart:x,openStart:b,openEnd:w}=ga.build(this.view.state.doc,p,g,this.decorations,this.dynamicDecorationMap));let{i:A,off:O}=l.findPos(f,1),{i:C,off:E}=l.findPos(h,-1);lO(this,C,E,A,O,y,x,b,w)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let i of e.effects)i.is(kO)&&(this.editContextFormatting=i.value)}compositionView(t){let e=new Gn(t.text.nodeValue);e.flags|=8;for(let{deco:s}of t.marks)e=new ji(s,[e],e.length);let i=new ue;return i.append(e,0),i}fixCompositionDOM(t){let e=(l,a)=>{a.flags|=8|(a.children.some(h=>h.flags&7)?1:0),this.markedForComposition.add(a);let u=Yt.get(l);u&&u!=a&&(u.dom=null),a.setDOM(l)},i=this.childPos(t.range.fromB,1),s=this.children[i.i];e(t.line,s);for(let l=t.marks.length-1;l>=-1;l--)i=s.childPos(i.off,1),s=s.children[i.i],e(l>=0?t.marks[l].node:t.text,s)}updateSelection(t=!1,e=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,s=i==this.dom,l=!s&&!(this.view.state.facet(Pi)||this.dom.tabIndex>-1)&&ah(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(s||e||l))return;let a=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,h=this.moveToLine(this.domAtPos(u.anchor)),f=u.empty?h:this.moveToLine(this.domAtPos(u.head));if(ct.gecko&&u.empty&&!this.hasComposition&&O_(h)){let g=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(g,h.node.childNodes[h.offset]||null)),h=f=new ze(g,0),a=!0}let p=this.view.observer.selectionRange;(a||!p.focusNode||(!ma(h.node,h.offset,p.anchorNode,p.anchorOffset)||!ma(f.node,f.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,u))&&(this.view.observer.ignore(()=>{ct.android&&ct.chrome&&this.dom.contains(p.focusNode)&&D_(p.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let g=Ma(this.view.root);if(g)if(u.empty){if(ct.gecko){let y=C_(h.node,h.offset);if(y&&y!=3){let x=(y==1?iO:sO)(h.node,h.offset);x&&(h=new ze(x.node,x.offset))}}g.collapse(h.node,h.offset),u.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=u.bidiLevel)}else if(g.extend){g.collapse(h.node,h.offset);try{g.extend(f.node,f.offset)}catch{}}else{let y=document.createRange();u.anchor>u.head&&([h,f]=[f,h]),y.setEnd(f.node,f.offset),y.setStart(h.node,h.offset),g.removeAllRanges(),g.addRange(y)}l&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(h,f)),this.impreciseAnchor=h.precise?null:new ze(p.anchorNode,p.anchorOffset),this.impreciseHead=f.precise?null:new ze(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&ma(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,i=Ma(t.root),{anchorNode:s,anchorOffset:l}=t.observer.selectionRange;if(!i||!e.empty||!e.assoc||!i.modify)return;let a=ue.find(this,e.head);if(!a)return;let u=a.posAtStart;if(e.head==u||e.head==u+a.length)return;let h=this.coordsAt(e.head,-1),f=this.coordsAt(e.head,1);if(!h||!f||h.bottom>f.top)return;let p=this.domAtPos(e.head+e.assoc);i.collapse(p.node,p.offset),i.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let g=t.observer.selectionRange;t.docView.posFromDOM(g.anchorNode,g.anchorOffset)!=e.from&&i.collapse(s,l)}moveToLine(t){let e=this.dom,i;if(t.node!=e)return t;for(let s=t.offset;!i&&s<e.childNodes.length;s++){let l=Yt.get(e.childNodes[s]);l instanceof ue&&(i=l.domAtPos(0))}for(let s=t.offset-1;!i&&s>=0;s--){let l=Yt.get(e.childNodes[s]);l instanceof ue&&(i=l.domAtPos(l.length))}return i?new ze(i.node,i.offset,!0):t}nearest(t){for(let e=t;e;){let i=Yt.get(e);if(i&&i.rootView==this)return i;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let s=this.children[e];if(i<s.length||s instanceof ue)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t,e){let i=null,s=0;for(let l=this.length,a=this.children.length-1;a>=0;a--){let u=this.children[a],h=l-u.breakAfter,f=h-u.length;if(h<t)break;if(f<=t&&(f<t||u.covers(-1))&&(h>t||u.covers(1))&&(!i||u instanceof ue&&!(i instanceof ue&&e>=0)))i=u,s=f;else if(i&&f==t&&h==t&&u instanceof qi&&Math.abs(e)<2){if(u.deco.startSide<0)break;a&&(i=null)}l=f}return i?i.coordsAt(t-s,e):null}coordsForChar(t){let{i:e,off:i}=this.childPos(t,1),s=this.children[e];if(!(s instanceof ue))return null;for(;s.children.length;){let{i:u,off:h}=s.childPos(i,1);for(;;u++){if(u==s.children.length)return null;if((s=s.children[u]).length)break}i=h}if(!(s instanceof Gn))return null;let l=Ee(s.text,i);if(l==i)return null;let a=Ar(s.dom,i,l).getClientRects();for(let u=0;u<a.length;u++){let h=a[u];if(u==a.length-1||h.top<h.bottom&&h.left<h.right)return h}return null}measureVisibleLineHeights(t){let e=[],{from:i,to:s}=t,l=this.view.contentDOM.clientWidth,a=l>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,h=this.view.textDirection==Kt.LTR;for(let f=0,p=0;p<this.children.length;p++){let g=this.children[p],y=f+g.length;if(y>s)break;if(f>=i){let x=g.dom.getBoundingClientRect();if(e.push(x.height),a){let b=g.dom.lastChild,w=b?ka(b):[];if(w.length){let A=w[w.length-1],O=h?A.right-x.left:x.right-A.left;O>u&&(u=O,this.minWidth=l,this.minWidthFrom=f,this.minWidthTo=y)}}}f=y+g.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?Kt.RTL:Kt.LTR}measureTextSize(){for(let l of this.children)if(l instanceof ue){let a=l.measureTextSize();if(a)return a}let t=document.createElement("div"),e,i,s;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let l=ka(t.firstChild)[0];e=t.getBoundingClientRect().height,i=l?l.width/27:7,s=l?l.height:e,t.remove()}),{lineHeight:e,charWidth:i,textHeight:s}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new rO(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,s=0;;s++){let l=s==e.viewports.length?null:e.viewports[s],a=l?l.from-1:this.length;if(a>i){let u=(e.lineBlockAt(a).bottom-e.lineBlockAt(i).top)/this.view.scaleY;t.push(xt.replace({widget:new gg(u),block:!0,inclusive:!0,isBlockGap:!0}).range(i,a))}if(!l)break;i=l.to+1}return xt.set(t)}updateDeco(){let t=1,e=this.view.state.facet(Da).map(l=>(this.dynamicDecorationMap[t++]=typeof l=="function")?l(this.view):l),i=!1,s=this.view.state.facet(EO).map((l,a)=>{let u=typeof l=="function";return u&&(i=!0),u?l(this.view):l});for(s.length&&(this.dynamicDecorationMap[t++]=i,e.push(Rt.join(s))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let f=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=f.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let f of this.view.state.facet(MO))try{if(f(this.view,t.range,t))return!0}catch(p){tn(this.view.state,p,"scroll handler")}let{range:e}=t,i=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),s;if(!i)return;!e.empty&&(s=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(i={left:Math.min(i.left,s.left),top:Math.min(i.top,s.top),right:Math.max(i.right,s.right),bottom:Math.max(i.bottom,s.bottom)});let l=N0(this.view),a={left:i.left-l.left,top:i.top-l.top,right:i.right+l.right,bottom:i.bottom+l.bottom},{offsetWidth:u,offsetHeight:h}=this.view.scrollDOM;n_(this.view.scrollDOM,a,e.head<e.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,u),-u),Math.max(Math.min(t.yMargin,h),-h),this.view.textDirection==Kt.LTR)}}function O_(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function NO(n,t){let e=n.observer.selectionRange;if(!e.focusNode)return null;let i=iO(e.focusNode,e.focusOffset),s=sO(e.focusNode,e.focusOffset),l=i||s;if(s&&i&&s.node!=i.node){let u=Yt.get(s.node);if(!u||u instanceof Gn&&u.text!=s.node.nodeValue)l=s;else if(n.docView.lastCompositionAfterCursor){let h=Yt.get(i.node);!h||h instanceof Gn&&h.text!=i.node.nodeValue||(l=s)}}if(n.docView.lastCompositionAfterCursor=l!=i,!l)return null;let a=t-l.offset;return{from:a,to:a+l.node.nodeValue.length,node:l.node}}function T_(n,t,e){let i=NO(n,e);if(!i)return null;let{node:s,from:l,to:a}=i,u=s.nodeValue;if(/[\n\r]/.test(u)||n.state.doc.sliceString(i.from,i.to)!=u)return null;let h=t.invertedDesc,f=new zn(h.mapPos(l),h.mapPos(a),l,a),p=[];for(let g=s.parentNode;;g=g.parentNode){let y=Yt.get(g);if(y instanceof ji)p.push({node:g,deco:y.mark});else{if(y instanceof ue||g.nodeName=="DIV"&&g.parentNode==n.contentDOM)return{range:f,text:s,marks:p,line:g};if(g!=n.contentDOM)p.push({node:g,deco:new Ja({inclusive:!0,attributes:f_(g),tagName:g.tagName.toLowerCase()})});else return null}}}function C_(n,t){return n.nodeType!=1?0:(t&&n.childNodes[t-1].contentEditable=="false"?1:0)|(t<n.childNodes.length&&n.childNodes[t].contentEditable=="false"?2:0)}let M_=class{constructor(){this.changes=[]}compareRange(t,e){uh(t,e,this.changes)}comparePoint(t,e){uh(t,e,this.changes)}boundChange(t){uh(t,t,this.changes)}};function k_(n,t,e){let i=new M_;return Rt.compare(n,t,e,i),i.changes}function D_(n,t){for(let e=n;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function E_(n,t){let e=!1;return t&&n.iterChangedRanges((i,s)=>{i<t.to&&s>t.from&&(e=!0)}),e}function R_(n,t,e=1){let i=n.charCategorizer(t),s=n.doc.lineAt(t),l=t-s.from;if(s.length==0)return W.cursor(t);l==0?e=1:l==s.length&&(e=-1);let a=l,u=l;e<0?a=Ee(s.text,l,!1):u=Ee(s.text,l);let h=i(s.text.slice(a,u));for(;a>0;){let f=Ee(s.text,a,!1);if(i(s.text.slice(f,a))!=h)break;a=f}for(;u<s.length;){let f=Ee(s.text,u);if(i(s.text.slice(u,f))!=h)break;u=f}return W.range(a+s.from,u+s.from)}function __(n,t){return t.left>n?t.left-n:Math.max(0,n-t.right)}function N_(n,t){return t.top>n?t.top-n:Math.max(0,n-t.bottom)}function im(n,t){return n.top<t.bottom-1&&n.bottom>t.top+1}function gS(n,t){return t<n.top?{top:t,left:n.left,right:n.right,bottom:n.bottom}:n}function yS(n,t){return t>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:t}:n}function Sg(n,t,e){let i,s,l,a,u=!1,h,f,p,g;for(let b=n.firstChild;b;b=b.nextSibling){let w=ka(b);for(let A=0;A<w.length;A++){let O=w[A];s&&im(s,O)&&(O=gS(yS(O,s.bottom),s.top));let C=__(t,O),E=N_(e,O);if(C==0&&E==0)return b.nodeType==3?vS(b,t,e):Sg(b,t,e);(!i||a>E||a==E&&l>C)&&(i=b,s=O,l=C,a=E,u=C?t<O.left?A>0:A<w.length-1:!0),C==0?e>O.bottom&&(!p||p.bottom<O.bottom)?(h=b,p=O):e<O.top&&(!g||g.top>O.top)&&(f=b,g=O):p&&im(p,O)?p=yS(p,O.bottom):g&&im(g,O)&&(g=gS(g,O.top))}}if(p&&p.bottom>=e?(i=h,s=p):g&&g.top<=e&&(i=f,s=g),!i)return{node:n,offset:0};let y=Math.max(s.left,Math.min(s.right,t));if(i.nodeType==3)return vS(i,y,e);if(u&&i.contentEditable!="false")return Sg(i,y,e);let x=Array.prototype.indexOf.call(n.childNodes,i)+(t>=(s.left+s.right)/2?1:0);return{node:n,offset:x}}function vS(n,t,e){let i=n.nodeValue.length,s=-1,l=1e9,a=0;for(let u=0;u<i;u++){let h=Ar(n,u,u+1).getClientRects();for(let f=0;f<h.length;f++){let p=h[f];if(p.top==p.bottom)continue;a||(a=t-p.left);let g=(p.top>e?p.top-e:e-p.bottom)-1;if(p.left-1<=t&&p.right+1>=t&&g<l){let y=t>=(p.left+p.right)/2,x=y;if((ct.chrome||ct.gecko)&&Ar(n,u).getBoundingClientRect().left==p.right&&(x=!y),g<=0)return{node:n,offset:u+(x?1:0)};s=u+(x?1:0),l=g}}}return{node:n,offset:s>-1?s:a>0?n.nodeValue.length:0}}function BO(n,t,e,i=-1){var s,l;let a=n.contentDOM.getBoundingClientRect(),u=a.top+n.viewState.paddingTop,h,{docHeight:f}=n.viewState,{x:p,y:g}=t,y=g-u;if(y<0)return 0;if(y>f)return n.state.doc.length;for(let M=n.viewState.heightOracle.textHeight/2,D=!1;h=n.elementAtHeight(y),h.type!=$e.Text;)for(;y=i>0?h.bottom+M:h.top-M,!(y>=0&&y<=f);){if(D)return e?null:0;D=!0,i=-i}g=u+y;let x=h.from;if(x<n.viewport.from)return n.viewport.from==0?0:e?null:xS(n,a,h,p,g);if(x>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:e?null:xS(n,a,h,p,g);let b=n.dom.ownerDocument,w=n.root.elementFromPoint?n.root:b,A=w.elementFromPoint(p,g);A&&!n.contentDOM.contains(A)&&(A=null),A||(p=Math.max(a.left+1,Math.min(a.right-1,p)),A=w.elementFromPoint(p,g),A&&!n.contentDOM.contains(A)&&(A=null));let O,C=-1;if(A&&((s=n.docView.nearest(A))===null||s===void 0?void 0:s.isEditable)!=!1){if(b.caretPositionFromPoint){let M=b.caretPositionFromPoint(p,g);M&&({offsetNode:O,offset:C}=M)}else if(b.caretRangeFromPoint){let M=b.caretRangeFromPoint(p,g);M&&({startContainer:O,startOffset:C}=M,(!n.contentDOM.contains(O)||ct.safari&&B_(O,C,p)||ct.chrome&&L_(O,C,p))&&(O=void 0))}O&&(C=Math.min(gi(O),C))}if(!O||!n.docView.dom.contains(O)){let M=ue.find(n.docView,x);if(!M)return y>h.top+h.height/2?h.to:h.from;({node:O,offset:C}=Sg(M.dom,p,g))}let E=n.docView.nearest(O);if(!E)return null;if(E.isWidget&&((l=E.dom)===null||l===void 0?void 0:l.nodeType)==1){let M=E.dom.getBoundingClientRect();return t.y<M.top||t.y<=M.bottom&&t.x<=(M.left+M.right)/2?E.posAtStart:E.posAtEnd}else return E.localPosFromDOM(O,C)+E.posAtStart}function xS(n,t,e,i,s){let l=Math.round((i-t.left)*n.defaultCharacterWidth);if(n.lineWrapping&&e.height>n.defaultLineHeight*1.5){let u=n.viewState.heightOracle.textHeight,h=Math.floor((s-e.top-(n.defaultLineHeight-u)*.5)/u);l+=h*n.viewState.heightOracle.lineLength}let a=n.state.sliceDoc(e.from,e.to);return e.from+og(a,l,n.state.tabSize)}function B_(n,t,e){let i,s=n;if(n.nodeType!=3||t!=(i=n.nodeValue.length))return!1;for(;;){let l=s.nextSibling;if(l){if(l.nodeName=="BR")break;return!1}else{let a=s.parentNode;if(!a||a.nodeName=="DIV")break;s=a}}return Ar(n,i-1,i).getBoundingClientRect().right>e}function L_(n,t,e){if(t!=0)return!1;for(let s=n;;){let l=s.parentNode;if(!l||l.nodeType!=1||l.firstChild!=s)return!1;if(l.classList.contains("cm-line"))break;s=l}let i=n.nodeType==1?n.getBoundingClientRect():Ar(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return e-i.left>5}function wg(n,t,e){let i=n.lineBlockAt(t);if(Array.isArray(i.type)){let s;for(let l of i.type){if(l.from>t)break;if(!(l.to<t)){if(l.from<t&&l.to>t)return l;(!s||l.type==$e.Text&&(s.type!=l.type||(e<0?l.from<t:l.to>t)))&&(s=l)}}return s||i}return i}function z_(n,t,e,i){let s=wg(n,t.head,t.assoc||-1),l=!i||s.type!=$e.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(t.assoc<0&&t.head>s.from?t.head-1:t.head);if(l){let a=n.dom.getBoundingClientRect(),u=n.textDirectionAt(s.from),h=n.posAtCoords({x:e==(u==Kt.LTR)?a.right-1:a.left+1,y:(l.top+l.bottom)/2});if(h!=null)return W.cursor(h,e?-1:1)}return W.cursor(e?s.to:s.from,e?-1:1)}function bS(n,t,e,i){let s=n.state.doc.lineAt(t.head),l=n.bidiSpans(s),a=n.textDirectionAt(s.from);for(let u=t,h=null;;){let f=S_(s,l,a,u,e),p=vO;if(!f){if(s.number==(e?n.state.doc.lines:1))return u;p=`
`,s=n.state.doc.line(s.number+(e?1:-1)),l=n.bidiSpans(s),f=n.visualLineSide(s,!e)}if(h){if(!h(p))return u}else{if(!i)return f;h=i(p)}u=f}}function V_(n,t,e){let i=n.state.charCategorizer(t),s=i(e);return l=>{let a=i(l);return s==It.Space&&(s=a),s==a}}function P_(n,t,e,i){let s=t.head,l=e?1:-1;if(s==(e?n.state.doc.length:0))return W.cursor(s,t.assoc);let a=t.goalColumn,u,h=n.contentDOM.getBoundingClientRect(),f=n.coordsAtPos(s,t.assoc||-1),p=n.documentTop;if(f)a==null&&(a=f.left-h.left),u=l<0?f.top:f.bottom;else{let x=n.viewState.lineBlockAt(s);a==null&&(a=Math.min(h.right-h.left,n.defaultCharacterWidth*(s-x.from))),u=(l<0?x.top:x.bottom)+p}let g=h.left+a,y=i??n.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let b=u+(y+x)*l,w=BO(n,{x:g,y:b},!1,l);if(b<h.top||b>h.bottom||(l<0?w<s:w>s)){let A=n.docView.coordsForChar(w),O=!A||b<A.top?-1:1;return W.cursor(w,O,void 0,a)}}}function ch(n,t,e){for(;;){let i=0;for(let s of n)s.between(t-1,t+1,(l,a,u)=>{if(t>l&&t<a){let h=i||e||(t-l<a-t?-1:1);t=h<0?l:a,i=h}});if(!i)return t}}function sm(n,t,e){let i=ch(n.state.facet(_0).map(s=>s(n)),e.from,t.head>e.from?-1:1);return i==e.from?e:W.cursor(i,i<e.from?1:-1)}const oa="";class H_{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Bt.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=oa}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let s=t;;){this.findPointBefore(i,s);let l=this.text.length;this.readNode(s);let a=s.nextSibling;if(a==e)break;let u=Yt.get(s),h=Yt.get(a);(u&&h?u.breakAfter:(u?u.breakAfter:Eh(s))||Eh(a)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>l)&&this.lineBreak(),s=a}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let l=-1,a=1,u;if(this.lineSeparator?(l=e.indexOf(this.lineSeparator,i),a=this.lineSeparator.length):(u=s.exec(e))&&(l=u.index,a=u[0].length),this.append(e.slice(i,l<0?e.length:l)),l<0)break;if(this.lineBreak(),a>1)for(let h of this.points)h.node==t&&h.pos>this.text.length&&(h.pos-=a-1);i=l+a}}readNode(t){if(t.cmIgnore)return;let e=Yt.get(t),i=e&&e.overrideDOMText;if(i!=null){this.findPointInside(t,i.length);for(let s=i.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(t.nodeType==3?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+(q_(t,i.node,i.offset)?e:0))}}function q_(n,t,e){for(;;){if(!t||e<gi(t))return!1;if(t==n)return!0;e=wr(t)+1,t=t.parentNode}}class SS{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class U_{constructor(t,e,i,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:l,impreciseAnchor:a}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,i,0))){let u=l||a?[]:X_(t),h=new H_(u,t.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=Y_(u,this.bounds.from)}else{let u=t.observer.selectionRange,h=l&&l.node==u.focusNode&&l.offset==u.focusOffset||!cg(t.contentDOM,u.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(u.focusNode,u.focusOffset),f=a&&a.node==u.anchorNode&&a.offset==u.anchorOffset||!cg(t.contentDOM,u.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(u.anchorNode,u.anchorOffset),p=t.viewport;if((ct.ios||ct.chrome)&&t.state.selection.main.empty&&h!=f&&(p.from>0||p.to<t.state.doc.length)){let g=Math.min(h,f),y=Math.max(h,f),x=p.from-g,b=p.to-y;(x==0||x==1||g==0)&&(b==0||b==-1||y==t.state.doc.length)&&(h=0,f=t.state.doc.length)}this.newSel=W.single(f,h)}}}function LO(n,t){let e,{newSel:i}=t,s=n.state.selection.main,l=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(t.bounds){let{from:a,to:u}=t.bounds,h=s.from,f=null;(l===8||ct.android&&t.text.length<u-a)&&(h=s.to,f="end");let p=$_(n.state.doc.sliceString(a,u,oa),t.text,h-a,f);p&&(ct.chrome&&l==13&&p.toB==p.from+2&&t.text.slice(p.from,p.toB)==oa+oa&&p.toB--,e={from:a+p.from,to:a+p.toA,insert:_t.of(t.text.slice(p.from,p.toB).split(oa))})}else i&&(!n.hasFocus&&n.state.facet(Pi)||i.main.eq(s))&&(i=null);if(!e&&!i)return!1;if(!e&&t.typeOver&&!s.empty&&i&&i.main.empty?e={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:(ct.mac||ct.android)&&e&&e.from==e.to&&e.from==s.head-1&&/^\. ?$/.test(e.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&e.insert.length==2&&(i=W.single(i.main.anchor-1,i.main.head-1)),e={from:e.from,to:e.to,insert:_t.of([e.insert.toString().replace("."," ")])}):e&&e.from>=s.from&&e.to<=s.to&&(e.from!=s.from||e.to!=s.to)&&s.to-s.from-(e.to-e.from)<=4?e={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,e.from).append(e.insert).append(n.state.doc.slice(e.to,s.to))}:ct.chrome&&e&&e.from==e.to&&e.from==s.head&&e.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=W.single(i.main.anchor-1,i.main.head-1)),e={from:s.from,to:s.to,insert:_t.of([" "])}),e)return B0(n,e,i,l);if(i&&!i.main.eq(s)){let a=!1,u="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(a=!0),u=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:a,userEvent:u}),!0}else return!1}function B0(n,t,e,i=-1){if(ct.ios&&n.inputState.flushIOSKey(t))return!0;let s=n.state.selection.main;if(ct.android&&(t.to==s.to&&(t.from==s.from||t.from==s.from-1&&n.state.sliceDoc(t.from,s.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&Cl(n.contentDOM,"Enter",13)||(t.from==s.from-1&&t.to==s.to&&t.insert.length==0||i==8&&t.insert.length<t.to-t.from&&t.to>s.head)&&Cl(n.contentDOM,"Backspace",8)||t.from==s.from&&t.to==s.to+1&&t.insert.length==0&&Cl(n.contentDOM,"Delete",46)))return!0;let l=t.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let a,u=()=>a||(a=j_(n,t,e));return n.state.facet(AO).some(h=>h(n,t.from,t.to,l,u))||n.dispatch(u()),!0}function j_(n,t,e){let i,s=n.state,l=s.selection.main;if(t.from>=l.from&&t.to<=l.to&&t.to-t.from>=(l.to-l.from)/3&&(!e||e.main.empty&&e.main.from==t.from+t.insert.length)&&n.inputState.composing<0){let u=l.from<t.from?s.sliceDoc(l.from,t.from):"",h=l.to>t.to?s.sliceDoc(t.to,l.to):"";i=s.replaceSelection(n.state.toText(u+t.insert.sliceString(0,void 0,n.state.lineBreak)+h))}else{let u=s.changes(t),h=e&&e.main.to<=u.newLength?e.main:void 0;if(s.selection.ranges.length>1&&n.inputState.composing>=0&&t.to<=l.to&&t.to>=l.to-10){let f=n.state.sliceDoc(t.from,t.to),p,g=e&&NO(n,e.main.head);if(g){let b=t.insert.length-(t.to-t.from);p={from:g.from,to:g.to-b}}else p=n.state.doc.lineAt(l.head);let y=l.to-t.to,x=l.to-l.from;i=s.changeByRange(b=>{if(b.from==l.from&&b.to==l.to)return{changes:u,range:h||b.map(u)};let w=b.to-y,A=w-f.length;if(b.to-b.from!=x||n.state.sliceDoc(A,w)!=f||b.to>=p.from&&b.from<=p.to)return{range:b};let O=s.changes({from:A,to:w,insert:t.insert}),C=b.to-l.to;return{changes:O,range:h?W.range(Math.max(0,h.anchor+C),Math.max(0,h.head+C)):b.map(O)}})}else i={changes:u,selection:h&&s.selection.replaceRange(h)}}let a="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,a+=".compose",n.inputState.compositionFirstChange&&(a+=".start",n.inputState.compositionFirstChange=!1)),s.update(i,{userEvent:a,scrollIntoView:!0})}function $_(n,t,e,i){let s=Math.min(n.length,t.length),l=0;for(;l<s&&n.charCodeAt(l)==t.charCodeAt(l);)l++;if(l==s&&n.length==t.length)return null;let a=n.length,u=t.length;for(;a>0&&u>0&&n.charCodeAt(a-1)==t.charCodeAt(u-1);)a--,u--;if(i=="end"){let h=Math.max(0,l-Math.min(a,u));e-=a+h-l}if(a<l&&n.length<t.length){let h=e<=l&&e>=a?l-e:0;l-=h,u=l+(u-a),a=l}else if(u<l){let h=e<=l&&e>=u?l-e:0;l-=h,a=l+(a-u),u=l}return{from:l,toA:a,toB:u}}function X_(n){let t=[];if(n.root.activeElement!=n.contentDOM)return t;let{anchorNode:e,anchorOffset:i,focusNode:s,focusOffset:l}=n.observer.selectionRange;return e&&(t.push(new SS(e,i)),(s!=e||l!=i)&&t.push(new SS(s,l))),t}function Y_(n,t){if(n.length==0)return null;let e=n[0].pos,i=n.length==2?n[1].pos:e;return e>-1&&i>-1?W.single(e+t,i+t):null}class G_{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,ct.safari&&t.contentDOM.addEventListener("input",()=>null),ct.gecko&&a3(t.contentDOM.ownerDocument)}handleEvent(t){!t3(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(t.type,t)):this.runHandlers(t.type,t))}runHandlers(t,e){let i=this.handlers[t];if(i){for(let s of i.observers)s(this.view,e);for(let s of i.handlers){if(e.defaultPrevented)break;if(s(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=F_(t),i=this.handlers,s=this.view.contentDOM;for(let l in e)if(l!="scroll"){let a=!e[l].handlers.length,u=i[l];u&&a!=!u.handlers.length&&(s.removeEventListener(l,this.handleEvent),u=null),u||s.addEventListener(l,this.handleEvent,{passive:a})}for(let l in i)l!="scroll"&&!e[l]&&s.removeEventListener(l,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&t.keyCode!=27&&VO.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),ct.android&&ct.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return ct.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((e=zO.find(i=>i.keyCode==t.keyCode))&&!t.ctrlKey||K_.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(t){let e=this.pendingIOSKey;return!e||e.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString())?!1:(this.pendingIOSKey=void 0,Cl(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:ct.safari&&!ct.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function wS(n,t){return(e,i)=>{try{return t.call(n,i,e)}catch(s){tn(e.state,s)}}}function F_(n){let t=Object.create(null);function e(i){return t[i]||(t[i]={observers:[],handlers:[]})}for(let i of n){let s=i.spec,l=s&&s.plugin.domEventHandlers,a=s&&s.plugin.domEventObservers;if(l)for(let u in l){let h=l[u];h&&e(u).handlers.push(wS(i.value,h))}if(a)for(let u in a){let h=a[u];h&&e(u).observers.push(wS(i.value,h))}}for(let i in Fn)e(i).handlers.push(Fn[i]);for(let i in Pn)e(i).observers.push(Pn[i]);return t}const zO=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],K_="dthko",VO=[16,17,18,20,91,92,224,225],Nc=6;function Bc(n){return Math.max(0,n)*.7+8}function W_(n,t){return Math.max(Math.abs(n.clientX-t.clientX),Math.abs(n.clientY-t.clientY))}class I_{constructor(t,e,i,s){this.view=t,this.startEvent=e,this.style=i,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=i_(t.contentDOM),this.atoms=t.state.facet(_0).map(a=>a(t));let l=t.contentDOM.ownerDocument;l.addEventListener("mousemove",this.move=this.move.bind(this)),l.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Bt.allowMultipleSelections)&&Q_(t,e),this.dragging=J_(t,e)&&qO(e)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&W_(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,i=0,s=0,l=0,a=this.view.win.innerWidth,u=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:l,bottom:u}=this.scrollParents.y.getBoundingClientRect());let h=N0(this.view);t.clientX-h.left<=s+Nc?e=-Bc(s-t.clientX):t.clientX+h.right>=a-Nc&&(e=Bc(t.clientX-a)),t.clientY-h.top<=l+Nc?i=-Bc(l-t.clientY):t.clientY+h.bottom>=u-Nc&&(i=Bc(t.clientY-u)),this.setScrollSpeed(e,i)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let i=0;i<t.ranges.length;i++){let s=t.ranges[i],l=null;if(s.empty){let a=ch(this.atoms,s.from,0);a!=s.from&&(l=W.cursor(a,-1))}else{let a=ch(this.atoms,s.from,-1),u=ch(this.atoms,s.to,1);(a!=s.from||u!=s.to)&&(l=W.range(s.from==s.anchor?a:u,s.from==s.head?a:u))}l&&(e||(e=t.ranges.slice()),e[i]=l)}return e?W.create(e,t.mainIndex):t}select(t){let{view:e}=this,i=this.skipAtoms(this.style.get(t,this.extend,this.multiple));(this.mustSelect||!i.eq(e.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Q_(n,t){let e=n.state.facet(xO);return e.length?e[0](t):ct.mac?t.metaKey:t.ctrlKey}function Z_(n,t){let e=n.state.facet(bO);return e.length?e[0](t):ct.mac?!t.altKey:!t.ctrlKey}function J_(n,t){let{main:e}=n.state.selection;if(e.empty)return!1;let i=Ma(n.root);if(!i||i.rangeCount==0)return!0;let s=i.getRangeAt(0).getClientRects();for(let l=0;l<s.length;l++){let a=s[l];if(a.left<=t.clientX&&a.right>=t.clientX&&a.top<=t.clientY&&a.bottom>=t.clientY)return!0}return!1}function t3(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,i;e!=n.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(i=Yt.get(e))&&i.ignoreEvent(t))return!1;return!0}const Fn=Object.create(null),Pn=Object.create(null),PO=ct.ie&&ct.ie_version<15||ct.ios&&ct.webkit_version<604;function e3(n){let t=n.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{n.focus(),e.remove(),HO(n,e.value)},50)}function gf(n,t,e){for(let i of n.facet(t))e=i(e,n);return e}function HO(n,t){t=gf(n.state,D0,t);let{state:e}=n,i,s=1,l=e.toText(t),a=l.lines==e.selection.ranges.length;if(Ag!=null&&e.selection.ranges.every(h=>h.empty)&&Ag==l.toString()){let h=-1;i=e.changeByRange(f=>{let p=e.doc.lineAt(f.from);if(p.from==h)return{range:f};h=p.from;let g=e.toText((a?l.line(s++).text:t)+e.lineBreak);return{changes:{from:p.from,insert:g},range:W.cursor(f.from+g.length)}})}else a?i=e.changeByRange(h=>{let f=l.line(s++);return{changes:{from:h.from,to:h.to,insert:f.text},range:W.cursor(h.from+f.length)}}):i=e.replaceSelection(l);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Pn.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Fn.keydown=(n,t)=>(n.inputState.setSelectionOrigin("select"),t.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Pn.touchstart=(n,t)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Pn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Fn.mousedown=(n,t)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let e=null;for(let i of n.state.facet(SO))if(e=i(n,t),e)break;if(!e&&t.button==0&&(e=s3(n,t)),e){let i=!n.hasFocus;n.inputState.startMouseSelection(new I_(n,t,e,i)),i&&n.observer.ignore(()=>{tO(n.contentDOM);let l=n.root.activeElement;l&&!l.contains(n.contentDOM)&&l.blur()});let s=n.inputState.mouseSelection;if(s)return s.start(t),s.dragging===!1}return!1};function AS(n,t,e,i){if(i==1)return W.cursor(t,e);if(i==2)return R_(n.state,t,e);{let s=ue.find(n.docView,t),l=n.state.doc.lineAt(s?s.posAtEnd:t),a=s?s.posAtStart:l.from,u=s?s.posAtEnd:l.to;return u<n.state.doc.length&&u==l.to&&u++,W.range(a,u)}}let OS=(n,t,e)=>t>=e.top&&t<=e.bottom&&n>=e.left&&n<=e.right;function n3(n,t,e,i){let s=ue.find(n.docView,t);if(!s)return 1;let l=t-s.posAtStart;if(l==0)return 1;if(l==s.length)return-1;let a=s.coordsAt(l,-1);if(a&&OS(e,i,a))return-1;let u=s.coordsAt(l,1);return u&&OS(e,i,u)?1:a&&a.bottom>=i?-1:1}function TS(n,t){let e=n.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:n3(n,e,t.clientX,t.clientY)}}const i3=ct.ie&&ct.ie_version<=11;let CS=null,MS=0,kS=0;function qO(n){if(!i3)return n.detail;let t=CS,e=kS;return CS=n,kS=Date.now(),MS=!t||e>Date.now()-400&&Math.abs(t.clientX-n.clientX)<2&&Math.abs(t.clientY-n.clientY)<2?(MS+1)%3:1}function s3(n,t){let e=TS(n,t),i=qO(t),s=n.state.selection;return{update(l){l.docChanged&&(e.pos=l.changes.mapPos(e.pos),s=s.map(l.changes))},get(l,a,u){let h=TS(n,l),f,p=AS(n,h.pos,h.bias,i);if(e.pos!=h.pos&&!a){let g=AS(n,e.pos,e.bias,i),y=Math.min(g.from,p.from),x=Math.max(g.to,p.to);p=y<p.from?W.range(y,x):W.range(x,y)}return a?s.replaceRange(s.main.extend(p.from,p.to)):u&&i==1&&s.ranges.length>1&&(f=r3(s,h.pos))?f:u?s.addRange(p):W.create([p])}}}function r3(n,t){for(let e=0;e<n.ranges.length;e++){let{from:i,to:s}=n.ranges[e];if(i<=t&&s>=t)return W.create(n.ranges.slice(0,e).concat(n.ranges.slice(e+1)),n.mainIndex==e?0:n.mainIndex-(n.mainIndex>e?1:0))}return null}Fn.dragstart=(n,t)=>{let{selection:{main:e}}=n.state;if(t.target.draggable){let s=n.docView.nearest(t.target);if(s&&s.isWidget){let l=s.posAtStart,a=l+s.length;(l>=e.to||a<=e.from)&&(e=W.range(l,a))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=e,t.dataTransfer&&(t.dataTransfer.setData("Text",gf(n.state,E0,n.state.sliceDoc(e.from,e.to))),t.dataTransfer.effectAllowed="copyMove"),!1};Fn.dragend=n=>(n.inputState.draggedContent=null,!1);function DS(n,t,e,i){if(e=gf(n.state,D0,e),!e)return;let s=n.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:l}=n.inputState,a=i&&l&&Z_(n,t)?{from:l.from,to:l.to}:null,u={from:s,insert:e},h=n.state.changes(a?[a,u]:u);n.focus(),n.dispatch({changes:h,selection:{anchor:h.mapPos(s,-1),head:h.mapPos(s,1)},userEvent:a?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Fn.drop=(n,t)=>{if(!t.dataTransfer)return!1;if(n.state.readOnly)return!0;let e=t.dataTransfer.files;if(e&&e.length){let i=Array(e.length),s=0,l=()=>{++s==e.length&&DS(n,t,i.filter(a=>a!=null).join(n.state.lineBreak),!1)};for(let a=0;a<e.length;a++){let u=new FileReader;u.onerror=l,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(i[a]=u.result),l()},u.readAsText(e[a])}return!0}else{let i=t.dataTransfer.getData("Text");if(i)return DS(n,t,i,!0),!0}return!1};Fn.paste=(n,t)=>{if(n.state.readOnly)return!0;n.observer.flush();let e=PO?null:t.clipboardData;return e?(HO(n,e.getData("text/plain")||e.getData("text/uri-list")),!0):(e3(n),!1)};function l3(n,t){let e=n.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function o3(n){let t=[],e=[],i=!1;for(let s of n.selection.ranges)s.empty||(t.push(n.sliceDoc(s.from,s.to)),e.push(s));if(!t.length){let s=-1;for(let{from:l}of n.selection.ranges){let a=n.doc.lineAt(l);a.number>s&&(t.push(a.text),e.push({from:a.from,to:Math.min(n.doc.length,a.to+1)})),s=a.number}i=!0}return{text:gf(n,E0,t.join(n.lineBreak)),ranges:e,linewise:i}}let Ag=null;Fn.copy=Fn.cut=(n,t)=>{let{text:e,ranges:i,linewise:s}=o3(n.state);if(!e&&!s)return!1;Ag=s?e:null,t.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let l=PO?null:t.clipboardData;return l?(l.clearData(),l.setData("text/plain",e),!0):(l3(n,e),!1)};const UO=Fi.define();function jO(n,t){let e=[];for(let i of n.facet(OO)){let s=i(n,t);s&&e.push(s)}return e.length?n.update({effects:e,annotations:UO.of(!0)}):null}function $O(n){setTimeout(()=>{let t=n.hasFocus;if(t!=n.inputState.notifiedFocused){let e=jO(n.state,t);e?n.dispatch(e):n.update([])}},10)}Pn.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),$O(n)};Pn.blur=n=>{n.observer.clearSelectionRange(),$O(n)};Pn.compositionstart=Pn.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Pn.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ct.chrome&&ct.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Pn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Fn.beforeinput=(n,t)=>{var e,i;if(t.inputType=="insertReplacementText"&&n.observer.editContext){let l=(e=t.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain"),a=t.getTargetRanges();if(l&&a.length){let u=a[0],h=n.posAtDOM(u.startContainer,u.startOffset),f=n.posAtDOM(u.endContainer,u.endOffset);return B0(n,{from:h,to:f,insert:n.state.toText(l)},null),!0}}let s;if(ct.chrome&&ct.android&&(s=zO.find(l=>l.inputType==t.inputType))&&(n.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let l=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>l+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ct.ios&&t.inputType=="deleteContentForward"&&n.observer.flushSoon(),ct.safari&&t.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Pn.compositionend(n,t),20),!1};const ES=new Set;function a3(n){ES.has(n)||(ES.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const RS=["pre-wrap","normal","pre-line","break-spaces"];let zl=!1;function _S(){zl=!1}class u3{constructor(t){this.lineWrapping=t,this.doc=_t.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return RS.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let s=t[i];s<0?i++:this.heightSamples[Math.floor(s*10)]||(e=!0,this.heightSamples[Math.floor(s*10)]=!0)}return e}refresh(t,e,i,s,l,a){let u=RS.indexOf(t)>-1,h=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=u;if(this.lineWrapping=u,this.lineHeight=e,this.charWidth=i,this.textHeight=s,this.lineLength=l,h){this.heightSamples={};for(let f=0;f<a.length;f++){let p=a[f];p<0?f++:this.heightSamples[Math.floor(p*10)]=!0}}return h}}class c3{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class ai{constructor(t,e,i,s,l){this.from=t,this.length=e,this.top=i,this.height=s,this._content=l}get type(){return typeof this._content=="number"?$e.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Rs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new ai(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var Ft=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Ft||(Ft={}));const hh=.001;class Xe{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>hh&&(zl=!0),this.height=t)}replace(t,e,i){return Xe.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,s){let l=this,a=i.doc;for(let u=s.length-1;u>=0;u--){let{fromA:h,toA:f,fromB:p,toB:g}=s[u],y=l.lineAt(h,Ft.ByPosNoHeight,i.setDoc(e),0,0),x=y.to>=f?y:l.lineAt(f,Ft.ByPosNoHeight,i,0,0);for(g+=x.to-f,f=x.to;u>0&&y.from<=s[u-1].toA;)h=s[u-1].fromA,p=s[u-1].fromB,u--,h<y.from&&(y=l.lineAt(h,Ft.ByPosNoHeight,i,0,0));p+=y.from-h,h=y.from;let b=L0.build(i.setDoc(a),t,p,g);l=Nh(l,l.replace(h,f,b))}return l.updateHeight(i,0)}static empty(){return new yn(0,0)}static of(t){if(t.length==1)return t[0];let e=0,i=t.length,s=0,l=0;for(;;)if(e==i)if(s>l*2){let u=t[e-1];u.break?t.splice(--e,1,u.left,null,u.right):t.splice(--e,1,u.left,u.right),i+=1+u.break,s-=u.size}else if(l>s*2){let u=t[i];u.break?t.splice(i,1,u.left,null,u.right):t.splice(i,1,u.left,u.right),i+=2+u.break,l-=u.size}else break;else if(s<l){let u=t[e++];u&&(s+=u.size)}else{let u=t[--i];u&&(l+=u.size)}let a=0;return t[e-1]==null?(a=1,e--):t[e]==null&&(a=1,i++),new h3(Xe.of(t.slice(0,e)),a,Xe.of(t.slice(i)))}}function Nh(n,t){return n==t?n:(n.constructor!=t.constructor&&(zl=!0),t)}Xe.prototype.size=1;class XO extends Xe{constructor(t,e,i){super(t,e),this.deco=i}blockAt(t,e,i,s){return new ai(s,this.length,i,this.height,this.deco||0)}lineAt(t,e,i,s,l){return this.blockAt(0,i,s,l)}forEachLine(t,e,i,s,l,a){t<=l+this.length&&e>=l&&a(this.blockAt(0,i,s,l))}updateHeight(t,e=0,i=!1,s){return s&&s.from<=e&&s.more&&this.setHeight(s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class yn extends XO{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,i,s){return new ai(s,this.length,i,this.height,this.breaks)}replace(t,e,i){let s=i[0];return i.length==1&&(s instanceof yn||s instanceof ke&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof ke?s=new yn(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):Xe.of(i)}updateHeight(t,e=0,i=!1,s){return s&&s.from<=e&&s.more?this.setHeight(s.heights[s.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ke extends Xe{constructor(t){super(t,0)}heightMetrics(t,e){let i=t.doc.lineAt(e).number,s=t.doc.lineAt(e+this.length).number,l=s-i+1,a,u=0;if(t.lineWrapping){let h=Math.min(this.height,t.lineHeight*l);a=h/l,this.length>l+1&&(u=(this.height-h)/(this.length-l-1))}else a=this.height/l;return{firstLine:i,lastLine:s,perLine:a,perChar:u}}blockAt(t,e,i,s){let{firstLine:l,lastLine:a,perLine:u,perChar:h}=this.heightMetrics(e,s);if(e.lineWrapping){let f=s+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-i)/this.height))*this.length)),p=e.doc.lineAt(f),g=u+p.length*h,y=Math.max(i,t-g/2);return new ai(p.from,p.length,y,g,0)}else{let f=Math.max(0,Math.min(a-l,Math.floor((t-i)/u))),{from:p,length:g}=e.doc.line(l+f);return new ai(p,g,i+u*f,u,0)}}lineAt(t,e,i,s,l){if(e==Ft.ByHeight)return this.blockAt(t,i,s,l);if(e==Ft.ByPosNoHeight){let{from:x,to:b}=i.doc.lineAt(t);return new ai(x,b-x,0,0,0)}let{firstLine:a,perLine:u,perChar:h}=this.heightMetrics(i,l),f=i.doc.lineAt(t),p=u+f.length*h,g=f.number-a,y=s+u*g+h*(f.from-l-g);return new ai(f.from,f.length,Math.max(s,Math.min(y,s+this.height-p)),p,0)}forEachLine(t,e,i,s,l,a){t=Math.max(t,l),e=Math.min(e,l+this.length);let{firstLine:u,perLine:h,perChar:f}=this.heightMetrics(i,l);for(let p=t,g=s;p<=e;){let y=i.doc.lineAt(p);if(p==t){let b=y.number-u;g+=h*b+f*(t-l-b)}let x=h+f*y.length;a(new ai(y.from,y.length,g,x,0)),g+=x,p=y.to+1}}replace(t,e,i){let s=this.length-e;if(s>0){let l=i[i.length-1];l instanceof ke?i[i.length-1]=new ke(l.length+s):i.push(null,new ke(s-1))}if(t>0){let l=i[0];l instanceof ke?i[0]=new ke(t+l.length):i.unshift(new ke(t-1),null)}return Xe.of(i)}decomposeLeft(t,e){e.push(new ke(t-1),null)}decomposeRight(t,e){e.push(null,new ke(this.length-t-1))}updateHeight(t,e=0,i=!1,s){let l=e+this.length;if(s&&s.from<=e+this.length&&s.more){let a=[],u=Math.max(e,s.from),h=-1;for(s.from>e&&a.push(new ke(s.from-e-1).updateHeight(t,e));u<=l&&s.more;){let p=t.doc.lineAt(u).length;a.length&&a.push(null);let g=s.heights[s.index++];h==-1?h=g:Math.abs(g-h)>=hh&&(h=-2);let y=new yn(p,g);y.outdated=!1,a.push(y),u+=p+1}u<=l&&a.push(null,new ke(l-u).updateHeight(t,u));let f=Xe.of(a);return(h<0||Math.abs(f.height-this.height)>=hh||Math.abs(h-this.heightMetrics(t,e).perLine)>=hh)&&(zl=!0),Nh(this,f)}else(i||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class h3 extends Xe{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return this.flags&1}blockAt(t,e,i,s){let l=i+this.left.height;return t<l?this.left.blockAt(t,e,i,s):this.right.blockAt(t,e,l,s+this.left.length+this.break)}lineAt(t,e,i,s,l){let a=s+this.left.height,u=l+this.left.length+this.break,h=e==Ft.ByHeight?t<a:t<u,f=h?this.left.lineAt(t,e,i,s,l):this.right.lineAt(t,e,i,a,u);if(this.break||(h?f.to<u:f.from>u))return f;let p=e==Ft.ByPosNoHeight?Ft.ByPosNoHeight:Ft.ByPos;return h?f.join(this.right.lineAt(u,p,i,a,u)):this.left.lineAt(u,p,i,s,l).join(f)}forEachLine(t,e,i,s,l,a){let u=s+this.left.height,h=l+this.left.length+this.break;if(this.break)t<h&&this.left.forEachLine(t,e,i,s,l,a),e>=h&&this.right.forEachLine(t,e,i,u,h,a);else{let f=this.lineAt(h,Ft.ByPos,i,s,l);t<f.from&&this.left.forEachLine(t,f.from-1,i,s,l,a),f.to>=t&&f.from<=e&&a(f),e>f.to&&this.right.forEachLine(f.to+1,e,i,u,h,a)}}replace(t,e,i){let s=this.left.length+this.break;if(e<s)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-s,e-s,i));let l=[];t>0&&this.decomposeLeft(t,l);let a=l.length;for(let u of i)l.push(u);if(t>0&&NS(l,a-1),e<this.length){let u=l.length;this.decomposeRight(e,l),NS(l,u)}return Xe.of(l)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,s=i+this.break;if(t>=s)return this.right.decomposeRight(t-s,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<s&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Xe.of(this.break?[t,null,e]:[t,e]):(this.left=Nh(this.left,t),this.right=Nh(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,s){let{left:l,right:a}=this,u=e+l.length+this.break,h=null;return s&&s.from<=e+l.length&&s.more?h=l=l.updateHeight(t,e,i,s):l.updateHeight(t,e,i),s&&s.from<=u+a.length&&s.more?h=a=a.updateHeight(t,u,i,s):a.updateHeight(t,u,i),h?this.balanced(l,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function NS(n,t){let e,i;n[t]==null&&(e=n[t-1])instanceof ke&&(i=n[t+1])instanceof ke&&n.splice(t-1,3,new ke(e.length+1+i.length))}const f3=5;class L0{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let i=Math.min(e,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof yn?s.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new yn(i-this.pos,-1)),this.writtenTo=i,e>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let s=i.widget?i.widget.estimatedHeight:0,l=i.widget?i.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let a=e-t;i.block?this.addBlock(new XO(a,s,i)):(a||l||s>=f3)&&this.addLineDeco(s,l,a)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new yn(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let i=new ke(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof yn)return t;let e=new yn(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,i){let s=this.ensureLine();s.length+=i,s.collapsed+=i,s.widgetHeight=Math.max(s.widgetHeight,t),s.breaks+=e,this.writtenTo=this.pos=this.pos+i}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof yn)&&!this.isCovered?this.nodes.push(new yn(0,-1)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=t;for(let s of this.nodes)s instanceof yn&&s.updateHeight(this.oracle,i),i+=s?s.length:1;return this.nodes}static build(t,e,i,s){let l=new L0(i,t);return Rt.spans(e,i,s,l,0),l.finish(i)}}function d3(n,t,e){let i=new p3;return Rt.compare(n,t,e,i,0),i.changes}class p3{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,s){(t<e||i&&i.heightRelevant||s&&s.heightRelevant)&&uh(t,e,this.changes,5)}}function m3(n,t){let e=n.getBoundingClientRect(),i=n.ownerDocument,s=i.defaultView||window,l=Math.max(0,e.left),a=Math.min(s.innerWidth,e.right),u=Math.max(0,e.top),h=Math.min(s.innerHeight,e.bottom);for(let f=n.parentNode;f&&f!=i.body;)if(f.nodeType==1){let p=f,g=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&g.overflow!="visible"){let y=p.getBoundingClientRect();l=Math.max(l,y.left),a=Math.min(a,y.right),u=Math.max(u,y.top),h=Math.min(f==n.parentNode?s.innerHeight:h,y.bottom)}f=g.position=="absolute"||g.position=="fixed"?p.offsetParent:p.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:l-e.left,right:Math.max(l,a)-e.left,top:u-(e.top+t),bottom:Math.max(u,h)-(e.top+t)}}function g3(n){let t=n.getBoundingClientRect(),e=n.ownerDocument.defaultView||window;return t.left<e.innerWidth&&t.right>0&&t.top<e.innerHeight&&t.bottom>0}function y3(n,t){let e=n.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class rm{constructor(t,e,i,s){this.from=t,this.to=e,this.size=i,this.displaySize=s}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let s=t[i],l=e[i];if(s.from!=l.from||s.to!=l.to||s.size!=l.size)return!1}return!0}draw(t,e){return xt.replace({widget:new v3(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class v3 extends Vs{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class BS{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=LS,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Kt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(R0).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new u3(e),this.stateDeco=t.facet(Da).filter(i=>typeof i!="function"),this.heightMap=Xe.empty().applyChanges(this.stateDeco,_t.empty,this.heightOracle.setDoc(t.doc),[new zn(0,0,0,t.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=xt.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let s=i?e.head:e.anchor;if(!t.some(({from:l,to:a})=>s>=l&&s<=a)){let{from:l,to:a}=this.lineBlockAt(s);t.push(new Lc(l,a))}}return this.viewports=t.sort((i,s)=>i.from-s.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?LS:new z0(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(aa(t,this.scaler))})}update(t,e=null){this.state=t.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Da).filter(p=>typeof p!="function");let s=t.changedRanges,l=zn.extendWithRanges(s,d3(i,this.stateDeco,t?t.changes:me.empty(this.state.doc.length))),a=this.heightMap.height,u=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);_S(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),l),(this.heightMap.height!=a||zl)&&(t.flags|=2),u?(this.scrollAnchorPos=t.changes.mapPos(u.from,-1),this.scrollAnchorHeight=u.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let h=l.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<h.from||e.range.head>h.to)||!this.viewportIsAppropriate(h))&&(h=this.getViewport(0,e));let f=h.from!=this.viewport.from||h.to!=this.viewport.to;this.viewport=h,t.flags|=this.updateForViewport(),(f||!t.changes.empty||t.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(CO)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),s=this.heightOracle,l=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Kt.RTL:Kt.LTR;let a=this.heightOracle.mustRefreshForWrapping(l),u=e.getBoundingClientRect(),h=a||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let f=0,p=0;if(u.width&&u.height){let{scaleX:M,scaleY:D}=J2(e,u);(M>.005&&Math.abs(this.scaleX-M)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=M,this.scaleY=D,f|=16,a=h=!0)}let g=(parseInt(i.paddingTop)||0)*this.scaleY,y=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=g||this.paddingBottom!=y)&&(this.paddingTop=g,this.paddingBottom=y,f|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(s.lineWrapping&&(h=!0),this.editorWidth=t.scrollDOM.clientWidth,f|=16);let x=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=nO(t.scrollDOM);let b=(this.printing?y3:m3)(e,this.paddingTop),w=b.top-this.pixelViewport.top,A=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let O=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(O!=this.inView&&(this.inView=O,O&&(h=!0)),!this.inView&&!this.scrollTarget&&!g3(t.dom))return 0;let C=u.width;if((this.contentDOMWidth!=C||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=u.width,this.editorHeight=t.scrollDOM.clientHeight,f|=16),h){let M=t.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(M)&&(a=!0),a||s.lineWrapping&&Math.abs(C-this.contentDOMWidth)>s.charWidth){let{lineHeight:D,charWidth:L,textHeight:z}=t.docView.measureTextSize();a=D>0&&s.refresh(l,D,L,z,C/L,M),a&&(t.docView.minWidth=0,f|=16)}w>0&&A>0?p=Math.max(w,A):w<0&&A<0&&(p=Math.min(w,A)),_S();for(let D of this.viewports){let L=D.from==this.viewport.from?M:t.docView.measureVisibleLineHeights(D);this.heightMap=(a?Xe.empty().applyChanges(this.stateDeco,_t.empty,this.heightOracle,[new zn(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(s,0,a,new c3(D.from,L))}zl&&(f|=2)}let E=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return E&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),f|=this.updateForViewport()),(f&2||E)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,t)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),s=this.heightMap,l=this.heightOracle,{visibleTop:a,visibleBottom:u}=this,h=new Lc(s.lineAt(a-i*1e3,Ft.ByHeight,l,0,0).from,s.lineAt(u+(1-i)*1e3,Ft.ByHeight,l,0,0).to);if(e){let{head:f}=e.range;if(f<h.from||f>h.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),g=s.lineAt(f,Ft.ByPos,l,0,0),y;e.y=="center"?y=(g.top+g.bottom)/2-p/2:e.y=="start"||e.y=="nearest"&&f<h.from?y=g.top:y=g.bottom-p,h=new Lc(s.lineAt(y-1e3/2,Ft.ByHeight,l,0,0).from,s.lineAt(y+p+1e3/2,Ft.ByHeight,l,0,0).to)}}return h}mapViewport(t,e){let i=e.mapPos(t.from,-1),s=e.mapPos(t.to,1);return new Lc(this.heightMap.lineAt(i,Ft.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,Ft.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(t,Ft.ByPos,this.heightOracle,0,0),{bottom:l}=this.heightMap.lineAt(e,Ft.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:u}=this;return(t==0||s<=a-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||l>=u+Math.max(10,Math.min(i,250)))&&s>a-2*1e3&&l<u+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let s of t)e.touchesRange(s.from,s.to)||i.push(new rm(e.mapPos(s.from),e.mapPos(s.to),s.size,s.displaySize));return i}ensureLineGaps(t,e){let i=this.heightOracle.lineWrapping,s=i?1e4:2e3,l=s>>1,a=s<<1;if(this.defaultTextDirection!=Kt.LTR&&!i)return[];let u=[],h=(p,g,y,x)=>{if(g-p<l)return;let b=this.state.selection.main,w=[b.from];b.empty||w.push(b.to);for(let O of w)if(O>p&&O<g){h(p,O-10,y,x),h(O+10,g,y,x);return}let A=b3(t,O=>O.from>=y.from&&O.to<=y.to&&Math.abs(O.from-p)<l&&Math.abs(O.to-g)<l&&!w.some(C=>O.from<C&&O.to>C));if(!A){if(g<y.to&&e&&i&&e.visibleRanges.some(E=>E.from<=g&&E.to>=g)){let E=e.moveToLineBoundary(W.cursor(g),!1,!0).head;E>p&&(g=E)}let O=this.gapSize(y,p,g,x),C=i||O<2e6?O:2e6;A=new rm(p,g,O,C)}u.push(A)},f=p=>{if(p.length<a||p.type!=$e.Text)return;let g=x3(p.from,p.to,this.stateDeco);if(g.total<a)return;let y=this.scrollTarget?this.scrollTarget.range.head:null,x,b;if(i){let w=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,A,O;if(y!=null){let C=Vc(g,y),E=((this.visibleBottom-this.visibleTop)/2+w)/p.height;A=C-E,O=C+E}else A=(this.visibleTop-p.top-w)/p.height,O=(this.visibleBottom-p.top+w)/p.height;x=zc(g,A),b=zc(g,O)}else{let w=g.total*this.heightOracle.charWidth,A=s*this.heightOracle.charWidth,O=0;if(w>2e6)for(let L of t)L.from>=p.from&&L.from<p.to&&L.size!=L.displaySize&&L.from*this.heightOracle.charWidth+O<this.pixelViewport.left&&(O=L.size-L.displaySize);let C=this.pixelViewport.left+O,E=this.pixelViewport.right+O,M,D;if(y!=null){let L=Vc(g,y),z=((E-C)/2+A)/w;M=L-z,D=L+z}else M=(C-A)/w,D=(E+A)/w;x=zc(g,M),b=zc(g,D)}x>p.from&&h(p.from,x,p,g),b<p.to&&h(b,p.to,p,g)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(f):f(p);return u}gapSize(t,e,i,s){let l=Vc(s,i)-Vc(s,e);return this.heightOracle.lineWrapping?t.height*l:s.total*this.heightOracle.charWidth*l}updateLineGaps(t){rm.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=xt.set(t.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(t){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let i=[];Rt.spans(e,this.viewport.from,this.viewport.to,{span(l,a){i.push({from:l,to:a})},point(){}},20);let s=0;if(i.length!=this.visibleRanges.length)s=12;else for(let l=0;l<i.length&&!(s&8);l++){let a=this.visibleRanges[l],u=i[l];(a.from!=u.from||a.to!=u.to)&&(s|=4,t&&t.mapPos(a.from,-1)==u.from&&t.mapPos(a.to,1)==u.to||(s|=8))}return this.visibleRanges=i,s}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||aa(this.heightMap.lineAt(t,Ft.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(e=>e.top<=t&&e.bottom>=t)||aa(this.heightMap.lineAt(this.scaler.fromDOM(t),Ft.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return aa(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Lc{constructor(t,e){this.from=t,this.to=e}}function x3(n,t,e){let i=[],s=n,l=0;return Rt.spans(e,n,t,{span(){},point(a,u){a>s&&(i.push({from:s,to:a}),l+=a-s),s=u}},20),s<t&&(i.push({from:s,to:t}),l+=t-s),{total:l,ranges:i}}function zc({total:n,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let i=Math.floor(n*e);for(let s=0;;s++){let{from:l,to:a}=t[s],u=a-l;if(i<=u)return l+i;i-=u}}function Vc(n,t){let e=0;for(let{from:i,to:s}of n.ranges){if(t<=s){e+=t-i;break}e+=s-i}return e/n.total}function b3(n,t){for(let e of n)if(t(e))return e}const LS={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class z0{constructor(t,e,i){let s=0,l=0,a=0;this.viewports=i.map(({from:u,to:h})=>{let f=e.lineAt(u,Ft.ByPos,t,0,0).top,p=e.lineAt(h,Ft.ByPos,t,0,0).bottom;return s+=p-f,{from:u,to:h,top:f,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(e.height-s);for(let u of this.viewports)u.domTop=a+(u.top-l)*this.scale,a=u.domBottom=u.domTop+(u.bottom-u.top),l=u.bottom}toDOM(t){for(let e=0,i=0,s=0;;e++){let l=e<this.viewports.length?this.viewports[e]:null;if(!l||t<l.top)return s+(t-i)*this.scale;if(t<=l.bottom)return l.domTop+(t-l.top);i=l.bottom,s=l.domBottom}}fromDOM(t){for(let e=0,i=0,s=0;;e++){let l=e<this.viewports.length?this.viewports[e]:null;if(!l||t<l.domTop)return i+(t-s)/this.scale;if(t<=l.domBottom)return l.top+(t-l.domTop);i=l.bottom,s=l.domBottom}}eq(t){return t instanceof z0?this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,i)=>e.from==t.viewports[i].from&&e.to==t.viewports[i].to):!1}}function aa(n,t){if(t.scale==1)return n;let e=t.toDOM(n.top),i=t.toDOM(n.bottom);return new ai(n.from,n.length,e,i-e,Array.isArray(n._content)?n._content.map(s=>aa(s,t)):n._content)}const Pc=ut.define({combine:n=>n.join(" ")}),Og=ut.define({combine:n=>n.indexOf(!0)>-1}),Tg=Ds.newName(),YO=Ds.newName(),GO=Ds.newName(),FO={"&light":"."+YO,"&dark":"."+GO};function Cg(n,t,e){return new Ds(t,{finish(i){return/&/.test(i)?i.replace(/&\w*/,s=>{if(s=="&")return n;if(!e||!e[s])throw new RangeError(`Unsupported selector: ${s}`);return e[s]}):n+" "+i}})}const S3=Cg("."+Tg,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},FO),w3={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},lm=ct.ie&&ct.ie_version<=11;class A3{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new s_,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let i of e)this.queue.push(i);(ct.ie&&ct.ie_version<=11||ct.ios&&t.composing)&&e.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&t.constructor.EDIT_CONTEXT!==!1&&!(ct.chrome&&ct.chrome_version<126)&&(this.editContext=new T3(t),t.state.facet(Pi)&&(t.contentDOM.editContext=this.editContext.editContext)),lm&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var e;((e=this.view.docView)===null||e===void 0?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){(t.type=="change"||!t.type)&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,i)=>e!=t[i]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,s=this.selectionRange;if(i.state.facet(Pi)?i.root.activeElement!=this.dom:!ah(this.dom,s))return;let l=s.anchorNode&&i.docView.nearest(s.anchorNode);if(l&&l.ignoreEvent(t)){e||(this.selectionChanged=!1);return}(ct.ie&&ct.ie_version<=11||ct.android&&ct.chrome)&&!i.state.selection.main.empty&&s.focusNode&&ma(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=Ma(t.root);if(!e)return!1;let i=ct.safari&&t.root.nodeType==11&&t.root.activeElement==this.dom&&O3(this.view,e)||e;if(!i||this.selectionRange.eq(i))return!1;let s=ah(this.dom,i);return s&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&l_(this.dom,i)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(i),s&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(i.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=e)i.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,w3),lm&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),lm&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var i;if(!this.delayedAndroidKey){let s=()=>{let l=this.delayedAndroidKey;l&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=l.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&l.force&&Cl(this.dom,l.key,l.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,i=-1,s=!1;for(let l of t){let a=this.readMutation(l);a&&(a.typeOver&&(s=!0),e==-1?{from:e,to:i}=a:(e=Math.min(a.from,e),i=Math.max(a.to,i)))}return{from:e,to:i,typeOver:s}}readChange(){let{from:t,to:e,typeOver:i}=this.processRecords(),s=this.selectionChanged&&ah(this.dom,this.selectionRange);if(t<0&&!s)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let l=new U_(this.view,t,e,i);return this.view.docView.domChanged={newSel:l.newSel?l.newSel.main:null},l}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let i=this.view.state,s=LO(this.view,e);return this.view.state==i&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.flags|=4),t.type=="childList"){let i=zS(e,t.previousSibling||t.target.previousSibling,-1),s=zS(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:s?e.posBefore(s):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(Pi)!=t.state.facet(Pi)&&(t.view.contentDOM.editContext=t.state.facet(Pi)?this.editContext.editContext:null))}destroy(){var t,e,i;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function zS(n,t,e){for(;t;){let i=Yt.get(t);if(i&&i.parent==n)return i;let s=t.parentNode;t=s!=n.dom?s:e>0?t.nextSibling:t.previousSibling}return null}function VS(n,t){let e=t.startContainer,i=t.startOffset,s=t.endContainer,l=t.endOffset,a=n.docView.domAtPos(n.state.selection.main.anchor);return ma(a.node,a.offset,s,l)&&([e,i,s,l]=[s,l,e,i]),{anchorNode:e,anchorOffset:i,focusNode:s,focusOffset:l}}function O3(n,t){if(t.getComposedRanges){let s=t.getComposedRanges(n.root)[0];if(s)return VS(n,s)}let e=null;function i(s){s.preventDefault(),s.stopImmediatePropagation(),e=s.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),e?VS(n,e):null}class T3{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=i=>{let s=t.state.selection.main,{anchor:l,head:a}=s,u=this.toEditorPos(i.updateRangeStart),h=this.toEditorPos(i.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:u,drifted:!1});let f={from:u,to:h,insert:_t.of(i.text.split(`
`))};if(f.from==this.from&&l<this.from?f.from=l:f.to==this.to&&l>this.to&&(f.to=l),f.from==f.to&&!f.insert.length){let p=W.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));p.main.eq(s)||t.dispatch({selection:p,userEvent:"select"});return}if((ct.mac||ct.android)&&f.from==a-1&&/^\. ?$/.test(i.text)&&t.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:u,to:h,insert:_t.of([i.text.replace("."," ")])}),this.pendingContextChange=f,!t.state.readOnly){let p=this.to-this.from+(f.to-f.from+f.insert.length);B0(t,f,W.single(this.toEditorPos(i.selectionStart,p),this.toEditorPos(i.selectionEnd,p)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state))},this.handlers.characterboundsupdate=i=>{let s=[],l=null;for(let a=this.toEditorPos(i.rangeStart),u=this.toEditorPos(i.rangeEnd);a<u;a++){let h=t.coordsForChar(a);l=h&&new DOMRect(h.left,h.top,h.right-h.left,h.bottom-h.top)||l||new DOMRect,s.push(l)}e.updateCharacterBounds(i.rangeStart,s)},this.handlers.textformatupdate=i=>{let s=[];for(let l of i.getTextFormats()){let a=l.underlineStyle,u=l.underlineThickness;if(a!="None"&&u!="None"){let h=this.toEditorPos(l.rangeStart),f=this.toEditorPos(l.rangeEnd);if(h<f){let p=`text-decoration: underline ${a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${u=="Thin"?1:2}px`;s.push(xt.mark({attributes:{style:p}}).range(h,f))}}}t.dispatch({effects:kO.of(xt.set(s))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(t.state)}};for(let i in this.handlers)e.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let s=Ma(i.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,i=!1,s=this.pendingContextChange;return t.changes.iterChanges((l,a,u,h,f)=>{if(i)return;let p=f.length-(a-l);if(s&&a>=s.to)if(s.from==l&&s.to==a&&s.insert.eq(f)){s=this.pendingContextChange=null,e+=p,this.to+=p;return}else s=null,this.revertPending(t.state);if(l+=e,a+=e,a<=this.from)this.from+=p,this.to+=p;else if(l<this.to){if(l<this.from||a>this.to||this.to-this.from+f.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(l),this.toContextPos(a),f.toString()),this.to+=p}e+=p}),s&&!i&&this.revertPending(t.state),!i}update(t){let e=this.pendingContextChange,i=t.startState.selection.main;this.composing&&(this.composing.drifted||!t.changes.touchesRange(i.from,i.to)&&t.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):!this.applyEdits(t)||!this.rangeIsValid(t.state)?(this.pendingContextChange=null,this.reset(t.state)):(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),s=this.toContextPos(e.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(i,s)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>1e4*3)}toEditorPos(t,e=this.to-this.from){t=Math.min(t,e);let i=this.composing;return i&&i.drifted?i.editorBase+(t-i.contextBase):t+this.from}toContextPos(t){let e=this.composing;return e&&e.drifted?e.contextBase+(t-e.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class at{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:i}=t;this.dispatchTransactions=t.dispatchTransactions||i&&(s=>s.forEach(l=>i(l,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=t.root||r_(t.parent)||document,this.viewState=new BS(t.state||Bt.create(t)),t.scrollTo&&t.scrollTo.is(_c)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(gl).map(s=>new nm(s));for(let s of this.plugins)s.update(this);this.observer=new A3(this),this.inputState=new G_(this),this.inputState.ensureHandlers(this.plugins),this.docView=new mS(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((e=document.fonts)===null||e===void 0)&&e.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...t){let e=t.length==1&&t[0]instanceof ge?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,i=!1,s,l=this.state;for(let y of t){if(y.startState!=l)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");l=y.state}if(this.destroyed){this.viewState.state=l;return}let a=this.hasFocus,u=0,h=null;t.some(y=>y.annotation(UO))?(this.inputState.notifiedFocused=a,u=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,h=jO(l,a),h||(u=1));let f=this.observer.delayedAndroidKey,p=null;if(f?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(l.doc)||!this.state.selection.eq(l.selection))&&(p=null)):this.observer.clear(),l.facet(Bt.phrases)!=this.state.facet(Bt.phrases))return this.setState(l);s=_h.create(this,l,t),s.flags|=u;let g=this.viewState.scrollTarget;try{this.updateState=2;for(let y of t){if(g&&(g=g.map(y.changes)),y.scrollIntoView){let{main:x}=y.state.selection;g=new Ml(x.empty?x:W.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of y.effects)x.is(_c)&&(g=x.value.clip(this.state))}this.viewState.update(s,g),this.bidiCache=Bh.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),e=this.docView.update(s),this.state.facet(la)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Pc)!=s.state.facet(Pc)&&(this.viewState.mustMeasureContent=!0),(e||i||g||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),e&&this.docViewUpdate(),!s.empty)for(let y of this.state.facet(bg))try{y(s)}catch(x){tn(this.state,x,"update listener")}(h||p)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),p&&!LO(this,p)&&f.force&&Cl(this.contentDOM,f.key,f.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new BS(t),this.plugins=t.facet(gl).map(i=>new nm(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new mS(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(gl),i=t.state.facet(gl);if(e!=i){let s=[];for(let l of i){let a=e.indexOf(l);if(a<0)s.push(new nm(l));else{let u=this.plugins[a];u.mustUpdate=t,s.push(u)}}for(let l of this.plugins)l.mustUpdate!=t&&l.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=t;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);e!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(i){tn(this.state,i,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,i=this.scrollDOM,s=i.scrollTop*this.scaleY,{scrollAnchorPos:l,scrollAnchorHeight:a}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let u=0;;u++){if(a<0)if(nO(i))l=-1,a=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(s);l=x.from,a=x.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];h&4||([this.measureRequests,f]=[f,this.measureRequests]);let p=f.map(x=>{try{return x.read(this)}catch(b){return tn(this.state,b),PS}}),g=_h.create(this,this.state,[]),y=!1;g.flags|=h,e?e.flags|=h:e=g,this.updateState=2,g.empty||(this.updatePlugins(g),this.inputState.update(g),this.updateAttrs(),y=this.docView.update(g),y&&this.docViewUpdate());for(let x=0;x<f.length;x++)if(p[x]!=PS)try{let b=f[x];b.write&&b.write(p[x],this)}catch(b){tn(this.state,b)}if(y&&this.docView.updateSelection(!0),!g.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let b=(l<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(l).top)-a;if(b>1||b<-1){s=s+b,i.scrollTop=s/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let u of this.state.facet(bg))u(e)}get themeClasses(){return Tg+" "+(this.state.facet(Og)?GO:YO)+" "+this.state.facet(Pc)}updateAttrs(){let t=HS(this,DO,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Pi)?"true":"false",class:"cm-content",style:`${ct.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),HS(this,R0,e);let i=this.observer.ignore(()=>{let s=mg(this.contentDOM,this.contentAttrs,e),l=mg(this.dom,this.editorAttrs,t);return s||l});return this.editorAttrs=t,this.contentAttrs=e,i}showAnnouncements(t){let e=!0;for(let i of t)for(let s of i.effects)if(s.is(at.announce)){e&&(this.announceDOM.textContent=""),e=!1;let l=this.announceDOM.appendChild(document.createElement("div"));l.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(la);let t=this.state.facet(at.cspNonce);Ds.mount(this.root,this.styleModules.concat(S3).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.plugin!=t)&&this.pluginMap.set(t,e=this.plugins.find(i=>i.plugin==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return sm(this,t,bS(this,t,e,i))}moveByGroup(t,e){return sm(this,t,bS(this,t,e,i=>V_(this,t.head,i)))}visualLineSide(t,e){let i=this.bidiSpans(t),s=this.textDirectionAt(t.from),l=i[e?i.length-1:0];return W.cursor(l.side(e,s)+t.from,l.forward(!e,s)?1:-1)}moveToLineBoundary(t,e,i=!0){return z_(this,t,e,i)}moveVertically(t,e,i){return sm(this,t,P_(this,t,e,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),BO(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(t),l=this.bidiSpans(s),a=l[Ts.find(l,t-s.from,-1,e)];return pf(i,a.dir==Kt.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(TO)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>C3)return yO(t.length);let e=this.textDirectionAt(t.from),i;for(let l of this.bidiCache)if(l.from==t.from&&l.dir==e&&(l.fresh||gO(l.isolates,i=pS(this,t))))return l.order;i||(i=pS(this,t));let s=b_(t.text,e,i);return this.bidiCache.push(new Bh(t.from,t.to,e,i,!0,s)),s}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||ct.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{tO(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return _c.of(new Ml(typeof t=="number"?W.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,i=this.viewState.scrollAnchorAt(t);return _c.of(new Ml(W.cursor(i.from),"start","start",i.top-t,e,!0))}setTabFocusMode(t){t==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof t=="boolean"?this.inputState.tabFocusMode=t?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return fe.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return fe.define(()=>({}),{eventObservers:t})}static theme(t,e){let i=Ds.newName(),s=[Pc.of(i),la.of(Cg(`.${i}`,t))];return e&&e.dark&&s.push(Og.of(!0)),s}static baseTheme(t){return Mr.lowest(la.of(Cg("."+Tg,t,FO)))}static findFromDOM(t){var e;let i=t.querySelector(".cm-content"),s=i&&Yt.get(i)||Yt.get(t);return((e=s==null?void 0:s.rootView)===null||e===void 0?void 0:e.view)||null}}at.styleModule=la;at.inputHandler=AO;at.clipboardInputFilter=D0;at.clipboardOutputFilter=E0;at.scrollHandler=MO;at.focusChangeEffect=OO;at.perLineTextDirection=TO;at.exceptionSink=wO;at.updateListener=bg;at.editable=Pi;at.mouseSelectionStyle=SO;at.dragMovesSelection=bO;at.clickAddsSelectionRange=xO;at.decorations=Da;at.outerDecorations=EO;at.atomicRanges=_0;at.bidiIsolatedRanges=RO;at.scrollMargins=_O;at.darkTheme=Og;at.cspNonce=ut.define({combine:n=>n.length?n[0]:""});at.contentAttributes=R0;at.editorAttributes=DO;at.lineWrapping=at.contentAttributes.of({class:"cm-lineWrapping"});at.announce=At.define();const C3=4096,PS={};class Bh{constructor(t,e,i,s,l,a){this.from=t,this.to=e,this.dir=i,this.isolates=s,this.fresh=l,this.order=a}static update(t,e){if(e.empty&&!t.some(l=>l.fresh))return t;let i=[],s=t.length?t[t.length-1].dir:Kt.LTR;for(let l=Math.max(0,t.length-10);l<t.length;l++){let a=t[l];a.dir==s&&!e.touchesRange(a.from,a.to)&&i.push(new Bh(e.mapPos(a.from,1),e.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return i}}function HS(n,t,e){for(let i=n.state.facet(t),s=i.length-1;s>=0;s--){let l=i[s],a=typeof l=="function"?l(n):l;a&&pg(a,e)}return e}const M3=ct.mac?"mac":ct.windows?"win":ct.linux?"linux":"key";function k3(n,t){const e=n.split(/-(?!$)/);let i=e[e.length-1];i=="Space"&&(i=" ");let s,l,a,u;for(let h=0;h<e.length-1;++h){const f=e[h];if(/^(cmd|meta|m)$/i.test(f))u=!0;else if(/^a(lt)?$/i.test(f))s=!0;else if(/^(c|ctrl|control)$/i.test(f))l=!0;else if(/^s(hift)?$/i.test(f))a=!0;else if(/^mod$/i.test(f))t=="mac"?u=!0:l=!0;else throw new Error("Unrecognized modifier name: "+f)}return s&&(i="Alt-"+i),l&&(i="Ctrl-"+i),u&&(i="Meta-"+i),a&&(i="Shift-"+i),i}function Hc(n,t,e){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),e!==!1&&t.shiftKey&&(n="Shift-"+n),n}const D3=Mr.default(at.domEventHandlers({keydown(n,t){return WO(KO(t.state),n,t,"editor")}})),V0=ut.define({enables:D3}),qS=new WeakMap;function KO(n){let t=n.facet(V0),e=qS.get(t);return e||qS.set(t,e=_3(t.reduce((i,s)=>i.concat(s),[]))),e}function E3(n,t,e){return WO(KO(n.state),t,n,e)}let ws=null;const R3=4e3;function _3(n,t=M3){let e=Object.create(null),i=Object.create(null),s=(a,u)=>{let h=i[a];if(h==null)i[a]=u;else if(h!=u)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},l=(a,u,h,f,p)=>{var g,y;let x=e[a]||(e[a]=Object.create(null)),b=u.split(/ (?!$)/).map(O=>k3(O,t));for(let O=1;O<b.length;O++){let C=b.slice(0,O).join(" ");s(C,!0),x[C]||(x[C]={preventDefault:!0,stopPropagation:!1,run:[E=>{let M=ws={view:E,prefix:C,scope:a};return setTimeout(()=>{ws==M&&(ws=null)},R3),!0}]})}let w=b.join(" ");s(w,!1);let A=x[w]||(x[w]={preventDefault:!1,stopPropagation:!1,run:((y=(g=x._any)===null||g===void 0?void 0:g.run)===null||y===void 0?void 0:y.slice())||[]});h&&A.run.push(h),f&&(A.preventDefault=!0),p&&(A.stopPropagation=!0)};for(let a of n){let u=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let f of u){let p=e[f]||(e[f]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:g}=a;for(let y in p)p[y].run.push(x=>g(x,Mg))}let h=a[t]||a.key;if(h)for(let f of u)l(f,h,a.run,a.preventDefault,a.stopPropagation),a.shift&&l(f,"Shift-"+h,a.shift,a.preventDefault,a.stopPropagation)}return e}let Mg=null;function WO(n,t,e,i){Mg=t;let s=t_(t),l=Qe(s,0),a=oi(l)==s.length&&s!=" ",u="",h=!1,f=!1,p=!1;ws&&ws.view==e&&ws.scope==i&&(u=ws.prefix+" ",VO.indexOf(t.keyCode)<0&&(f=!0,ws=null));let g=new Set,y=A=>{if(A){for(let O of A.run)if(!g.has(O)&&(g.add(O),O(e)))return A.stopPropagation&&(p=!0),!0;A.preventDefault&&(A.stopPropagation&&(p=!0),f=!0)}return!1},x=n[i],b,w;return x&&(y(x[u+Hc(s,t,!a)])?h=!0:a&&(t.altKey||t.metaKey||t.ctrlKey)&&!(ct.windows&&t.ctrlKey&&t.altKey)&&(b=Es[t.keyCode])&&b!=s?(y(x[u+Hc(b,t,!0)])||t.shiftKey&&(w=Ca[t.keyCode])!=s&&w!=b&&y(x[u+Hc(w,t,!1)]))&&(h=!0):a&&t.shiftKey&&y(x[u+Hc(s,t,!0)])&&(h=!0),!h&&y(x._any)&&(h=!0)),f&&(h=!0),h&&p&&t.stopPropagation(),Mg=null,h}class eu{constructor(t,e,i,s,l){this.className=t,this.left=e,this.top=i,this.width=s,this.height=l}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className!=this.className?!1:(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,i){if(i.empty){let s=t.coordsAtPos(i.head,i.assoc||1);if(!s)return[];let l=IO(t);return[new eu(e,s.left-l.left,s.top-l.top,null,s.bottom-s.top)]}else return N3(t,e,i)}}function IO(n){let t=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Kt.LTR?t.left:t.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:t.top-n.scrollDOM.scrollTop*n.scaleY}}function US(n,t,e,i){let s=n.coordsAtPos(t,e*2);if(!s)return i;let l=n.dom.getBoundingClientRect(),a=(s.top+s.bottom)/2,u=n.posAtCoords({x:l.left+1,y:a}),h=n.posAtCoords({x:l.right-1,y:a});return u==null||h==null?i:{from:Math.max(i.from,Math.min(u,h)),to:Math.min(i.to,Math.max(u,h))}}function N3(n,t,e){if(e.to<=n.viewport.from||e.from>=n.viewport.to)return[];let i=Math.max(e.from,n.viewport.from),s=Math.min(e.to,n.viewport.to),l=n.textDirection==Kt.LTR,a=n.contentDOM,u=a.getBoundingClientRect(),h=IO(n),f=a.querySelector(".cm-line"),p=f&&window.getComputedStyle(f),g=u.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),y=u.right-(p?parseInt(p.paddingRight):0),x=wg(n,i,1),b=wg(n,s,-1),w=x.type==$e.Text?x:null,A=b.type==$e.Text?b:null;if(w&&(n.lineWrapping||x.widgetLineBreaks)&&(w=US(n,i,1,w)),A&&(n.lineWrapping||b.widgetLineBreaks)&&(A=US(n,s,-1,A)),w&&A&&w.from==A.from&&w.to==A.to)return C(E(e.from,e.to,w));{let D=w?E(e.from,null,w):M(x,!1),L=A?E(null,e.to,A):M(b,!0),z=[];return(w||x).to<(A||b).from-(w&&A?1:0)||x.widgetLineBreaks>1&&D.bottom+n.defaultLineHeight/2<L.top?z.push(O(g,D.bottom,y,L.top)):D.bottom<L.top&&n.elementAtHeight((D.bottom+L.top)/2).type==$e.Text&&(D.bottom=L.top=(D.bottom+L.top)/2),C(D).concat(z).concat(C(L))}function O(D,L,z,$){return new eu(t,D-h.left,L-h.top,z-D,$-L)}function C({top:D,bottom:L,horizontal:z}){let $=[];for(let et=0;et<z.length;et+=2)$.push(O(z[et],D,z[et+1],L));return $}function E(D,L,z){let $=1e9,et=-1e9,st=[];function rt(B,Q,_,H,K){let nt=n.coordsAtPos(B,B==z.to?-2:2),k=n.coordsAtPos(_,_==z.from?2:-2);!nt||!k||($=Math.min(nt.top,k.top,$),et=Math.max(nt.bottom,k.bottom,et),K==Kt.LTR?st.push(l&&Q?g:nt.left,l&&H?y:k.right):st.push(!l&&H?g:k.left,!l&&Q?y:nt.right))}let it=D??z.from,Y=L??z.to;for(let B of n.visibleRanges)if(B.to>it&&B.from<Y)for(let Q=Math.max(B.from,it),_=Math.min(B.to,Y);;){let H=n.state.doc.lineAt(Q);for(let K of n.bidiSpans(H)){let nt=K.from+H.from,k=K.to+H.from;if(nt>=_)break;k>Q&&rt(Math.max(nt,Q),D==null&&nt<=it,Math.min(k,_),L==null&&k>=Y,K.dir)}if(Q=H.to+1,Q>=_)break}return st.length==0&&rt(it,D==null,Y,L==null,n.textDirection),{top:$,bottom:et,horizontal:st}}function M(D,L){let z=u.top+(L?D.top:D.bottom);return{top:z,bottom:z,horizontal:[]}}}function B3(n,t){return n.constructor==t.constructor&&n.eq(t)}class L3{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(fh)!=t.state.facet(fh)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){this.layer.updateOnDocViewUpdate!==!1&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,i=t.facet(fh);for(;e<i.length&&i[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;(t!=this.scaleX||e!=this.scaleY)&&(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some((e,i)=>!B3(e,this.drawn[i]))){let e=this.dom.firstChild,i=0;for(let s of t)s.update&&e&&s.constructor&&this.drawn[i].constructor&&s.update(e,this.drawn[i])?(e=e.nextSibling,i++):this.dom.insertBefore(s.draw(),e);for(;e;){let s=e.nextSibling;e.remove(),e=s}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const fh=ut.define();function QO(n){return[fe.define(t=>new L3(t,n)),fh.of(n)]}const Ea=ut.define({combine(n){return yi(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})}});function z3(n={}){return[Ea.of(n),V3,P3,H3,CO.of(!0)]}function ZO(n){return n.startState.facet(Ea)!=n.state.facet(Ea)}const V3=QO({above:!0,markers(n){let{state:t}=n,e=t.facet(Ea),i=[];for(let s of t.selection.ranges){let l=s==t.selection.main;if(s.empty||e.drawRangeCursor){let a=l?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=s.empty?s:W.cursor(s.head,s.head>s.anchor?-1:1);for(let h of eu.forRange(n,a,u))i.push(h)}}return i},update(n,t){n.transactions.some(i=>i.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let e=ZO(n);return e&&jS(n.state,t),n.docChanged||n.selectionSet||e},mount(n,t){jS(t.state,n)},class:"cm-cursorLayer"});function jS(n,t){t.style.animationDuration=n.facet(Ea).cursorBlinkRate+"ms"}const P3=QO({above:!1,markers(n){return n.state.selection.ranges.map(t=>t.empty?[]:eu.forRange(n,"cm-selectionBackground",t)).reduce((t,e)=>t.concat(e))},update(n,t){return n.docChanged||n.selectionSet||n.viewportChanged||ZO(n)},class:"cm-selectionLayer"}),H3=Mr.highest(at.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),JO=At.define({map(n,t){return n==null?null:t.mapPos(n)}}),ua=Re.define({create(){return null},update(n,t){return n!=null&&(n=t.changes.mapPos(n)),t.effects.reduce((e,i)=>i.is(JO)?i.value:e,n)}}),q3=fe.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var t;let e=n.state.field(ua);e==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(ua)!=e||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,t=n.state.field(ua),e=t!=null&&n.coordsAtPos(t);if(!e)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:e.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:e.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:e.bottom-e.top}}drawCursor(n){if(this.cursor){let{scaleX:t,scaleY:e}=this.view;n?(this.cursor.style.left=n.left/t+"px",this.cursor.style.top=n.top/e+"px",this.cursor.style.height=n.height/e+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(ua)!=n&&this.view.dispatch({effects:JO.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function U3(){return[ua,q3]}function $S(n,t,e,i,s){t.lastIndex=0;for(let l=n.iterRange(e,i),a=e,u;!l.next().done;a+=l.value.length)if(!l.lineBreak)for(;u=t.exec(l.value);)s(a+u.index,u)}function j3(n,t){let e=n.visibleRanges;if(e.length==1&&e[0].from==n.viewport.from&&e[0].to==n.viewport.to)return e;let i=[];for(let{from:s,to:l}of e)s=Math.max(n.state.doc.lineAt(s).from,s-t),l=Math.min(n.state.doc.lineAt(l).to,l+t),i.length&&i[i.length-1].to>=s?i[i.length-1].to=l:i.push({from:s,to:l});return i}class $3{constructor(t){const{regexp:e,decoration:i,decorate:s,boundary:l,maxLength:a=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,s)this.addMatch=(u,h,f,p)=>s(p,f,f+u[0].length,u,h);else if(typeof i=="function")this.addMatch=(u,h,f,p)=>{let g=i(u,h,f);g&&p(f,f+u[0].length,g)};else if(i)this.addMatch=(u,h,f,p)=>p(f,f+u[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=l,this.maxLength=a}createDeco(t){let e=new Ui,i=e.add.bind(e);for(let{from:s,to:l}of j3(t,this.maxLength))$S(t.state.doc,this.regexp,s,l,(a,u)=>this.addMatch(u,t,a,i));return e.finish()}updateDeco(t,e){let i=1e9,s=-1;return t.docChanged&&t.changes.iterChanges((l,a,u,h)=>{h>=t.view.viewport.from&&u<=t.view.viewport.to&&(i=Math.min(u,i),s=Math.max(h,s))}),t.viewportMoved||s-i>1e3?this.createDeco(t.view):s>-1?this.updateRange(t.view,e.map(t.changes),i,s):e}updateRange(t,e,i,s){for(let l of t.visibleRanges){let a=Math.max(l.from,i),u=Math.min(l.to,s);if(u>=a){let h=t.state.doc.lineAt(a),f=h.to<u?t.state.doc.lineAt(u):h,p=Math.max(l.from,h.from),g=Math.min(l.to,f.to);if(this.boundary){for(;a>h.from;a--)if(this.boundary.test(h.text[a-1-h.from])){p=a;break}for(;u<f.to;u++)if(this.boundary.test(f.text[u-f.from])){g=u;break}}let y=[],x,b=(w,A,O)=>y.push(O.range(w,A));if(h==f)for(this.regexp.lastIndex=p-h.from;(x=this.regexp.exec(h.text))&&x.index<g-h.from;)this.addMatch(x,t,x.index+h.from,b);else $S(t.state.doc,this.regexp,p,g,(w,A)=>this.addMatch(A,t,w,b));e=e.update({filterFrom:p,filterTo:g,filter:(w,A)=>w<p||A>g,add:y})}}return e}}const kg=/x/.unicode!=null?"gu":"g",X3=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,kg),Y3={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let om=null;function G3(){var n;if(om==null&&typeof document<"u"&&document.body){let t=document.body.style;om=((n=t.tabSize)!==null&&n!==void 0?n:t.MozTabSize)!=null}return om||!1}const dh=ut.define({combine(n){let t=yi(n,{render:null,specialChars:X3,addSpecialChars:null});return(t.replaceTabs=!G3())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,kg)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,kg)),t}});function F3(n={}){return[dh.of(n),K3()]}let XS=null;function K3(){return XS||(XS=fe.fromClass(class{constructor(n){this.view=n,this.decorations=xt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(dh)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new $3({regexp:n.specialChars,decoration:(t,e,i)=>{let{doc:s}=e.state,l=Qe(t[0],0);if(l==9){let a=s.lineAt(i),u=e.state.tabSize,h=Yl(a.text,u,i-a.from);return xt.replace({widget:new Z3((u-h%u)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[l]||(this.decorationCache[l]=xt.replace({widget:new Q3(n,l)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let t=n.state.facet(dh);n.startState.facet(dh)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const W3="";function I3(n){return n>=32?W3:n==10?"":String.fromCharCode(9216+n)}class Q3 extends Vs{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=I3(this.code),i=t.state.phrase("Control character")+" "+(Y3[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,i,e);if(s)return s;let l=document.createElement("span");return l.textContent=e,l.title=i,l.setAttribute("aria-label",i),l.className="cm-specialChar",l}ignoreEvent(){return!1}}class Z3 extends Vs{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function J3(){return eN}const tN=xt.line({class:"cm-activeLine"}),eN=fe.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=-1,e=[];for(let i of n.state.selection.ranges){let s=n.lineBlockAt(i.head);s.from>t&&(e.push(tN.range(s.from)),t=s.from)}return xt.set(e)}},{decorations:n=>n.decorations}),Dg=2e3;function nN(n,t,e){let i=Math.min(t.line,e.line),s=Math.max(t.line,e.line),l=[];if(t.off>Dg||e.off>Dg||t.col<0||e.col<0){let a=Math.min(t.off,e.off),u=Math.max(t.off,e.off);for(let h=i;h<=s;h++){let f=n.doc.line(h);f.length<=u&&l.push(W.range(f.from+a,f.to+u))}}else{let a=Math.min(t.col,e.col),u=Math.max(t.col,e.col);for(let h=i;h<=s;h++){let f=n.doc.line(h),p=og(f.text,a,n.tabSize,!0);if(p<0)l.push(W.cursor(f.to));else{let g=og(f.text,u,n.tabSize);l.push(W.range(f.from+p,f.from+g))}}}return l}function iN(n,t){let e=n.coordsAtPos(n.viewport.from);return e?Math.round(Math.abs((e.left-t)/n.defaultCharacterWidth)):-1}function YS(n,t){let e=n.posAtCoords({x:t.clientX,y:t.clientY},!1),i=n.state.doc.lineAt(e),s=e-i.from,l=s>Dg?-1:s==i.length?iN(n,t.clientX):Yl(i.text,n.state.tabSize,e-i.from);return{line:i.number,col:l,off:s}}function sN(n,t){let e=YS(n,t),i=n.state.selection;return e?{update(s){if(s.docChanged){let l=s.changes.mapPos(s.startState.doc.line(e.line).from),a=s.state.doc.lineAt(l);e={line:a.number,col:e.col,off:Math.min(e.off,a.length)},i=i.map(s.changes)}},get(s,l,a){let u=YS(n,s);if(!u)return i;let h=nN(n.state,e,u);return h.length?a?W.create(h.concat(i.ranges)):W.create(h):i}}:null}function rN(n){let t=e=>e.altKey&&e.button==0;return at.mouseSelectionStyle.of((e,i)=>t(i)?sN(e,i):null)}const lN={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},oN={style:"cursor: crosshair"};function aN(n={}){let[t,e]=lN[n.key||"Alt"],i=fe.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventObservers:{keydown(s){this.set(s.keyCode==t||e(s))},keyup(s){(s.keyCode==t||!e(s))&&this.set(!1)},mousemove(s){this.set(e(s))}}});return[i,at.contentAttributes.of(s=>{var l;return!((l=s.plugin(i))===null||l===void 0)&&l.isDown?oN:null})]}const Jo="-10000px";class tT{constructor(t,e,i,s){this.facet=e,this.createTooltipView=i,this.removeTooltipView=s,this.input=t.state.facet(e),this.tooltips=this.input.filter(a=>a);let l=null;this.tooltipViews=this.tooltips.map(a=>l=i(a,l))}update(t,e){var i;let s=t.state.facet(this.facet),l=s.filter(h=>h);if(s===this.input){for(let h of this.tooltipViews)h.update&&h.update(t);return!1}let a=[],u=e?[]:null;for(let h=0;h<l.length;h++){let f=l[h],p=-1;if(f){for(let g=0;g<this.tooltips.length;g++){let y=this.tooltips[g];y&&y.create==f.create&&(p=g)}if(p<0)a[h]=this.createTooltipView(f,h?a[h-1]:null),u&&(u[h]=!!f.above);else{let g=a[h]=this.tooltipViews[p];u&&(u[h]=e[p]),g.update&&g.update(t)}}}for(let h of this.tooltipViews)a.indexOf(h)<0&&(this.removeTooltipView(h),(i=h.destroy)===null||i===void 0||i.call(h));return e&&(u.forEach((h,f)=>e[f]=h),e.length=u.length),this.input=s,this.tooltips=l,this.tooltipViews=a,!0}}function uN(n){let t=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:t.clientHeight,right:t.clientWidth}}const am=ut.define({combine:n=>{var t,e,i;return{position:ct.ios?"absolute":((t=n.find(s=>s.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((e=n.find(s=>s.parent))===null||e===void 0?void 0:e.parent)||null,tooltipSpace:((i=n.find(s=>s.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||uN}}}),GS=new WeakMap,P0=fe.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=n.state.facet(am);this.position=t.position,this.parent=t.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new tT(n,H0,(e,i)=>this.createTooltip(e,i),e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()}),this.above=this.manager.tooltips.map(e=>!!e.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(n,this.above);t&&this.observeIntersection();let e=t||n.geometryChanged,i=n.state.facet(am);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;e=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);e=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);e&&this.maybeMeasure()}createTooltip(n,t){let e=n.create(this.view),i=t?t.dom:null;if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",e.dom.appendChild(s)}return e.dom.style.position=this.position,e.dom.style.top=Jo,e.dom.style.left="0px",this.container.insertBefore(e.dom,i),e.mount&&e.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(e.dom),e}destroy(){var n,t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(n=i.destroy)===null||n===void 0||n.call(i);this.parent&&this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,t=1,e=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:l}=this.manager.tooltipViews[0];if(ct.gecko)e=l.offsetParent!=this.container.ownerDocument.body;else if(l.style.top==Jo&&l.style.left=="0px"){let a=l.getBoundingClientRect();e=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(e||this.position=="absolute")if(this.parent){let l=this.parent.getBoundingClientRect();l.width&&l.height&&(n=l.width/this.parent.offsetWidth,t=l.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:t}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),s=N0(this.view);return{visible:{left:i.left+s.left,top:i.top+s.top,right:i.right-s.right,bottom:i.bottom-s.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((l,a)=>{let u=this.manager.tooltipViews[a];return u.getCoords?u.getCoords(l.pos):this.view.coordsAtPos(l.pos)}),size:this.manager.tooltipViews.map(({dom:l})=>l.getBoundingClientRect()),space:this.view.state.facet(am).tooltipSpace(this.view),scaleX:n,scaleY:t,makeAbsolute:e}}writeMeasure(n){var t;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let u of this.manager.tooltipViews)u.dom.style.position="absolute"}let{visible:e,space:i,scaleX:s,scaleY:l}=n,a=[];for(let u=0;u<this.manager.tooltips.length;u++){let h=this.manager.tooltips[u],f=this.manager.tooltipViews[u],{dom:p}=f,g=n.pos[u],y=n.size[u];if(!g||h.clip!==!1&&(g.bottom<=Math.max(e.top,i.top)||g.top>=Math.min(e.bottom,i.bottom)||g.right<Math.max(e.left,i.left)-.1||g.left>Math.min(e.right,i.right)+.1)){p.style.top=Jo;continue}let x=h.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,b=x?7:0,w=y.right-y.left,A=(t=GS.get(f))!==null&&t!==void 0?t:y.bottom-y.top,O=f.offset||hN,C=this.view.textDirection==Kt.LTR,E=y.width>i.right-i.left?C?i.left:i.right-y.width:C?Math.max(i.left,Math.min(g.left-(x?14:0)+O.x,i.right-w)):Math.min(Math.max(i.left,g.left-w+(x?14:0)-O.x),i.right-w),M=this.above[u];!h.strictSide&&(M?g.top-A-b-O.y<i.top:g.bottom+A+b+O.y>i.bottom)&&M==i.bottom-g.bottom>g.top-i.top&&(M=this.above[u]=!M);let D=(M?g.top-i.top:i.bottom-g.bottom)-b;if(D<A&&f.resize!==!1){if(D<this.view.defaultLineHeight){p.style.top=Jo;continue}GS.set(f,A),p.style.height=(A=D)/l+"px"}else p.style.height&&(p.style.height="");let L=M?g.top-A-b-O.y:g.bottom+b+O.y,z=E+w;if(f.overlap!==!0)for(let $ of a)$.left<z&&$.right>E&&$.top<L+A&&$.bottom>L&&(L=M?$.top-A-2-b:$.bottom+b+2);if(this.position=="absolute"?(p.style.top=(L-n.parent.top)/l+"px",FS(p,(E-n.parent.left)/s)):(p.style.top=L/l+"px",FS(p,E/s)),x){let $=g.left+(C?O.x:-O.x)-(E+14-7);x.style.left=$/s+"px"}f.overlap!==!0&&a.push({left:E,top:L,right:z,bottom:L+A}),p.classList.toggle("cm-tooltip-above",M),p.classList.toggle("cm-tooltip-below",!M),f.positioned&&f.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Jo}},{eventObservers:{scroll(){this.maybeMeasure()}}});function FS(n,t){let e=parseInt(n.style.left,10);(isNaN(e)||Math.abs(t-e)>1)&&(n.style.left=t+"px")}const cN=at.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),hN={x:0,y:0},H0=ut.define({enables:[P0,cN]}),Lh=ut.define({combine:n=>n.reduce((t,e)=>t.concat(e),[])});class yf{static create(t){return new yf(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new tT(t,Lh,(e,i)=>this.createHostedView(e,i),e=>e.dom.remove())}createHostedView(t,e){let i=t.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)(t=e.destroy)===null||t===void 0||t.call(e)}passProp(t){let e;for(let i of this.manager.tooltipViews){let s=i[t];if(s!==void 0){if(e===void 0)e=s;else if(e!==s)return}}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const fN=H0.compute([Lh],n=>{let t=n.facet(Lh);return t.length===0?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.map(e=>{var i;return(i=e.end)!==null&&i!==void 0?i:e.pos})),create:yf.create,above:t[0].above,arrow:t.some(e=>e.arrow)}});class dN{constructor(t,e,i,s,l){this.view=t,this.source=e,this.field=i,this.setHover=s,this.hoverTime=l,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,i=t.docView.nearest(e.target);if(!i)return;let s,l=1;if(i instanceof Os)s=i.posAtStart;else{if(s=t.posAtCoords(e),s==null)return;let u=t.coordsAtPos(s);if(!u||e.y<u.top||e.y>u.bottom||e.x<u.left-t.defaultCharacterWidth||e.x>u.right+t.defaultCharacterWidth)return;let h=t.bidiSpans(t.state.doc.lineAt(s)).find(p=>p.from<=s&&p.to>=s),f=h&&h.dir==Kt.RTL?-1:1;l=e.x<u.left?-f:f}let a=this.source(t,s,l);if(a!=null&&a.then){let u=this.pending={pos:s};a.then(h=>{this.pending==u&&(this.pending=null,h&&!(Array.isArray(h)&&!h.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(h)?h:[h])}))},h=>tn(t.state,h,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let t=this.view.plugin(P0),e=t?t.manager.tooltips.findIndex(i=>i.create==yf.create):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,i;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s,tooltip:l}=this;if(s.length&&l&&!pN(l.dom,t)||this.pending){let{pos:a}=s[0]||this.pending,u=(i=(e=s[0])===null||e===void 0?void 0:e.end)!==null&&i!==void 0?i:a;(a==u?this.view.posAtCoords(this.lastMove)!=a:!mN(this.view,a,u,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:i}=this;i&&i.dom.contains(t.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=i=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const qc=4;function pN(n,t){let{left:e,right:i,top:s,bottom:l}=n.getBoundingClientRect(),a;if(a=n.querySelector(".cm-tooltip-arrow")){let u=a.getBoundingClientRect();s=Math.min(u.top,s),l=Math.max(u.bottom,l)}return t.clientX>=e-qc&&t.clientX<=i+qc&&t.clientY>=s-qc&&t.clientY<=l+qc}function mN(n,t,e,i,s,l){let a=n.scrollDOM.getBoundingClientRect(),u=n.documentTop+n.documentPadding.top+n.contentHeight;if(a.left>i||a.right<i||a.top>s||Math.min(a.bottom,u)<s)return!1;let h=n.posAtCoords({x:i,y:s},!1);return h>=t&&h<=e}function gN(n,t={}){let e=At.define(),i=Re.define({create(){return[]},update(s,l){if(s.length&&(t.hideOnChange&&(l.docChanged||l.selection)?s=[]:t.hideOn&&(s=s.filter(a=>!t.hideOn(l,a))),l.docChanged)){let a=[];for(let u of s){let h=l.changes.mapPos(u.pos,-1,qe.TrackDel);if(h!=null){let f=Object.assign(Object.create(null),u);f.pos=h,f.end!=null&&(f.end=l.changes.mapPos(f.end)),a.push(f)}}s=a}for(let a of l.effects)a.is(e)&&(s=a.value),a.is(yN)&&(s=[]);return s},provide:s=>Lh.from(s)});return{active:i,extension:[i,fe.define(s=>new dN(s,n,i,e,t.hoverTime||300)),fN]}}function eT(n,t){let e=n.plugin(P0);if(!e)return null;let i=e.manager.tooltips.indexOf(t);return i<0?null:e.manager.tooltipViews[i]}const yN=At.define(),KS=ut.define({combine(n){let t,e;for(let i of n)t=t||i.topContainer,e=e||i.bottomContainer;return{topContainer:t,bottomContainer:e}}});function Ra(n,t){let e=n.plugin(nT),i=e?e.specs.indexOf(t):-1;return i>-1?e.panels[i]:null}const nT=fe.fromClass(class{constructor(n){this.input=n.state.facet(_a),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(e=>e(n));let t=n.state.facet(KS);this.top=new Uc(n,!0,t.topContainer),this.bottom=new Uc(n,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(n){let t=n.state.facet(KS);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Uc(n.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Uc(n.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let e=n.state.facet(_a);if(e!=this.input){let i=e.filter(h=>h),s=[],l=[],a=[],u=[];for(let h of i){let f=this.specs.indexOf(h),p;f<0?(p=h(n.view),u.push(p)):(p=this.panels[f],p.update&&p.update(n)),s.push(p),(p.top?l:a).push(p)}this.specs=i,this.panels=s,this.top.sync(l),this.bottom.sync(a);for(let h of u)h.dom.classList.add("cm-panel"),h.mount&&h.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>at.scrollMargins.of(t=>{let e=t.plugin(n);return e&&{top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()}})});class Uc{constructor(t,e,i){this.view=t,this.top=e,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=WS(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=WS(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function WS(n){let t=n.nextSibling;return n.remove(),t}const _a=ut.define({enables:nT});class $i extends Sr{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}$i.prototype.elementClass="";$i.prototype.toDOM=void 0;$i.prototype.mapMode=qe.TrackBefore;$i.prototype.startSide=$i.prototype.endSide=-1;$i.prototype.point=!0;const ph=ut.define(),vN=ut.define(),xN={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Rt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},ya=ut.define();function bN(n){return[iT(),ya.of({...xN,...n})]}const IS=ut.define({combine:n=>n.some(t=>t)});function iT(n){return[SN]}const SN=fe.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(ya).map(t=>new ZS(n,t));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!n.state.facet(IS),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let t=this.prevViewport,e=n.view.viewport,i=Math.min(t.to,e.to)-Math.max(t.from,e.from);this.syncGutters(i<(e.to-e.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(IS)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let t=this.dom.nextSibling;n&&this.dom.remove();let e=Rt.iter(this.view.state.facet(ph),this.view.viewport.from),i=[],s=this.gutters.map(l=>new wN(l,this.view.viewport,-this.view.documentPadding.top));for(let l of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(l.type)){let a=!0;for(let u of l.type)if(u.type==$e.Text&&a){Eg(e,i,u.from);for(let h of s)h.line(this.view,u,i);a=!1}else if(u.widget)for(let h of s)h.widget(this.view,u)}else if(l.type==$e.Text){Eg(e,i,l.from);for(let a of s)a.line(this.view,l,i)}else if(l.widget)for(let a of s)a.widget(this.view,l);for(let l of s)l.finish();n&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(n){let t=n.startState.facet(ya),e=n.state.facet(ya),i=n.docChanged||n.heightChanged||n.viewportChanged||!Rt.eq(n.startState.facet(ph),n.state.facet(ph),n.view.viewport.from,n.view.viewport.to);if(t==e)for(let s of this.gutters)s.update(n)&&(i=!0);else{i=!0;let s=[];for(let l of e){let a=t.indexOf(l);a<0?s.push(new ZS(this.view,l)):(this.gutters[a].update(n),s.push(this.gutters[a]))}for(let l of this.gutters)l.dom.remove(),s.indexOf(l)<0&&l.destroy();for(let l of s)this.dom.appendChild(l.dom);this.gutters=s}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>at.scrollMargins.of(t=>{let e=t.plugin(n);return!e||e.gutters.length==0||!e.fixed?null:t.textDirection==Kt.LTR?{left:e.dom.offsetWidth*t.scaleX}:{right:e.dom.offsetWidth*t.scaleX}})});function QS(n){return Array.isArray(n)?n:[n]}function Eg(n,t,e){for(;n.value&&n.from<=e;)n.from==e&&t.push(n.value),n.next()}class wN{constructor(t,e,i){this.gutter=t,this.height=i,this.i=0,this.cursor=Rt.iter(t.markers,e.from)}addElement(t,e,i){let{gutter:s}=this,l=(e.top-this.height)/t.scaleY,a=e.height/t.scaleY;if(this.i==s.elements.length){let u=new sT(t,a,l,i);s.elements.push(u),s.dom.appendChild(u.dom)}else s.elements[this.i].update(t,a,l,i);this.height=e.bottom,this.i++}line(t,e,i){let s=[];Eg(this.cursor,s,e.from),i.length&&(s=s.concat(i));let l=this.gutter.config.lineMarker(t,e,s);l&&s.unshift(l);let a=this.gutter;s.length==0&&!a.config.renderEmptyElements||this.addElement(t,e,s)}widget(t,e){let i=this.gutter.config.widgetMarker(t,e.widget,e),s=i?[i]:null;for(let l of t.state.facet(vN)){let a=l(t,e.widget,e);a&&(s||(s=[])).push(a)}s&&this.addElement(t,e,s)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class ZS{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in e.domEventHandlers)this.dom.addEventListener(i,s=>{let l=s.target,a;if(l!=this.dom&&this.dom.contains(l)){for(;l.parentNode!=this.dom;)l=l.parentNode;let h=l.getBoundingClientRect();a=(h.top+h.bottom)/2}else a=s.clientY;let u=t.lineBlockAtHeight(a-t.documentTop);e.domEventHandlers[i](t,u,s)&&s.preventDefault()});this.markers=QS(e.markers(t)),e.initialSpacer&&(this.spacer=new sT(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=QS(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],t);s!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[s])}let i=t.view.viewport;return!Rt.eq(this.markers,e,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}}class sT{constructor(t,e,i,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,i,s)}update(t,e,i,s){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),AN(this.markers,s)||this.setMarkers(t,s)}setMarkers(t,e){let i="cm-gutterElement",s=this.dom.firstChild;for(let l=0,a=0;;){let u=a,h=l<e.length?e[l++]:null,f=!1;if(h){let p=h.elementClass;p&&(i+=" "+p);for(let g=a;g<this.markers.length;g++)if(this.markers[g].compare(h)){u=g,f=!0;break}}else u=this.markers.length;for(;a<u;){let p=this.markers[a++];if(p.toDOM){p.destroy(s);let g=s.nextSibling;s.remove(),s=g}}if(!h)break;h.toDOM&&(f?s=s.nextSibling:this.dom.insertBefore(h.toDOM(t),s)),f&&a++}this.dom.className=i,this.markers=e}destroy(){this.setMarkers(null,[])}}function AN(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(!n[e].compare(t[e]))return!1;return!0}const ON=ut.define(),TN=ut.define(),yl=ut.define({combine(n){return yi(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let i=Object.assign({},t);for(let s in e){let l=i[s],a=e[s];i[s]=l?(u,h,f)=>l(u,h,f)||a(u,h,f):a}return i}})}});class um extends $i{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function cm(n,t){return n.state.facet(yl).formatNumber(t,n.state)}const CN=ya.compute([yl],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(ON)},lineMarker(t,e,i){return i.some(s=>s.toDOM)?null:new um(cm(t,t.state.doc.lineAt(e.from).number))},widgetMarker:(t,e,i)=>{for(let s of t.state.facet(TN)){let l=s(t,e,i);if(l)return l}return null},lineMarkerChange:t=>t.startState.facet(yl)!=t.state.facet(yl),initialSpacer(t){return new um(cm(t,JS(t.state.doc.lines)))},updateSpacer(t,e){let i=cm(e.view,JS(e.view.state.doc.lines));return i==t.number?t:new um(i)},domEventHandlers:n.facet(yl).domEventHandlers}));function MN(n={}){return[yl.of(n),iT(),CN]}function JS(n){let t=9;for(;t<n;)t=t*10+9;return t}const kN=new class extends $i{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},DN=ph.compute(["selection"],n=>{let t=[],e=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.head).from;s>e&&(e=s,t.push(kN.range(s)))}return Rt.of(t)});function EN(){return DN}const rT=1024;let RN=0;class hm{constructor(t,e){this.from=t,this.to=e}}class Ct{constructor(t={}){this.id=RN++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=rn.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}}Ct.closedBy=new Ct({deserialize:n=>n.split(" ")});Ct.openedBy=new Ct({deserialize:n=>n.split(" ")});Ct.group=new Ct({deserialize:n=>n.split(" ")});Ct.isolate=new Ct({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Ct.contextHash=new Ct({perNode:!0});Ct.lookAhead=new Ct({perNode:!0});Ct.mounted=new Ct({perNode:!0});class zh{constructor(t,e,i){this.tree=t,this.overlay=e,this.parser=i}static get(t){return t&&t.props&&t.props[Ct.mounted.id]}}const _N=Object.create(null);class rn{constructor(t,e,i,s=0){this.name=t,this.props=e,this.id=i,this.flags=s}static define(t){let e=t.props&&t.props.length?Object.create(null):_N,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),s=new rn(t.name||"",e,t.id,i);if(t.props){for(let l of t.props)if(Array.isArray(l)||(l=l(s)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[l[0].id]=l[1]}}return s}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Ct.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let s of i.split(" "))e[s]=t[i];return i=>{for(let s=i.prop(Ct.group),l=-1;l<(s?s.length:0);l++){let a=e[l<0?i.name:s[l]];if(a)return a}}}}rn.none=new rn("",Object.create(null),0,8);class q0{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let i of this.types){let s=null;for(let l of t){let a=l(i);a&&(s||(s=Object.assign({},i.props)),s[a[0].id]=a[1])}e.push(s?new rn(i.name,s,i.id,i.flags):i)}return new q0(e)}}const jc=new WeakMap,tw=new WeakMap;var Se;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Se||(Se={}));class he{constructor(t,e,i,s,l){if(this.type=t,this.children=e,this.positions=i,this.length=s,this.props=null,l&&l.length){this.props=Object.create(null);for(let[a,u]of l)this.props[typeof a=="number"?a:a.id]=u}}toString(){let t=zh.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let s=i.toString();s&&(e&&(e+=","),e+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new _g(this.topNode,t)}cursorAt(t,e=0,i=0){let s=jc.get(this)||this.topNode,l=new _g(s);return l.moveTo(t,e),jc.set(this,l._tree),l}get topNode(){return new Ns(this,0,0,null)}resolve(t,e=0){let i=Na(jc.get(this)||this.topNode,t,e,!1);return jc.set(this,i),i}resolveInner(t,e=0){let i=Na(tw.get(this)||this.topNode,t,e,!0);return tw.set(this,i),i}resolveStack(t,e=0){return LN(this,t,e)}iterate(t){let{enter:e,leave:i,from:s=0,to:l=this.length}=t,a=t.mode||0,u=(a&Se.IncludeAnonymous)>0;for(let h=this.cursor(a|Se.IncludeAnonymous);;){let f=!1;if(h.from<=l&&h.to>=s&&(!u&&h.type.isAnonymous||e(h)!==!1)){if(h.firstChild())continue;f=!0}for(;f&&i&&(u||!h.type.isAnonymous)&&i(h),!h.nextSibling();){if(!h.parent())return;f=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:$0(rn.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,s)=>new he(this.type,e,i,s,this.propValues),t.makeTree||((e,i,s)=>new he(rn.none,e,i,s)))}static build(t){return zN(t)}}he.empty=new he(rn.none,[],[],0);class U0{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new U0(this.buffer,this.index)}}class _s{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return rn.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],s=this.set.types[e],l=s.name;if(/\W/.test(l)&&!s.isError&&(l=JSON.stringify(l)),t+=4,i==t)return l;let a=[];for(;t<i;)a.push(this.childString(t)),t=this.buffer[t+3];return l+"("+a.join(",")+")"}findChild(t,e,i,s,l){let{buffer:a}=this,u=-1;for(let h=t;h!=e&&!(lT(l,s,a[h+1],a[h+2])&&(u=h,i>0));h=a[h+3]);return u}slice(t,e,i){let s=this.buffer,l=new Uint16Array(e-t),a=0;for(let u=t,h=0;u<e;){l[h++]=s[u++],l[h++]=s[u++]-i;let f=l[h++]=s[u++]-i;l[h++]=s[u++]-t,a=Math.max(a,f)}return new _s(l,a,this.set)}}function lT(n,t,e,i){switch(n){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function Na(n,t,e,i){for(var s;n.from==n.to||(e<1?n.from>=t:n.from>t)||(e>-1?n.to<=t:n.to<t);){let a=!i&&n instanceof Ns&&n.index<0?null:n.parent;if(!a)return n;n=a}let l=i?0:Se.IgnoreOverlays;if(i)for(let a=n,u=a.parent;u;a=u,u=a.parent)a instanceof Ns&&a.index<0&&((s=u.enter(t,e,l))===null||s===void 0?void 0:s.from)!=a.from&&(n=u);for(;;){let a=n.enter(t,e,l);if(!a)return n;n=a}}class oT{cursor(t=0){return new _g(this,t)}getChild(t,e=null,i=null){let s=ew(this,t,e,i);return s.length?s[0]:null}getChildren(t,e=null,i=null){return ew(this,t,e,i)}resolve(t,e=0){return Na(this,t,e,!1)}resolveInner(t,e=0){return Na(this,t,e,!0)}matchContext(t){return Rg(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let s=e.lastChild;if(!s||s.to!=e.to)break;s.type.isError&&s.from==s.to?(i=e,e=s.prevSibling):e=s}return i}get node(){return this}get next(){return this.parent}}let Ns=class mh extends oT{constructor(t,e,i,s){super(),this._tree=t,this.from=e,this.index=i,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,s,l=0){for(let a=this;;){for(let{children:u,positions:h}=a._tree,f=e>0?u.length:-1;t!=f;t+=e){let p=u[t],g=h[t]+a.from;if(lT(s,i,g,g+p.length)){if(p instanceof _s){if(l&Se.ExcludeBuffers)continue;let y=p.findChild(0,p.buffer.length,e,i-g,s);if(y>-1)return new Cs(new NN(a,p,t,g),null,y)}else if(l&Se.IncludeAnonymous||!p.type.isAnonymous||j0(p)){let y;if(!(l&Se.IgnoreMounts)&&(y=zh.get(p))&&!y.overlay)return new mh(y.tree,g,t,a);let x=new mh(p,g,t,a);return l&Se.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(e<0?p.children.length-1:0,e,i,s)}}}if(l&Se.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?t=a.index+e:t=e<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,i=0){let s;if(!(i&Se.IgnoreOverlays)&&(s=zh.get(this._tree))&&s.overlay){let l=t-this.from;for(let{from:a,to:u}of s.overlay)if((e>0?a<=l:a<l)&&(e<0?u>=l:u>l))return new mh(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function ew(n,t,e,i){let s=n.cursor(),l=[];if(!s.firstChild())return l;if(e!=null){for(let a=!1;!a;)if(a=s.type.is(e),!s.nextSibling())return l}for(;;){if(i!=null&&s.type.is(i))return l;if(s.type.is(t)&&l.push(s.node),!s.nextSibling())return i==null?l:[]}}function Rg(n,t,e=t.length-1){for(let i=n;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}class NN{constructor(t,e,i,s){this.parent=t,this.buffer=e,this.index=i,this.start=s}}class Cs extends oT{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],t,e-this.context.start,i);return l<0?null:new Cs(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,i=0){if(i&Se.ExcludeBuffers)return null;let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return l<0?null:new Cs(this.context,this,l)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Cs(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Cs(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,s=this.index+4,l=i.buffer[this.index+3];if(l>s){let a=i.buffer[this.index+1];t.push(i.slice(s,l,a)),e.push(0)}return new he(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function aT(n){if(!n.length)return null;let t=0,e=n[0];for(let l=1;l<n.length;l++){let a=n[l];(a.from>e.from||a.to<e.to)&&(e=a,t=l)}let i=e instanceof Ns&&e.index<0?null:e.parent,s=n.slice();return i?s[t]=i:s.splice(t,1),new BN(s,e)}class BN{constructor(t,e){this.heads=t,this.node=e}get next(){return aT(this.heads)}}function LN(n,t,e){let i=n.resolveInner(t,e),s=null;for(let l=i instanceof Ns?i:i.context.parent;l;l=l.parent)if(l.index<0){let a=l.parent;(s||(s=[i])).push(a.resolve(t,e)),l=a}else{let a=zh.get(l.tree);if(a&&a.overlay&&a.overlay[0].from<=t&&a.overlay[a.overlay.length-1].to>=t){let u=new Ns(a.tree,a.overlay[0].from+l.from,-1,l);(s||(s=[i])).push(Na(u,t,e,!1))}}return s?aT(s):i}class _g{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Ns)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:s}=this.buffer;return this.type=e||s.set.types[s.buffer[t]],this.from=i+s.buffer[t+1],this.to=i+s.buffer[t+2],!0}yield(t){return t?t instanceof Ns?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:s}=this.buffer,l=s.findChild(this.index+4,s.buffer[this.index+3],t,e-this.buffer.start,i);return l<0?!1:(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&Se.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Se.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Se.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let s=i<0?0:this.stack[i]+4;if(this.index!=s)return this.yieldBuf(e.findChild(s,this.index,-1,0,4))}else{let s=e.buffer[this.index+3];if(s<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(s)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:s}=this;if(s){if(t>0){if(this.index<s.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(s.buffer.buffer[l+3]<this.index)return!1;({index:e,parent:i}=s)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let l=e+t,a=t<0?-1:i._tree.children.length;l!=a;l+=t){let u=i._tree.children[l];if(this.mode&Se.IncludeAnonymous||u instanceof _s||!u.type.isAnonymous||j0(u))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let s=this.index,l=this.stack.length;l>=0;){for(let a=t;a;a=a._parent)if(a.index==s){if(s==this.index)return a;e=a,i=l+1;break t}s=this.stack[--l]}for(let s=i;s<this.stack.length;s++)e=new Cs(this.buffer,e,this.stack[s]);return this.bufferNode=new Cs(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let s=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&e&&e(this),s=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,s=!0}}}matchContext(t){if(!this.buffer)return Rg(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let s=t.length-1,l=this.stack.length-1;s>=0;l--){if(l<0)return Rg(this._tree,t,s);let a=i[e.buffer[this.stack[l]]];if(!a.isAnonymous){if(t[s]&&t[s]!=a.name)return!1;s--}}return!0}}function j0(n){return n.children.some(t=>t instanceof _s||!t.type.isAnonymous||j0(t))}function zN(n){var t;let{buffer:e,nodeSet:i,maxBufferLength:s=rT,reused:l=[],minRepeatType:a=i.types.length}=n,u=Array.isArray(e)?new U0(e,e.length):e,h=i.types,f=0,p=0;function g(D,L,z,$,et,st){let{id:rt,start:it,end:Y,size:B}=u,Q=p,_=f;for(;B<0;)if(u.next(),B==-1){let X=l[rt];z.push(X),$.push(it-D);return}else if(B==-3){f=rt;return}else if(B==-4){p=rt;return}else throw new RangeError(`Unrecognized record size: ${B}`);let H=h[rt],K,nt,k=it-D;if(Y-it<=s&&(nt=A(u.pos-L,et))){let X=new Uint16Array(nt.size-nt.skip),Z=u.pos-nt.size,tt=X.length;for(;u.pos>Z;)tt=O(nt.start,X,tt);K=new _s(X,Y-nt.start,i),k=nt.start-D}else{let X=u.pos-B;u.next();let Z=[],tt=[],ot=rt>=a?rt:-1,gt=0,dt=Y;for(;u.pos>X;)ot>=0&&u.id==ot&&u.size>=0?(u.end<=dt-s&&(b(Z,tt,it,gt,u.end,dt,ot,Q,_),gt=Z.length,dt=u.end),u.next()):st>2500?y(it,X,Z,tt):g(it,X,Z,tt,ot,st+1);if(ot>=0&&gt>0&&gt<Z.length&&b(Z,tt,it,gt,it,dt,ot,Q,_),Z.reverse(),tt.reverse(),ot>-1&&gt>0){let Pt=x(H,_);K=$0(H,Z,tt,0,Z.length,0,Y-it,Pt,Pt)}else K=w(H,Z,tt,Y-it,Q-Y,_)}z.push(K),$.push(k)}function y(D,L,z,$){let et=[],st=0,rt=-1;for(;u.pos>L;){let{id:it,start:Y,end:B,size:Q}=u;if(Q>4)u.next();else{if(rt>-1&&Y<rt)break;rt<0&&(rt=B-s),et.push(it,Y,B),st++,u.next()}}if(st){let it=new Uint16Array(st*4),Y=et[et.length-2];for(let B=et.length-3,Q=0;B>=0;B-=3)it[Q++]=et[B],it[Q++]=et[B+1]-Y,it[Q++]=et[B+2]-Y,it[Q++]=Q;z.push(new _s(it,et[2]-Y,i)),$.push(Y-D)}}function x(D,L){return(z,$,et)=>{let st=0,rt=z.length-1,it,Y;if(rt>=0&&(it=z[rt])instanceof he){if(!rt&&it.type==D&&it.length==et)return it;(Y=it.prop(Ct.lookAhead))&&(st=$[rt]+it.length+Y)}return w(D,z,$,et,st,L)}}function b(D,L,z,$,et,st,rt,it,Y){let B=[],Q=[];for(;D.length>$;)B.push(D.pop()),Q.push(L.pop()+z-et);D.push(w(i.types[rt],B,Q,st-et,it-st,Y)),L.push(et-z)}function w(D,L,z,$,et,st,rt){if(st){let it=[Ct.contextHash,st];rt=rt?[it].concat(rt):[it]}if(et>25){let it=[Ct.lookAhead,et];rt=rt?[it].concat(rt):[it]}return new he(D,L,z,$,rt)}function A(D,L){let z=u.fork(),$=0,et=0,st=0,rt=z.end-s,it={size:0,start:0,skip:0};t:for(let Y=z.pos-D;z.pos>Y;){let B=z.size;if(z.id==L&&B>=0){it.size=$,it.start=et,it.skip=st,st+=4,$+=4,z.next();continue}let Q=z.pos-B;if(B<0||Q<Y||z.start<rt)break;let _=z.id>=a?4:0,H=z.start;for(z.next();z.pos>Q;){if(z.size<0)if(z.size==-3)_+=4;else break t;else z.id>=a&&(_+=4);z.next()}et=H,$+=B,st+=_}return(L<0||$==D)&&(it.size=$,it.start=et,it.skip=st),it.size>4?it:void 0}function O(D,L,z){let{id:$,start:et,end:st,size:rt}=u;if(u.next(),rt>=0&&$<a){let it=z;if(rt>4){let Y=u.pos-(rt-4);for(;u.pos>Y;)z=O(D,L,z)}L[--z]=it,L[--z]=st-D,L[--z]=et-D,L[--z]=$}else rt==-3?f=$:rt==-4&&(p=$);return z}let C=[],E=[];for(;u.pos>0;)g(n.start||0,n.bufferStart||0,C,E,-1,0);let M=(t=n.length)!==null&&t!==void 0?t:C.length?E[0]+C[0].length:0;return new he(h[n.topID],C.reverse(),E.reverse(),M)}const nw=new WeakMap;function gh(n,t){if(!n.isAnonymous||t instanceof _s||t.type!=n)return 1;let e=nw.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=n||!(i instanceof he)){e=1;break}e+=gh(n,i)}nw.set(t,e)}return e}function $0(n,t,e,i,s,l,a,u,h){let f=0;for(let b=i;b<s;b++)f+=gh(n,t[b]);let p=Math.ceil(f*1.5/8),g=[],y=[];function x(b,w,A,O,C){for(let E=A;E<O;){let M=E,D=w[E],L=gh(n,b[E]);for(E++;E<O;E++){let z=gh(n,b[E]);if(L+z>=p)break;L+=z}if(E==M+1){if(L>p){let z=b[M];x(z.children,z.positions,0,z.children.length,w[M]+C);continue}g.push(b[M])}else{let z=w[E-1]+b[E-1].length-D;g.push($0(n,b,w,M,E,D,z,null,h))}y.push(D+C-l)}}return x(t,e,i,s,0),(u||h)(g,y,a)}class mr{constructor(t,e,i,s,l=!1,a=!1){this.from=t,this.to=e,this.tree=i,this.offset=s,this.open=(l?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],i=!1){let s=[new mr(0,t.length,t,0,!1,i)];for(let l of e)l.to>t.length&&s.push(l);return s}static applyChanges(t,e,i=128){if(!e.length)return t;let s=[],l=1,a=t.length?t[0]:null;for(let u=0,h=0,f=0;;u++){let p=u<e.length?e[u]:null,g=p?p.fromA:1e9;if(g-h>=i)for(;a&&a.from<g;){let y=a;if(h>=y.from||g<=y.to||f){let x=Math.max(y.from,h)-f,b=Math.min(y.to,g)-f;y=x>=b?null:new mr(x,b,y.tree,y.offset+f,u>0,!!p)}if(y&&s.push(y),a.to>g)break;a=l<t.length?t[l++]:null}if(!p)break;h=p.toA,f=p.toA-p.toB}return s}}class uT{startParse(t,e,i){return typeof t=="string"&&(t=new VN(t)),i=i?i.length?i.map(s=>new hm(s.from,s.to)):[new hm(0,0)]:[new hm(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let s=this.startParse(t,e,i);for(;;){let l=s.advance();if(l)return l}}}class VN{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Ct({perNode:!0});let PN=0;class Nn{constructor(t,e,i,s){this.name=t,this.set=e,this.base=i,this.modified=s,this.id=PN++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i=typeof t=="string"?t:"?";if(t instanceof Nn&&(e=t),e!=null&&e.base)throw new Error("Can not derive from a modified tag");let s=new Nn(i,[],null,[]);if(s.set.push(s),e)for(let l of e.set)s.set.push(l);return s}static defineModifier(t){let e=new Vh(t);return i=>i.modified.indexOf(e)>-1?i:Vh.get(i.base||i,i.modified.concat(e).sort((s,l)=>s.id-l.id))}}let HN=0;class Vh{constructor(t){this.name=t,this.instances=[],this.id=HN++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(u=>u.base==t&&qN(e,u.modified));if(i)return i;let s=[],l=new Nn(t.name,s,t,e);for(let u of e)u.instances.push(l);let a=UN(e);for(let u of t.set)if(!u.modified.length)for(let h of a)s.push(Vh.get(u,h));return l}}function qN(n,t){return n.length==t.length&&n.every((e,i)=>e==t[i])}function UN(n){let t=[[]];for(let e=0;e<n.length;e++)for(let i=0,s=t.length;i<s;i++)t.push(t[i].concat(n[e]));return t.sort((e,i)=>i.length-e.length)}function cT(n){let t=Object.create(null);for(let e in n){let i=n[e];Array.isArray(i)||(i=[i]);for(let s of e.split(" "))if(s){let l=[],a=2,u=s;for(let g=0;;){if(u=="..."&&g>0&&g+3==s.length){a=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!y)throw new RangeError("Invalid path: "+s);if(l.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),g+=y[0].length,g==s.length)break;let x=s[g++];if(g==s.length&&x=="!"){a=0;break}if(x!="/")throw new RangeError("Invalid path: "+s);u=s.slice(g)}let h=l.length-1,f=l[h];if(!f)throw new RangeError("Invalid path: "+s);let p=new Ph(i,a,h>0?l.slice(0,h):null);t[f]=p.sort(t[f])}}return hT.add(t)}const hT=new Ct;class Ph{constructor(t,e,i,s){this.tags=t,this.mode=e,this.context=i,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}Ph.empty=new Ph([],2,null);function fT(n,t){let e=Object.create(null);for(let l of n)if(!Array.isArray(l.tag))e[l.tag.id]=l.class;else for(let a of l.tag)e[a.id]=l.class;let{scope:i,all:s=null}=t||{};return{style:l=>{let a=s;for(let u of l)for(let h of u.set){let f=e[h.id];if(f){a=a?a+" "+f:f;break}}return a},scope:i}}function jN(n,t){let e=null;for(let i of n){let s=i.style(t);s&&(e=e?e+" "+s:s)}return e}function $N(n,t,e,i=0,s=n.length){let l=new XN(i,Array.isArray(t)?t:[t],e);l.highlightRange(n.cursor(),i,s,"",l.highlighters),l.flush(s)}class XN{constructor(t,e,i){this.at=t,this.highlighters=e,this.span=i,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,i,s,l){let{type:a,from:u,to:h}=t;if(u>=i||h<=e)return;a.isTop&&(l=this.highlighters.filter(x=>!x.scope||x.scope(a)));let f=s,p=YN(t)||Ph.empty,g=jN(l,p.tags);if(g&&(f&&(f+=" "),f+=g,p.mode==1&&(s+=(s?" ":"")+g)),this.startSpan(Math.max(e,u),f),p.opaque)return;let y=t.tree&&t.tree.prop(Ct.mounted);if(y&&y.overlay){let x=t.node.enter(y.overlay[0].from+u,1),b=this.highlighters.filter(A=>!A.scope||A.scope(y.tree.type)),w=t.firstChild();for(let A=0,O=u;;A++){let C=A<y.overlay.length?y.overlay[A]:null,E=C?C.from+u:h,M=Math.max(e,O),D=Math.min(i,E);if(M<D&&w)for(;t.from<D&&(this.highlightRange(t,M,D,s,l),this.startSpan(Math.min(D,t.to),f),!(t.to>=E||!t.nextSibling())););if(!C||E>i)break;O=C.to+u,O>e&&(this.highlightRange(x.cursor(),Math.max(e,C.from+u),Math.min(i,O),"",b),this.startSpan(Math.min(i,O),f))}w&&t.parent()}else if(t.firstChild()){y&&(s="");do if(!(t.to<=e)){if(t.from>=i)break;this.highlightRange(t,e,i,s,l),this.startSpan(Math.min(i,t.to),f)}while(t.nextSibling());t.parent()}}}function YN(n){let t=n.type.prop(hT);for(;t&&t.context&&!n.matchContext(t.context);)t=t.next;return t||null}const lt=Nn.define,$c=lt(),xs=lt(),iw=lt(xs),sw=lt(xs),bs=lt(),Xc=lt(bs),fm=lt(bs),ri=lt(),sr=lt(ri),ii=lt(),si=lt(),Ng=lt(),ta=lt(Ng),Yc=lt(),J={comment:$c,lineComment:lt($c),blockComment:lt($c),docComment:lt($c),name:xs,variableName:lt(xs),typeName:iw,tagName:lt(iw),propertyName:sw,attributeName:lt(sw),className:lt(xs),labelName:lt(xs),namespace:lt(xs),macroName:lt(xs),literal:bs,string:Xc,docString:lt(Xc),character:lt(Xc),attributeValue:lt(Xc),number:fm,integer:lt(fm),float:lt(fm),bool:lt(bs),regexp:lt(bs),escape:lt(bs),color:lt(bs),url:lt(bs),keyword:ii,self:lt(ii),null:lt(ii),atom:lt(ii),unit:lt(ii),modifier:lt(ii),operatorKeyword:lt(ii),controlKeyword:lt(ii),definitionKeyword:lt(ii),moduleKeyword:lt(ii),operator:si,derefOperator:lt(si),arithmeticOperator:lt(si),logicOperator:lt(si),bitwiseOperator:lt(si),compareOperator:lt(si),updateOperator:lt(si),definitionOperator:lt(si),typeOperator:lt(si),controlOperator:lt(si),punctuation:Ng,separator:lt(Ng),bracket:ta,angleBracket:lt(ta),squareBracket:lt(ta),paren:lt(ta),brace:lt(ta),content:ri,heading:sr,heading1:lt(sr),heading2:lt(sr),heading3:lt(sr),heading4:lt(sr),heading5:lt(sr),heading6:lt(sr),contentSeparator:lt(ri),list:lt(ri),quote:lt(ri),emphasis:lt(ri),strong:lt(ri),link:lt(ri),monospace:lt(ri),strikethrough:lt(ri),inserted:lt(),deleted:lt(),changed:lt(),invalid:lt(),meta:Yc,documentMeta:lt(Yc),annotation:lt(Yc),processingInstruction:lt(Yc),definition:Nn.defineModifier("definition"),constant:Nn.defineModifier("constant"),function:Nn.defineModifier("function"),standard:Nn.defineModifier("standard"),local:Nn.defineModifier("local"),special:Nn.defineModifier("special")};for(let n in J){let t=J[n];t instanceof Nn&&(t.name=n)}fT([{tag:J.link,class:"tok-link"},{tag:J.heading,class:"tok-heading"},{tag:J.emphasis,class:"tok-emphasis"},{tag:J.strong,class:"tok-strong"},{tag:J.keyword,class:"tok-keyword"},{tag:J.atom,class:"tok-atom"},{tag:J.bool,class:"tok-bool"},{tag:J.url,class:"tok-url"},{tag:J.labelName,class:"tok-labelName"},{tag:J.inserted,class:"tok-inserted"},{tag:J.deleted,class:"tok-deleted"},{tag:J.literal,class:"tok-literal"},{tag:J.string,class:"tok-string"},{tag:J.number,class:"tok-number"},{tag:[J.regexp,J.escape,J.special(J.string)],class:"tok-string2"},{tag:J.variableName,class:"tok-variableName"},{tag:J.local(J.variableName),class:"tok-variableName tok-local"},{tag:J.definition(J.variableName),class:"tok-variableName tok-definition"},{tag:J.special(J.variableName),class:"tok-variableName2"},{tag:J.definition(J.propertyName),class:"tok-propertyName tok-definition"},{tag:J.typeName,class:"tok-typeName"},{tag:J.namespace,class:"tok-namespace"},{tag:J.className,class:"tok-className"},{tag:J.macroName,class:"tok-macroName"},{tag:J.propertyName,class:"tok-propertyName"},{tag:J.operator,class:"tok-operator"},{tag:J.comment,class:"tok-comment"},{tag:J.meta,class:"tok-meta"},{tag:J.invalid,class:"tok-invalid"},{tag:J.punctuation,class:"tok-punctuation"}]);var dm;const vl=new Ct;function GN(n){return ut.define({combine:n?t=>t.concat(n):void 0})}const FN=new Ct;class Yn{constructor(t,e,i=[],s=""){this.data=t,this.name=s,Bt.prototype.hasOwnProperty("tree")||Object.defineProperty(Bt.prototype,"tree",{get(){return Ae(this)}}),this.parser=e,this.extension=[Bs.of(this),Bt.languageData.of((l,a,u)=>{let h=rw(l,a,u),f=h.type.prop(vl);if(!f)return[];let p=l.facet(f),g=h.type.prop(FN);if(g){let y=h.resolve(a-h.from,u);for(let x of g)if(x.test(y,l)){let b=l.facet(x.facet);return x.type=="replace"?b:b.concat(p)}}return p})].concat(i)}isActiveAt(t,e,i=-1){return rw(t,e,i).type.prop(vl)==this.data}findRegions(t){let e=t.facet(Bs);if((e==null?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],s=(l,a)=>{if(l.prop(vl)==this.data){i.push({from:a,to:a+l.length});return}let u=l.prop(Ct.mounted);if(u){if(u.tree.prop(vl)==this.data){if(u.overlay)for(let h of u.overlay)i.push({from:h.from+a,to:h.to+a});else i.push({from:a,to:a+l.length});return}else if(u.overlay){let h=i.length;if(s(u.tree,u.overlay[0].from+a),i.length>h)return}}for(let h=0;h<l.children.length;h++){let f=l.children[h];f instanceof he&&s(f,l.positions[h]+a)}};return s(Ae(t),0),i}get allowsNesting(){return!0}}Yn.setState=At.define();function rw(n,t,e){let i=n.facet(Bs),s=Ae(n).topNode;if(!i||i.allowsNesting)for(let l=s;l;l=l.enter(t,e,Se.ExcludeBuffers))l.type.isTop&&(s=l);return s}class Hh extends Yn{constructor(t,e,i){super(t,e,[],i),this.parser=e}static define(t){let e=GN(t.languageData);return new Hh(e,t.parser.configure({props:[vl.add(i=>i.isTop?e:void 0)]}),t.name)}configure(t,e){return new Hh(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ae(n){let t=n.field(Yn.state,!1);return t?t.tree:he.empty}class KN{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}}let ea=null;class qh{constructor(t,e,i=[],s,l,a,u,h){this.parser=t,this.state=e,this.fragments=i,this.tree=s,this.treeLen=l,this.viewport=a,this.skipped=u,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new qh(t,e,[],he.empty,0,i,[],null)}startParse(){return this.parser.startParse(new KN(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=he.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof t=="number"){let s=Date.now()+t;t=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(mr.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(mr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=ea;ea=this;try{return t()}finally{ea=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=lw(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:s,treeLen:l,viewport:a,skipped:u}=this;if(this.takeTree(),!t.empty){let h=[];if(t.iterChangedRanges((f,p,g,y)=>h.push({fromA:f,toA:p,fromB:g,toB:y})),i=mr.applyChanges(i,h),s=he.empty,l=0,a={from:t.mapPos(a.from,-1),to:t.mapPos(a.to,1)},this.skipped.length){u=[];for(let f of this.skipped){let p=t.mapPos(f.from,1),g=t.mapPos(f.to,-1);p<g&&u.push({from:p,to:g})}}}return new qh(this.parser,e,i,s,l,a,u,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:s,to:l}=this.skipped[i];s<t.to&&l>t.from&&(this.fragments=lw(this.fragments,s,l),this.skipped.splice(i--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends uT{createParse(e,i,s){let l=s[0].from,a=s[s.length-1].to;return{parsedPos:l,advance(){let h=ea;if(h){for(let f of s)h.tempSkipped.push(f);t&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,t]):t)}return this.parsedPos=a,new he(rn.none,[],[],a-l)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return ea}}function lw(n,t,e){return mr.applyChanges(n,[{fromA:t,toA:e,fromB:t,toB:e}])}class Vl{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new Vl(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=qh.create(t.facet(Bs).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new Vl(i)}}Yn.state=Re.define({create:Vl.init,update(n,t){for(let e of t.effects)if(e.is(Yn.setState))return e.value;return t.startState.facet(Bs)!=t.state.facet(Bs)?Vl.init(t.state):n.apply(t)}});let dT=n=>{let t=setTimeout(()=>n(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(dT=n=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(n,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const pm=typeof navigator<"u"&&(!((dm=navigator.scheduling)===null||dm===void 0)&&dm.isInputPending)?()=>navigator.scheduling.isInputPending():null,WN=fe.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Yn.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Yn.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=dT(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:s}}=this.view,l=i.field(Yn.state);if(l.tree==l.context.tree&&l.context.isDone(s+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,t&&!pm?Math.max(25,t.timeRemaining()-5):1e9),u=l.context.treeLen<s&&i.doc.length>s+1e3,h=l.context.work(()=>pm&&pm()||Date.now()>a,s+(u?0:1e5));this.chunkBudget-=Date.now()-e,(h||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:Yn.setState.of(new Vl(l.context))})),this.chunkBudget>0&&!(h&&!u)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>tn(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Bs=ut.define({combine(n){return n.length?n[0]:null},enables:n=>[Yn.state,WN,at.contentAttributes.compute([n],t=>{let e=t.facet(n);return e&&e.name?{"data-language":e.name}:{}})]});class IN{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}const QN=ut.define(),X0=ut.define({combine:n=>{if(!n.length)return"  ";let t=n[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return t}});function Uh(n){let t=n.facet(X0);return t.charCodeAt(0)==9?n.tabSize*t.length:t.length}function Ba(n,t){let e="",i=n.tabSize,s=n.facet(X0)[0];if(s=="	"){for(;t>=i;)e+="	",t-=i;s=" "}for(let l=0;l<t;l++)e+=s;return e}function Y0(n,t){n instanceof Bt&&(n=new vf(n));for(let i of n.state.facet(QN)){let s=i(n,t);if(s!==void 0)return s}let e=Ae(n.state);return e.length>=t?ZN(n,e,t):null}class vf{constructor(t,e={}){this.state=t,this.options=e,this.unit=Uh(t)}lineAt(t,e=1){let i=this.state.doc.lineAt(t),{simulateBreak:s,simulateDoubleBreak:l}=this.options;return s!=null&&s>=i.from&&s<=i.to?l&&s==t?{text:"",from:t}:(e<0?s<t:s<=t)?{text:i.text.slice(s-i.from),from:s}:{text:i.text.slice(0,s-i.from),from:i.from}:i}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:i,from:s}=this.lineAt(t,e);return i.slice(t-s,Math.min(i.length,t+100-s))}column(t,e=1){let{text:i,from:s}=this.lineAt(t,e),l=this.countColumn(i,t-s),a=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return a>-1&&(l+=a-this.countColumn(i,i.search(/\S|$/))),l}countColumn(t,e=t.length){return Yl(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:i,from:s}=this.lineAt(t,e),l=this.options.overrideIndentation;if(l){let a=l(s);if(a>-1)return a}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const pT=new Ct;function ZN(n,t,e){let i=t.resolveStack(e),s=t.resolveInner(e,-1).resolve(e,0).enterUnfinishedNodesBefore(e);if(s!=i.node){let l=[];for(let a=s;a&&!(a.from<i.node.from||a.to>i.node.to||a.from==i.node.from&&a.type==i.node.type);a=a.parent)l.push(a);for(let a=l.length-1;a>=0;a--)i={node:l[a],next:i}}return mT(i,n,e)}function mT(n,t,e){for(let i=n;i;i=i.next){let s=tB(i.node);if(s)return s(G0.create(t,e,i))}return 0}function JN(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function tB(n){let t=n.type.prop(pT);if(t)return t;let e=n.firstChild,i;if(e&&(i=e.type.prop(Ct.closedBy))){let s=n.lastChild,l=s&&i.indexOf(s.name)>-1;return a=>sB(a,!0,1,void 0,l&&!JN(a)?s.from:void 0)}return n.parent==null?eB:null}function eB(){return 0}class G0 extends vf{constructor(t,e,i){super(t.state,t.options),this.base=t,this.pos=e,this.context=i}get node(){return this.context.node}static create(t,e,i){return new G0(t,e,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let i=t.resolve(e.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(nB(i,t))break;e=this.state.doc.lineAt(i.from)}return this.lineIndent(e.from)}continue(){return mT(this.context.next,this.base,this.pos)}}function nB(n,t){for(let e=t;e;e=e.parent)if(n==e)return!0;return!1}function iB(n){let t=n.node,e=t.childAfter(t.from),i=t.lastChild;if(!e)return null;let s=n.options.simulateBreak,l=n.state.doc.lineAt(e.from),a=s==null||s<=l.from?l.to:Math.min(l.to,s);for(let u=e.to;;){let h=t.childAfter(u);if(!h||h==i)return null;if(!h.type.isSkipped){if(h.from>=a)return null;let f=/^ */.exec(l.text.slice(e.to-l.from))[0].length;return{from:e.from,to:e.to+f}}u=h.to}}function sB(n,t,e,i,s){let l=n.textAfter,a=l.match(/^\s*/)[0].length,u=i&&l.slice(a,a+i.length)==i||s==n.pos+a,h=iB(n);return h?u?n.column(h.from):n.column(h.to):n.baseIndent+(u?0:n.unit*e)}const rB=200;function lB(){return Bt.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let t=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!t.length)return n;let e=n.newDoc,{head:i}=n.newSelection.main,s=e.lineAt(i);if(i>s.from+rB)return n;let l=e.sliceString(s.from,i);if(!t.some(f=>f.test(l)))return n;let{state:a}=n,u=-1,h=[];for(let{head:f}of a.selection.ranges){let p=a.doc.lineAt(f);if(p.from==u)continue;u=p.from;let g=Y0(a,p.from);if(g==null)continue;let y=/^\s*/.exec(p.text)[0],x=Ba(a,g);y!=x&&h.push({from:p.from,to:p.from+y.length,insert:x})}return h.length?[n,{changes:h,sequential:!0}]:n})}const oB=ut.define(),gT=new Ct;function aB(n,t,e){let i=Ae(n);if(i.length<e)return null;let s=i.resolveStack(e,1),l=null;for(let a=s;a;a=a.next){let u=a.node;if(u.to<=e||u.from>e)continue;if(l&&u.from<t)break;let h=u.type.prop(gT);if(h&&(u.to<i.length-50||i.length==n.doc.length||!uB(u))){let f=h(u,n);f&&f.from<=e&&f.from>=t&&f.to>e&&(l=f)}}return l}function uB(n){let t=n.lastChild;return t&&t.to==n.to&&t.type.isError}function jh(n,t,e){for(let i of n.facet(oB)){let s=i(n,t,e);if(s)return s}return aB(n,t,e)}function yT(n,t){let e=t.mapPos(n.from,1),i=t.mapPos(n.to,-1);return e>=i?void 0:{from:e,to:i}}const xf=At.define({map:yT}),nu=At.define({map:yT});function vT(n){let t=[];for(let{head:e}of n.state.selection.ranges)t.some(i=>i.from<=e&&i.to>=e)||t.push(n.lineBlockAt(e));return t}const Tr=Re.define({create(){return xt.none},update(n,t){n=n.map(t.changes);for(let e of t.effects)if(e.is(xf)&&!cB(n,e.value.from,e.value.to)){let{preparePlaceholder:i}=t.state.facet(ST),s=i?xt.replace({widget:new yB(i(t.state,e.value))}):ow;n=n.update({add:[s.range(e.value.from,e.value.to)]})}else e.is(nu)&&(n=n.update({filter:(i,s)=>e.value.from!=i||e.value.to!=s,filterFrom:e.value.from,filterTo:e.value.to}));if(t.selection){let e=!1,{head:i}=t.selection.main;n.between(i,i,(s,l)=>{s<i&&l>i&&(e=!0)}),e&&(n=n.update({filterFrom:i,filterTo:i,filter:(s,l)=>l<=i||s>=i}))}return n},provide:n=>at.decorations.from(n),toJSON(n,t){let e=[];return n.between(0,t.doc.length,(i,s)=>{e.push(i,s)}),e},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let e=0;e<n.length;){let i=n[e++],s=n[e++];if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");t.push(ow.range(i,s))}return xt.set(t,!0)}});function $h(n,t,e){var i;let s=null;return(i=n.field(Tr,!1))===null||i===void 0||i.between(t,e,(l,a)=>{(!s||s.from>l)&&(s={from:l,to:a})}),s}function cB(n,t,e){let i=!1;return n.between(t,t,(s,l)=>{s==t&&l==e&&(i=!0)}),i}function xT(n,t){return n.field(Tr,!1)?t:t.concat(At.appendConfig.of(wT()))}const hB=n=>{for(let t of vT(n)){let e=jh(n.state,t.from,t.to);if(e)return n.dispatch({effects:xT(n.state,[xf.of(e),bT(n,e)])}),!0}return!1},fB=n=>{if(!n.state.field(Tr,!1))return!1;let t=[];for(let e of vT(n)){let i=$h(n.state,e.from,e.to);i&&t.push(nu.of(i),bT(n,i,!1))}return t.length&&n.dispatch({effects:t}),t.length>0};function bT(n,t,e=!0){let i=n.state.doc.lineAt(t.from).number,s=n.state.doc.lineAt(t.to).number;return at.announce.of(`${n.state.phrase(e?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${s}.`)}const dB=n=>{let{state:t}=n,e=[];for(let i=0;i<t.doc.length;){let s=n.lineBlockAt(i),l=jh(t,s.from,s.to);l&&e.push(xf.of(l)),i=(l?n.lineBlockAt(l.to):s).to+1}return e.length&&n.dispatch({effects:xT(n.state,e)}),!!e.length},pB=n=>{let t=n.state.field(Tr,!1);if(!t||!t.size)return!1;let e=[];return t.between(0,n.state.doc.length,(i,s)=>{e.push(nu.of({from:i,to:s}))}),n.dispatch({effects:e}),!0},mB=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:hB},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:fB},{key:"Ctrl-Alt-[",run:dB},{key:"Ctrl-Alt-]",run:pB}],gB={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},ST=ut.define({combine(n){return yi(n,gB)}});function wT(n){return[Tr,bB]}function AT(n,t){let{state:e}=n,i=e.facet(ST),s=a=>{let u=n.lineBlockAt(n.posAtDOM(a.target)),h=$h(n.state,u.from,u.to);h&&n.dispatch({effects:nu.of(h)}),a.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,s,t);let l=document.createElement("span");return l.textContent=i.placeholderText,l.setAttribute("aria-label",e.phrase("folded code")),l.title=e.phrase("unfold"),l.className="cm-foldPlaceholder",l.onclick=s,l}const ow=xt.replace({widget:new class extends Vs{toDOM(n){return AT(n,null)}}});class yB extends Vs{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return AT(t,this.value)}}const vB={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class mm extends $i{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function xB(n={}){let t={...vB,...n},e=new mm(t,!0),i=new mm(t,!1),s=fe.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(Bs)!=a.state.facet(Bs)||a.startState.field(Tr,!1)!=a.state.field(Tr,!1)||Ae(a.startState)!=Ae(a.state)||t.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let u=new Ui;for(let h of a.viewportLineBlocks){let f=$h(a.state,h.from,h.to)?i:jh(a.state,h.from,h.to)?e:null;f&&u.add(h.from,h.from,f)}return u.finish()}}),{domEventHandlers:l}=t;return[s,bN({class:"cm-foldGutter",markers(a){var u;return((u=a.plugin(s))===null||u===void 0?void 0:u.markers)||Rt.empty},initialSpacer(){return new mm(t,!1)},domEventHandlers:{...l,click:(a,u,h)=>{if(l.click&&l.click(a,u,h))return!0;let f=$h(a.state,u.from,u.to);if(f)return a.dispatch({effects:nu.of(f)}),!0;let p=jh(a.state,u.from,u.to);return p?(a.dispatch({effects:xf.of(p)}),!0):!1}}}),wT()]}const bB=at.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class iu{constructor(t,e){this.specs=t;let i;function s(u){let h=Ds.newName();return(i||(i=Object.create(null)))["."+h]=u,h}const l=typeof e.all=="string"?e.all:e.all?s(e.all):void 0,a=e.scope;this.scope=a instanceof Yn?u=>u.prop(vl)==a.data:a?u=>u==a:void 0,this.style=fT(t.map(u=>({tag:u.tag,class:u.class||s(Object.assign({},u,{tag:null}))})),{all:l}).style,this.module=i?new Ds(i):null,this.themeType=e.themeType}static define(t,e){return new iu(t,e||{})}}const Bg=ut.define(),OT=ut.define({combine(n){return n.length?[n[0]]:null}});function gm(n){let t=n.facet(Bg);return t.length?t:n.facet(OT)}function TT(n,t){let e=[wB],i;return n instanceof iu&&(n.module&&e.push(at.styleModule.of(n.module)),i=n.themeType),t!=null&&t.fallback?e.push(OT.of(n)):i?e.push(Bg.computeN([at.darkTheme],s=>s.facet(at.darkTheme)==(i=="dark")?[n]:[])):e.push(Bg.of(n)),e}class SB{constructor(t){this.markCache=Object.create(null),this.tree=Ae(t.state),this.decorations=this.buildDeco(t,gm(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=Ae(t.state),i=gm(t.state),s=i!=gm(t.startState),{viewport:l}=t.view,a=t.changes.mapPos(this.decoratedTo,1);e.length<l.to&&!s&&e.type==this.tree.type&&a>=l.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=a):(e!=this.tree||t.viewportChanged||s)&&(this.tree=e,this.decorations=this.buildDeco(t.view,i),this.decoratedTo=l.to)}buildDeco(t,e){if(!e||!this.tree.length)return xt.none;let i=new Ui;for(let{from:s,to:l}of t.visibleRanges)$N(this.tree,e,(a,u,h)=>{i.add(a,u,this.markCache[h]||(this.markCache[h]=xt.mark({class:h})))},s,l);return i.finish()}}const wB=Mr.high(fe.fromClass(SB,{decorations:n=>n.decorations})),AB=iu.define([{tag:J.meta,color:"#404740"},{tag:J.link,textDecoration:"underline"},{tag:J.heading,textDecoration:"underline",fontWeight:"bold"},{tag:J.emphasis,fontStyle:"italic"},{tag:J.strong,fontWeight:"bold"},{tag:J.strikethrough,textDecoration:"line-through"},{tag:J.keyword,color:"#708"},{tag:[J.atom,J.bool,J.url,J.contentSeparator,J.labelName],color:"#219"},{tag:[J.literal,J.inserted],color:"#164"},{tag:[J.string,J.deleted],color:"#a11"},{tag:[J.regexp,J.escape,J.special(J.string)],color:"#e40"},{tag:J.definition(J.variableName),color:"#00f"},{tag:J.local(J.variableName),color:"#30a"},{tag:[J.typeName,J.namespace],color:"#085"},{tag:J.className,color:"#167"},{tag:[J.special(J.variableName),J.macroName],color:"#256"},{tag:J.definition(J.propertyName),color:"#00c"},{tag:J.comment,color:"#940"},{tag:J.invalid,color:"#f00"}]),OB=at.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),CT=1e4,MT="()[]{}",kT=ut.define({combine(n){return yi(n,{afterCursor:!0,brackets:MT,maxScanDistance:CT,renderMatch:MB})}}),TB=xt.mark({class:"cm-matchingBracket"}),CB=xt.mark({class:"cm-nonmatchingBracket"});function MB(n){let t=[],e=n.matched?TB:CB;return t.push(e.range(n.start.from,n.start.to)),n.end&&t.push(e.range(n.end.from,n.end.to)),t}const kB=Re.define({create(){return xt.none},update(n,t){if(!t.docChanged&&!t.selection)return n;let e=[],i=t.state.facet(kT);for(let s of t.state.selection.ranges){if(!s.empty)continue;let l=ui(t.state,s.head,-1,i)||s.head>0&&ui(t.state,s.head-1,1,i)||i.afterCursor&&(ui(t.state,s.head,1,i)||s.head<t.state.doc.length&&ui(t.state,s.head+1,-1,i));l&&(e=e.concat(i.renderMatch(l,t.state)))}return xt.set(e,!0)},provide:n=>at.decorations.from(n)}),DB=[kB,OB];function EB(n={}){return[kT.of(n),DB]}const DT=new Ct;function Lg(n,t,e){let i=n.prop(t<0?Ct.openedBy:Ct.closedBy);if(i)return i;if(n.name.length==1){let s=e.indexOf(n.name);if(s>-1&&s%2==(t<0?1:0))return[e[s+t]]}return null}function zg(n){let t=n.type.prop(DT);return t?t(n.node):n}function ui(n,t,e,i={}){let s=i.maxScanDistance||CT,l=i.brackets||MT,a=Ae(n),u=a.resolveInner(t,e);for(let h=u;h;h=h.parent){let f=Lg(h.type,e,l);if(f&&h.from<h.to){let p=zg(h);if(p&&(e>0?t>=p.from&&t<p.to:t>p.from&&t<=p.to))return RB(n,t,e,h,p,f,l)}}return _B(n,t,e,a,u.type,s,l)}function RB(n,t,e,i,s,l,a){let u=i.parent,h={from:s.from,to:s.to},f=0,p=u==null?void 0:u.cursor();if(p&&(e<0?p.childBefore(i.from):p.childAfter(i.to)))do if(e<0?p.to<=i.from:p.from>=i.to){if(f==0&&l.indexOf(p.type.name)>-1&&p.from<p.to){let g=zg(p);return{start:h,end:g?{from:g.from,to:g.to}:void 0,matched:!0}}else if(Lg(p.type,e,a))f++;else if(Lg(p.type,-e,a)){if(f==0){let g=zg(p);return{start:h,end:g&&g.from<g.to?{from:g.from,to:g.to}:void 0,matched:!1}}f--}}while(e<0?p.prevSibling():p.nextSibling());return{start:h,matched:!1}}function _B(n,t,e,i,s,l,a){let u=e<0?n.sliceDoc(t-1,t):n.sliceDoc(t,t+1),h=a.indexOf(u);if(h<0||h%2==0!=e>0)return null;let f={from:e<0?t-1:t,to:e>0?t+1:t},p=n.doc.iterRange(t,e>0?n.doc.length:0),g=0;for(let y=0;!p.next().done&&y<=l;){let x=p.value;e<0&&(y+=x.length);let b=t+y*e;for(let w=e>0?0:x.length-1,A=e>0?x.length:-1;w!=A;w+=e){let O=a.indexOf(x[w]);if(!(O<0||i.resolveInner(b+w,1).type!=s))if(O%2==0==e>0)g++;else{if(g==1)return{start:f,end:{from:b+w,to:b+w+1},matched:O>>1==h>>1};g--}}e>0&&(y+=x.length)}return p.done?{start:f,matched:!1}:null}const NB=Object.create(null),aw=[rn.none],uw=[],cw=Object.create(null),BB=Object.create(null);for(let[n,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])BB[n]=LB(NB,t);function ym(n,t){uw.indexOf(n)>-1||(uw.push(n),console.warn(t))}function LB(n,t){let e=[];for(let u of t.split(" ")){let h=[];for(let f of u.split(".")){let p=n[f]||J[f];p?typeof p=="function"?h.length?h=h.map(p):ym(f,`Modifier ${f} used at start of tag`):h.length?ym(f,`Tag ${f} used as modifier`):h=Array.isArray(p)?p:[p]:ym(f,`Unknown highlighting tag ${f}`)}for(let f of h)e.push(f)}if(!e.length)return 0;let i=t.replace(/ /g,"_"),s=i+" "+e.map(u=>u.id),l=cw[s];if(l)return l.id;let a=cw[s]=rn.define({id:aw.length,name:i,props:[cT({[i]:e})]});return aw.push(a),a.id}Kt.RTL,Kt.LTR;const zB=n=>{let{state:t}=n,e=t.doc.lineAt(t.selection.main.from),i=K0(n.state,e.from);return i.line?VB(n):i.block?HB(n):!1};function F0(n,t){return({state:e,dispatch:i})=>{if(e.readOnly)return!1;let s=n(t,e);return s?(i(e.update(s)),!0):!1}}const VB=F0(jB,0),PB=F0(ET,0),HB=F0((n,t)=>ET(n,t,UB(t)),0);function K0(n,t){let e=n.languageDataAt("commentTokens",t,1);return e.length?e[0]:{}}const na=50;function qB(n,{open:t,close:e},i,s){let l=n.sliceDoc(i-na,i),a=n.sliceDoc(s,s+na),u=/\s*$/.exec(l)[0].length,h=/^\s*/.exec(a)[0].length,f=l.length-u;if(l.slice(f-t.length,f)==t&&a.slice(h,h+e.length)==e)return{open:{pos:i-u,margin:u&&1},close:{pos:s+h,margin:h&&1}};let p,g;s-i<=2*na?p=g=n.sliceDoc(i,s):(p=n.sliceDoc(i,i+na),g=n.sliceDoc(s-na,s));let y=/^\s*/.exec(p)[0].length,x=/\s*$/.exec(g)[0].length,b=g.length-x-e.length;return p.slice(y,y+t.length)==t&&g.slice(b,b+e.length)==e?{open:{pos:i+y+t.length,margin:/\s/.test(p.charAt(y+t.length))?1:0},close:{pos:s-x-e.length,margin:/\s/.test(g.charAt(b-1))?1:0}}:null}function UB(n){let t=[];for(let e of n.selection.ranges){let i=n.doc.lineAt(e.from),s=e.to<=i.to?i:n.doc.lineAt(e.to);s.from>i.from&&s.from==e.to&&(s=e.to==i.to+1?i:n.doc.lineAt(e.to-1));let l=t.length-1;l>=0&&t[l].to>i.from?t[l].to=s.to:t.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:s.to})}return t}function ET(n,t,e=t.selection.ranges){let i=e.map(l=>K0(t,l.from).block);if(!i.every(l=>l))return null;let s=e.map((l,a)=>qB(t,i[a],l.from,l.to));if(n!=2&&!s.every(l=>l))return{changes:t.changes(e.map((l,a)=>s[a]?[]:[{from:l.from,insert:i[a].open+" "},{from:l.to,insert:" "+i[a].close}]))};if(n!=1&&s.some(l=>l)){let l=[];for(let a=0,u;a<s.length;a++)if(u=s[a]){let h=i[a],{open:f,close:p}=u;l.push({from:f.pos-h.open.length,to:f.pos+f.margin},{from:p.pos-p.margin,to:p.pos+h.close.length})}return{changes:l}}return null}function jB(n,t,e=t.selection.ranges){let i=[],s=-1;for(let{from:l,to:a}of e){let u=i.length,h=1e9,f=K0(t,l).line;if(f){for(let p=l;p<=a;){let g=t.doc.lineAt(p);if(g.from>s&&(l==a||a>g.from)){s=g.from;let y=/^\s*/.exec(g.text)[0].length,x=y==g.length,b=g.text.slice(y,y+f.length)==f?y:-1;y<g.text.length&&y<h&&(h=y),i.push({line:g,comment:b,token:f,indent:y,empty:x,single:!1})}p=g.to+1}if(h<1e9)for(let p=u;p<i.length;p++)i[p].indent<i[p].line.text.length&&(i[p].indent=h);i.length==u+1&&(i[u].single=!0)}}if(n!=2&&i.some(l=>l.comment<0&&(!l.empty||l.single))){let l=[];for(let{line:u,token:h,indent:f,empty:p,single:g}of i)(g||!p)&&l.push({from:u.from+f,insert:h+" "});let a=t.changes(l);return{changes:a,selection:t.selection.map(a,1)}}else if(n!=1&&i.some(l=>l.comment>=0)){let l=[];for(let{line:a,comment:u,token:h}of i)if(u>=0){let f=a.from+u,p=f+h.length;a.text[p-a.from]==" "&&p++,l.push({from:f,to:p})}return{changes:l}}return null}const Vg=Fi.define(),$B=Fi.define(),XB=ut.define(),RT=ut.define({combine(n){return yi(n,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(i,s)=>t(i,s)||e(i,s)})}}),_T=Re.define({create(){return ci.empty},update(n,t){let e=t.state.facet(RT),i=t.annotation(Vg);if(i){let h=en.fromTransaction(t,i.selection),f=i.side,p=f==0?n.undone:n.done;return h?p=Xh(p,p.length,e.minDepth,h):p=LT(p,t.startState.selection),new ci(f==0?i.rest:p,f==0?p:i.rest)}let s=t.annotation($B);if((s=="full"||s=="before")&&(n=n.isolate()),t.annotation(ge.addToHistory)===!1)return t.changes.empty?n:n.addMapping(t.changes.desc);let l=en.fromTransaction(t),a=t.annotation(ge.time),u=t.annotation(ge.userEvent);return l?n=n.addChanges(l,a,u,e,t):t.selection&&(n=n.addSelection(t.startState.selection,a,u,e.newGroupDelay)),(s=="full"||s=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(t=>t.toJSON()),undone:n.undone.map(t=>t.toJSON())}},fromJSON(n){return new ci(n.done.map(en.fromJSON),n.undone.map(en.fromJSON))}});function YB(n={}){return[_T,RT.of(n),at.domEventHandlers({beforeinput(t,e){let i=t.inputType=="historyUndo"?NT:t.inputType=="historyRedo"?Pg:null;return i?(t.preventDefault(),i(e)):!1}})]}function bf(n,t){return function({state:e,dispatch:i}){if(!t&&e.readOnly)return!1;let s=e.field(_T,!1);if(!s)return!1;let l=s.pop(n,e,t);return l?(i(l),!0):!1}}const NT=bf(0,!1),Pg=bf(1,!1),GB=bf(0,!0),FB=bf(1,!0);class en{constructor(t,e,i,s,l){this.changes=t,this.effects=e,this.mapped=i,this.startSelection=s,this.selectionsAfter=l}setSelAfter(t){return new en(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,i;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(e=this.mapped)===null||e===void 0?void 0:e.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(t){return new en(t.changes&&me.fromJSON(t.changes),[],t.mapped&&hi.fromJSON(t.mapped),t.startSelection&&W.fromJSON(t.startSelection),t.selectionsAfter.map(W.fromJSON))}static fromTransaction(t,e){let i=Bn;for(let s of t.startState.facet(XB)){let l=s(t);l.length&&(i=i.concat(l))}return!i.length&&t.changes.empty?null:new en(t.changes.invert(t.startState.doc),i,void 0,e||t.startState.selection,Bn)}static selection(t){return new en(void 0,Bn,void 0,void 0,t)}}function Xh(n,t,e,i){let s=t+1>e+20?t-e-1:0,l=n.slice(s,t);return l.push(i),l}function KB(n,t){let e=[],i=!1;return n.iterChangedRanges((s,l)=>e.push(s,l)),t.iterChangedRanges((s,l,a,u)=>{for(let h=0;h<e.length;){let f=e[h++],p=e[h++];u>=f&&a<=p&&(i=!0)}}),i}function WB(n,t){return n.ranges.length==t.ranges.length&&n.ranges.filter((e,i)=>e.empty!=t.ranges[i].empty).length===0}function BT(n,t){return n.length?t.length?n.concat(t):n:t}const Bn=[],IB=200;function LT(n,t){if(n.length){let e=n[n.length-1],i=e.selectionsAfter.slice(Math.max(0,e.selectionsAfter.length-IB));return i.length&&i[i.length-1].eq(t)?n:(i.push(t),Xh(n,n.length-1,1e9,e.setSelAfter(i)))}else return[en.selection([t])]}function QB(n){let t=n[n.length-1],e=n.slice();return e[n.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),e}function vm(n,t){if(!n.length)return n;let e=n.length,i=Bn;for(;e;){let s=ZB(n[e-1],t,i);if(s.changes&&!s.changes.empty||s.effects.length){let l=n.slice(0,e);return l[e-1]=s,l}else t=s.mapped,e--,i=s.selectionsAfter}return i.length?[en.selection(i)]:Bn}function ZB(n,t,e){let i=BT(n.selectionsAfter.length?n.selectionsAfter.map(u=>u.map(t)):Bn,e);if(!n.changes)return en.selection(i);let s=n.changes.map(t),l=t.mapDesc(n.changes,!0),a=n.mapped?n.mapped.composeDesc(l):l;return new en(s,At.mapEffects(n.effects,t),a,n.startSelection.map(l),i)}const JB=/^(input\.type|delete)($|\.)/;class ci{constructor(t,e,i=0,s=void 0){this.done=t,this.undone=e,this.prevTime=i,this.prevUserEvent=s}isolate(){return this.prevTime?new ci(this.done,this.undone):this}addChanges(t,e,i,s,l){let a=this.done,u=a[a.length-1];return u&&u.changes&&!u.changes.empty&&t.changes&&(!i||JB.test(i))&&(!u.selectionsAfter.length&&e-this.prevTime<s.newGroupDelay&&s.joinToEvent(l,KB(u.changes,t.changes))||i=="input.type.compose")?a=Xh(a,a.length-1,s.minDepth,new en(t.changes.compose(u.changes),BT(At.mapEffects(t.effects,u.changes),u.effects),u.mapped,u.startSelection,Bn)):a=Xh(a,a.length,s.minDepth,t),new ci(a,Bn,e,i)}addSelection(t,e,i,s){let l=this.done.length?this.done[this.done.length-1].selectionsAfter:Bn;return l.length>0&&e-this.prevTime<s&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&WB(l[l.length-1],t)?this:new ci(LT(this.done,t),this.undone,e,i)}addMapping(t){return new ci(vm(this.done,t),vm(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,i){let s=t==0?this.done:this.undone;if(s.length==0)return null;let l=s[s.length-1],a=l.selectionsAfter[0]||e.selection;if(i&&l.selectionsAfter.length)return e.update({selection:l.selectionsAfter[l.selectionsAfter.length-1],annotations:Vg.of({side:t,rest:QB(s),selection:a}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(l.changes){let u=s.length==1?Bn:s.slice(0,s.length-1);return l.mapped&&(u=vm(u,l.mapped)),e.update({changes:l.changes,selection:l.startSelection,effects:l.effects,annotations:Vg.of({side:t,rest:u,selection:a}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}ci.empty=new ci(Bn,Bn);const t4=[{key:"Mod-z",run:NT,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Pg,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Pg,preventDefault:!0},{key:"Mod-u",run:GB,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:FB,preventDefault:!0}];function Gl(n,t){return W.create(n.ranges.map(t),n.mainIndex)}function vi(n,t){return n.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Kn({state:n,dispatch:t},e){let i=Gl(n.selection,e);return i.eq(n.selection,!0)?!1:(t(vi(n,i)),!0)}function Sf(n,t){return W.cursor(t?n.to:n.from)}function zT(n,t){return Kn(n,e=>e.empty?n.moveByChar(e,t):Sf(e,t))}function Pe(n){return n.textDirectionAt(n.state.selection.main.head)==Kt.LTR}const VT=n=>zT(n,!Pe(n)),PT=n=>zT(n,Pe(n));function HT(n,t){return Kn(n,e=>e.empty?n.moveByGroup(e,t):Sf(e,t))}const e4=n=>HT(n,!Pe(n)),n4=n=>HT(n,Pe(n));function i4(n,t,e){if(t.type.prop(e))return!0;let i=t.to-t.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(t.from,t.to)))||t.firstChild}function wf(n,t,e){let i=Ae(n).resolveInner(t.head),s=e?Ct.closedBy:Ct.openedBy;for(let h=t.head;;){let f=e?i.childAfter(h):i.childBefore(h);if(!f)break;i4(n,f,s)?i=f:h=e?f.to:f.from}let l=i.type.prop(s),a,u;return l&&(a=e?ui(n,i.from,1):ui(n,i.to,-1))&&a.matched?u=e?a.end.to:a.end.from:u=e?i.to:i.from,W.cursor(u,e?-1:1)}const s4=n=>Kn(n,t=>wf(n.state,t,!Pe(n))),r4=n=>Kn(n,t=>wf(n.state,t,Pe(n)));function qT(n,t){return Kn(n,e=>{if(!e.empty)return Sf(e,t);let i=n.moveVertically(e,t);return i.head!=e.head?i:n.moveToLineBoundary(e,t)})}const UT=n=>qT(n,!1),jT=n=>qT(n,!0);function $T(n){let t=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,e=0,i=0,s;if(t){for(let l of n.state.facet(at.scrollMargins)){let a=l(n);a!=null&&a.top&&(e=Math.max(a==null?void 0:a.top,e)),a!=null&&a.bottom&&(i=Math.max(a==null?void 0:a.bottom,i))}s=n.scrollDOM.clientHeight-e-i}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:e,marginBottom:i,selfScroll:t,height:Math.max(n.defaultLineHeight,s-5)}}function XT(n,t){let e=$T(n),{state:i}=n,s=Gl(i.selection,a=>a.empty?n.moveVertically(a,t,e.height):Sf(a,t));if(s.eq(i.selection))return!1;let l;if(e.selfScroll){let a=n.coordsAtPos(i.selection.main.head),u=n.scrollDOM.getBoundingClientRect(),h=u.top+e.marginTop,f=u.bottom-e.marginBottom;a&&a.top>h&&a.bottom<f&&(l=at.scrollIntoView(s.main.head,{y:"start",yMargin:a.top-h}))}return n.dispatch(vi(i,s),{effects:l}),!0}const hw=n=>XT(n,!1),Hg=n=>XT(n,!0);function Ps(n,t,e){let i=n.lineBlockAt(t.head),s=n.moveToLineBoundary(t,e);if(s.head==t.head&&s.head!=(e?i.to:i.from)&&(s=n.moveToLineBoundary(t,e,!1)),!e&&s.head==i.from&&i.length){let l=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;l&&t.head!=i.from+l&&(s=W.cursor(i.from+l))}return s}const l4=n=>Kn(n,t=>Ps(n,t,!0)),o4=n=>Kn(n,t=>Ps(n,t,!1)),a4=n=>Kn(n,t=>Ps(n,t,!Pe(n))),u4=n=>Kn(n,t=>Ps(n,t,Pe(n))),c4=n=>Kn(n,t=>W.cursor(n.lineBlockAt(t.head).from,1)),h4=n=>Kn(n,t=>W.cursor(n.lineBlockAt(t.head).to,-1));function f4(n,t,e){let i=!1,s=Gl(n.selection,l=>{let a=ui(n,l.head,-1)||ui(n,l.head,1)||l.head>0&&ui(n,l.head-1,1)||l.head<n.doc.length&&ui(n,l.head+1,-1);if(!a||!a.end)return l;i=!0;let u=a.start.from==l.head?a.end.to:a.end.from;return W.cursor(u)});return i?(t(vi(n,s)),!0):!1}const d4=({state:n,dispatch:t})=>f4(n,t);function Hn(n,t){let e=Gl(n.state.selection,i=>{let s=t(i);return W.range(i.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return e.eq(n.state.selection)?!1:(n.dispatch(vi(n.state,e)),!0)}function YT(n,t){return Hn(n,e=>n.moveByChar(e,t))}const GT=n=>YT(n,!Pe(n)),FT=n=>YT(n,Pe(n));function KT(n,t){return Hn(n,e=>n.moveByGroup(e,t))}const p4=n=>KT(n,!Pe(n)),m4=n=>KT(n,Pe(n)),g4=n=>Hn(n,t=>wf(n.state,t,!Pe(n))),y4=n=>Hn(n,t=>wf(n.state,t,Pe(n)));function WT(n,t){return Hn(n,e=>n.moveVertically(e,t))}const IT=n=>WT(n,!1),QT=n=>WT(n,!0);function ZT(n,t){return Hn(n,e=>n.moveVertically(e,t,$T(n).height))}const fw=n=>ZT(n,!1),dw=n=>ZT(n,!0),v4=n=>Hn(n,t=>Ps(n,t,!0)),x4=n=>Hn(n,t=>Ps(n,t,!1)),b4=n=>Hn(n,t=>Ps(n,t,!Pe(n))),S4=n=>Hn(n,t=>Ps(n,t,Pe(n))),w4=n=>Hn(n,t=>W.cursor(n.lineBlockAt(t.head).from)),A4=n=>Hn(n,t=>W.cursor(n.lineBlockAt(t.head).to)),pw=({state:n,dispatch:t})=>(t(vi(n,{anchor:0})),!0),mw=({state:n,dispatch:t})=>(t(vi(n,{anchor:n.doc.length})),!0),gw=({state:n,dispatch:t})=>(t(vi(n,{anchor:n.selection.main.anchor,head:0})),!0),yw=({state:n,dispatch:t})=>(t(vi(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),O4=({state:n,dispatch:t})=>(t(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),T4=({state:n,dispatch:t})=>{let e=Af(n).map(({from:i,to:s})=>W.range(i,Math.min(s+1,n.doc.length)));return t(n.update({selection:W.create(e),userEvent:"select"})),!0},C4=({state:n,dispatch:t})=>{let e=Gl(n.selection,i=>{let s=Ae(n),l=s.resolveStack(i.from,1);if(i.empty){let a=s.resolveStack(i.from,-1);a.node.from>=l.node.from&&a.node.to<=l.node.to&&(l=a)}for(let a=l;a;a=a.next){let{node:u}=a;if((u.from<i.from&&u.to>=i.to||u.to>i.to&&u.from<=i.from)&&a.next)return W.range(u.to,u.from)}return i});return e.eq(n.selection)?!1:(t(vi(n,e)),!0)},M4=({state:n,dispatch:t})=>{let e=n.selection,i=null;return e.ranges.length>1?i=W.create([e.main]):e.main.empty||(i=W.create([W.cursor(e.main.head)])),i?(t(vi(n,i)),!0):!1};function su(n,t){if(n.state.readOnly)return!1;let e="delete.selection",{state:i}=n,s=i.changeByRange(l=>{let{from:a,to:u}=l;if(a==u){let h=t(l);h<a?(e="delete.backward",h=Gc(n,h,!1)):h>a&&(e="delete.forward",h=Gc(n,h,!0)),a=Math.min(a,h),u=Math.max(u,h)}else a=Gc(n,a,!1),u=Gc(n,u,!0);return a==u?{range:l}:{changes:{from:a,to:u},range:W.cursor(a,a<l.head?-1:1)}});return s.changes.empty?!1:(n.dispatch(i.update(s,{scrollIntoView:!0,userEvent:e,effects:e=="delete.selection"?at.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Gc(n,t,e){if(n instanceof at)for(let i of n.state.facet(at.atomicRanges).map(s=>s(n)))i.between(t,t,(s,l)=>{s<t&&l>t&&(t=e?l:s)});return t}const JT=(n,t,e)=>su(n,i=>{let s=i.from,{state:l}=n,a=l.doc.lineAt(s),u,h;if(e&&!t&&s>a.from&&s<a.from+200&&!/[^ \t]/.test(u=a.text.slice(0,s-a.from))){if(u[u.length-1]=="	")return s-1;let f=Yl(u,l.tabSize),p=f%Uh(l)||Uh(l);for(let g=0;g<p&&u[u.length-1-g]==" ";g++)s--;h=s}else h=Ee(a.text,s-a.from,t,t)+a.from,h==s&&a.number!=(t?l.doc.lines:1)?h+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(a.text.slice(h-a.from,s-a.from))&&(h=Ee(a.text,h-a.from,!1,!1)+a.from);return h}),qg=n=>JT(n,!1,!0),tC=n=>JT(n,!0,!1),eC=(n,t)=>su(n,e=>{let i=e.head,{state:s}=n,l=s.doc.lineAt(i),a=s.charCategorizer(i);for(let u=null;;){if(i==(t?l.to:l.from)){i==e.head&&l.number!=(t?s.doc.lines:1)&&(i+=t?1:-1);break}let h=Ee(l.text,i-l.from,t)+l.from,f=l.text.slice(Math.min(i,h)-l.from,Math.max(i,h)-l.from),p=a(f);if(u!=null&&p!=u)break;(f!=" "||i!=e.head)&&(u=p),i=h}return i}),nC=n=>eC(n,!1),k4=n=>eC(n,!0),D4=n=>su(n,t=>{let e=n.lineBlockAt(t.head).to;return t.head<e?e:Math.min(n.state.doc.length,t.head+1)}),E4=n=>su(n,t=>{let e=n.moveToLineBoundary(t,!1).head;return t.head>e?e:Math.max(0,t.head-1)}),R4=n=>su(n,t=>{let e=n.moveToLineBoundary(t,!0).head;return t.head<e?e:Math.min(n.state.doc.length,t.head+1)}),_4=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:_t.of(["",""])},range:W.cursor(i.from)}));return t(n.update(e,{scrollIntoView:!0,userEvent:"input"})),!0},N4=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let s=i.from,l=n.doc.lineAt(s),a=s==l.from?s-1:Ee(l.text,s-l.from,!1)+l.from,u=s==l.to?s+1:Ee(l.text,s-l.from,!0)+l.from;return{changes:{from:a,to:u,insert:n.doc.slice(s,u).append(n.doc.slice(a,s))},range:W.cursor(u)}});return e.changes.empty?!1:(t(n.update(e,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Af(n){let t=[],e=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.from),l=n.doc.lineAt(i.to);if(!i.empty&&i.to==l.from&&(l=n.doc.lineAt(i.to-1)),e>=s.number){let a=t[t.length-1];a.to=l.to,a.ranges.push(i)}else t.push({from:s.from,to:l.to,ranges:[i]});e=l.number+1}return t}function iC(n,t,e){if(n.readOnly)return!1;let i=[],s=[];for(let l of Af(n)){if(e?l.to==n.doc.length:l.from==0)continue;let a=n.doc.lineAt(e?l.to+1:l.from-1),u=a.length+1;if(e){i.push({from:l.to,to:a.to},{from:l.from,insert:a.text+n.lineBreak});for(let h of l.ranges)s.push(W.range(Math.min(n.doc.length,h.anchor+u),Math.min(n.doc.length,h.head+u)))}else{i.push({from:a.from,to:l.from},{from:l.to,insert:n.lineBreak+a.text});for(let h of l.ranges)s.push(W.range(h.anchor-u,h.head-u))}}return i.length?(t(n.update({changes:i,scrollIntoView:!0,selection:W.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const B4=({state:n,dispatch:t})=>iC(n,t,!1),L4=({state:n,dispatch:t})=>iC(n,t,!0);function sC(n,t,e){if(n.readOnly)return!1;let i=[];for(let s of Af(n))e?i.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):i.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return t(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const z4=({state:n,dispatch:t})=>sC(n,t,!1),V4=({state:n,dispatch:t})=>sC(n,t,!0),P4=n=>{if(n.state.readOnly)return!1;let{state:t}=n,e=t.changes(Af(t).map(({from:s,to:l})=>(s>0?s--:l<t.doc.length&&l++,{from:s,to:l}))),i=Gl(t.selection,s=>{let l;if(n.lineWrapping){let a=n.lineBlockAt(s.head),u=n.coordsAtPos(s.head,s.assoc||1);u&&(l=a.bottom+n.documentTop-u.bottom+n.defaultLineHeight/2)}return n.moveVertically(s,!0,l)}).map(e);return n.dispatch({changes:e,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function H4(n,t){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(t-1,t+1)))return{from:t,to:t};let e=Ae(n).resolveInner(t),i=e.childBefore(t),s=e.childAfter(t),l;return i&&s&&i.to<=t&&s.from>=t&&(l=i.type.prop(Ct.closedBy))&&l.indexOf(s.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(s.from).from&&!/\S/.test(n.sliceDoc(i.to,s.from))?{from:i.to,to:s.from}:null}const vw=rC(!1),q4=rC(!0);function rC(n){return({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(s=>{let{from:l,to:a}=s,u=t.doc.lineAt(l),h=!n&&l==a&&H4(t,l);n&&(l=a=(a<=u.to?u:t.doc.lineAt(a)).to);let f=new vf(t,{simulateBreak:l,simulateDoubleBreak:!!h}),p=Y0(f,l);for(p==null&&(p=Yl(/^\s*/.exec(t.doc.lineAt(l).text)[0],t.tabSize));a<u.to&&/\s/.test(u.text[a-u.from]);)a++;h?{from:l,to:a}=h:l>u.from&&l<u.from+100&&!/\S/.test(u.text.slice(0,l))&&(l=u.from);let g=["",Ba(t,p)];return h&&g.push(Ba(t,f.lineIndent(u.from,-1))),{changes:{from:l,to:a,insert:_t.of(g)},range:W.cursor(l+1+g[1].length)}});return e(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function W0(n,t){let e=-1;return n.changeByRange(i=>{let s=[];for(let a=i.from;a<=i.to;){let u=n.doc.lineAt(a);u.number>e&&(i.empty||i.to>u.from)&&(t(u,s,i),e=u.number),a=u.to+1}let l=n.changes(s);return{changes:s,range:W.range(l.mapPos(i.anchor,1),l.mapPos(i.head,1))}})}const U4=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=Object.create(null),i=new vf(n,{overrideIndentation:l=>{let a=e[l];return a??-1}}),s=W0(n,(l,a,u)=>{let h=Y0(i,l.from);if(h==null)return;/\S/.test(l.text)||(h=0);let f=/^\s*/.exec(l.text)[0],p=Ba(n,h);(f!=p||u.from<l.from+f.length)&&(e[l.from]=h,a.push({from:l.from,to:l.from+f.length,insert:p}))});return s.changes.empty||t(n.update(s,{userEvent:"indent"})),!0},j4=({state:n,dispatch:t})=>n.readOnly?!1:(t(n.update(W0(n,(e,i)=>{i.push({from:e.from,insert:n.facet(X0)})}),{userEvent:"input.indent"})),!0),$4=({state:n,dispatch:t})=>n.readOnly?!1:(t(n.update(W0(n,(e,i)=>{let s=/^\s*/.exec(e.text)[0];if(!s)return;let l=Yl(s,n.tabSize),a=0,u=Ba(n,Math.max(0,l-Uh(n)));for(;a<s.length&&a<u.length&&s.charCodeAt(a)==u.charCodeAt(a);)a++;i.push({from:e.from+a,to:e.from+s.length,insert:u.slice(a)})}),{userEvent:"delete.dedent"})),!0),X4=n=>(n.setTabFocusMode(),!0),Y4=[{key:"Ctrl-b",run:VT,shift:GT,preventDefault:!0},{key:"Ctrl-f",run:PT,shift:FT},{key:"Ctrl-p",run:UT,shift:IT},{key:"Ctrl-n",run:jT,shift:QT},{key:"Ctrl-a",run:c4,shift:w4},{key:"Ctrl-e",run:h4,shift:A4},{key:"Ctrl-d",run:tC},{key:"Ctrl-h",run:qg},{key:"Ctrl-k",run:D4},{key:"Ctrl-Alt-h",run:nC},{key:"Ctrl-o",run:_4},{key:"Ctrl-t",run:N4},{key:"Ctrl-v",run:Hg}],G4=[{key:"ArrowLeft",run:VT,shift:GT,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e4,shift:p4,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:a4,shift:b4,preventDefault:!0},{key:"ArrowRight",run:PT,shift:FT,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:n4,shift:m4,preventDefault:!0},{mac:"Cmd-ArrowRight",run:u4,shift:S4,preventDefault:!0},{key:"ArrowUp",run:UT,shift:IT,preventDefault:!0},{mac:"Cmd-ArrowUp",run:pw,shift:gw},{mac:"Ctrl-ArrowUp",run:hw,shift:fw},{key:"ArrowDown",run:jT,shift:QT,preventDefault:!0},{mac:"Cmd-ArrowDown",run:mw,shift:yw},{mac:"Ctrl-ArrowDown",run:Hg,shift:dw},{key:"PageUp",run:hw,shift:fw},{key:"PageDown",run:Hg,shift:dw},{key:"Home",run:o4,shift:x4,preventDefault:!0},{key:"Mod-Home",run:pw,shift:gw},{key:"End",run:l4,shift:v4,preventDefault:!0},{key:"Mod-End",run:mw,shift:yw},{key:"Enter",run:vw,shift:vw},{key:"Mod-a",run:O4},{key:"Backspace",run:qg,shift:qg},{key:"Delete",run:tC},{key:"Mod-Backspace",mac:"Alt-Backspace",run:nC},{key:"Mod-Delete",mac:"Alt-Delete",run:k4},{mac:"Mod-Backspace",run:E4},{mac:"Mod-Delete",run:R4}].concat(Y4.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),F4=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:s4,shift:g4},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:r4,shift:y4},{key:"Alt-ArrowUp",run:B4},{key:"Shift-Alt-ArrowUp",run:z4},{key:"Alt-ArrowDown",run:L4},{key:"Shift-Alt-ArrowDown",run:V4},{key:"Escape",run:M4},{key:"Mod-Enter",run:q4},{key:"Alt-l",mac:"Ctrl-l",run:T4},{key:"Mod-i",run:C4,preventDefault:!0},{key:"Mod-[",run:$4},{key:"Mod-]",run:j4},{key:"Mod-Alt-\\",run:U4},{key:"Shift-Mod-k",run:P4},{key:"Shift-Mod-\\",run:d4},{key:"Mod-/",run:zB},{key:"Alt-A",run:PB},{key:"Ctrl-m",mac:"Shift-Alt-m",run:X4}].concat(G4),xw=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Pl{constructor(t,e,i=0,s=t.length,l,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(i,s),this.bufferStart=i,this.normalize=l?u=>l(xw(u)):xw,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Qe(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=A0(t),i=this.bufferStart+this.bufferPos;this.bufferPos+=oi(t);let s=this.normalize(e);if(s.length)for(let l=0,a=i;;l++){let u=s.charCodeAt(l),h=this.match(u,a,this.bufferPos+this.bufferStart);if(l==s.length-1){if(h)return this.value=h,this;break}a==i&&l<e.length&&e.charCodeAt(l)==u&&a++}}}match(t,e,i){let s=null;for(let l=0;l<this.matches.length;l+=2){let a=this.matches[l],u=!1;this.query.charCodeAt(a)==t&&(a==this.query.length-1?s={from:this.matches[l+1],to:i}:(this.matches[l]++,u=!0)),u||(this.matches.splice(l,2),l-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?s={from:e,to:i}:this.matches.push(1,e)),s&&this.test&&!this.test(s.from,s.to,this.buffer,this.bufferStart)&&(s=null),s}}typeof Symbol<"u"&&(Pl.prototype[Symbol.iterator]=function(){return this});const lC={from:-1,to:-1,match:/.*/.exec("")},I0="gm"+(/x/.unicode==null?"":"u");class oC{constructor(t,e,i,s=0,l=t.length){if(this.text=t,this.to=l,this.curLine="",this.done=!1,this.value=lC,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new aC(t,e,i,s,l);this.re=new RegExp(e,I0+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=t.iter();let a=t.lineAt(s);this.curLineStart=a.from,this.matchPos=Yh(t,s),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let i=this.curLineStart+e.index,s=i+e[0].length;if(this.matchPos=Yh(this.text,s+(i==s?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<s||i>this.value.to)&&(!this.test||this.test(i,s,e)))return this.value={from:i,to:s,match:e},this;t=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),t=0;else return this.done=!0,this}}}const xm=new WeakMap;class kl{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,i){let s=xm.get(t);if(!s||s.from>=i||s.to<=e){let u=new kl(e,t.sliceString(e,i));return xm.set(t,u),u}if(s.from==e&&s.to==i)return s;let{text:l,from:a}=s;return a>e&&(l=t.sliceString(e,a)+l,a=e),s.to<i&&(l+=t.sliceString(s.to,i)),xm.set(t,new kl(a,l)),new kl(e,l.slice(e-a,i-a))}}class aC{constructor(t,e,i,s,l){this.text=t,this.to=l,this.done=!1,this.value=lC,this.matchPos=Yh(t,s),this.re=new RegExp(e,I0+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=kl.get(t,s,this.chunkEnd(s+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let i=this.flat.from+e.index,s=i+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,s,e)))return this.value={from:i,to:s,match:e},this.matchPos=Yh(this.text,s+(i==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=kl.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(oC.prototype[Symbol.iterator]=aC.prototype[Symbol.iterator]=function(){return this});function K4(n){try{return new RegExp(n,I0),!0}catch{return!1}}function Yh(n,t){if(t>=n.length)return t;let e=n.lineAt(t),i;for(;t<e.to&&(i=e.text.charCodeAt(t-e.from))>=56320&&i<57344;)t++;return t}function Ug(n){let t=String(n.state.doc.lineAt(n.state.selection.main.head).number),e=$t("input",{class:"cm-textfield",name:"line",value:t}),i=$t("form",{class:"cm-gotoLine",onkeydown:l=>{l.keyCode==27?(l.preventDefault(),n.dispatch({effects:va.of(!1)}),n.focus()):l.keyCode==13&&(l.preventDefault(),s())},onsubmit:l=>{l.preventDefault(),s()}},$t("label",n.state.phrase("Go to line"),": ",e)," ",$t("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),$t("button",{name:"close",onclick:()=>{n.dispatch({effects:va.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function s(){let l=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!l)return;let{state:a}=n,u=a.doc.lineAt(a.selection.main.head),[,h,f,p,g]=l,y=p?+p.slice(1):0,x=f?+f:u.number;if(f&&g){let A=x/100;h&&(A=A*(h=="-"?-1:1)+u.number/a.doc.lines),x=Math.round(a.doc.lines*A)}else f&&h&&(x=x*(h=="-"?-1:1)+u.number);let b=a.doc.line(Math.max(1,Math.min(a.doc.lines,x))),w=W.cursor(b.from+Math.max(0,Math.min(y,b.length)));n.dispatch({effects:[va.of(!1),at.scrollIntoView(w.from,{y:"center"})],selection:w}),n.focus()}return{dom:i}}const va=At.define(),bw=Re.define({create(){return!0},update(n,t){for(let e of t.effects)e.is(va)&&(n=e.value);return n},provide:n=>_a.from(n,t=>t?Ug:null)}),W4=n=>{let t=Ra(n,Ug);if(!t){let e=[va.of(!0)];n.state.field(bw,!1)==null&&e.push(At.appendConfig.of([bw,I4])),n.dispatch({effects:e}),t=Ra(n,Ug)}return t&&t.dom.querySelector("input").select(),!0},I4=at.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Q4={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Z4=ut.define({combine(n){return yi(n,Q4,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})}});function J4(n){return[s5,i5]}const t5=xt.mark({class:"cm-selectionMatch"}),e5=xt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Sw(n,t,e,i){return(e==0||n(t.sliceDoc(e-1,e))!=It.Word)&&(i==t.doc.length||n(t.sliceDoc(i,i+1))!=It.Word)}function n5(n,t,e,i){return n(t.sliceDoc(e,e+1))==It.Word&&n(t.sliceDoc(i-1,i))==It.Word}const i5=fe.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=n.state.facet(Z4),{state:e}=n,i=e.selection;if(i.ranges.length>1)return xt.none;let s=i.main,l,a=null;if(s.empty){if(!t.highlightWordAroundCursor)return xt.none;let h=e.wordAt(s.head);if(!h)return xt.none;a=e.charCategorizer(s.head),l=e.sliceDoc(h.from,h.to)}else{let h=s.to-s.from;if(h<t.minSelectionLength||h>200)return xt.none;if(t.wholeWords){if(l=e.sliceDoc(s.from,s.to),a=e.charCategorizer(s.head),!(Sw(a,e,s.from,s.to)&&n5(a,e,s.from,s.to)))return xt.none}else if(l=e.sliceDoc(s.from,s.to),!l)return xt.none}let u=[];for(let h of n.visibleRanges){let f=new Pl(e.doc,l,h.from,h.to);for(;!f.next().done;){let{from:p,to:g}=f.value;if((!a||Sw(a,e,p,g))&&(s.empty&&p<=s.from&&g>=s.to?u.push(e5.range(p,g)):(p>=s.to||g<=s.from)&&u.push(t5.range(p,g)),u.length>t.maxMatches))return xt.none}}return xt.set(u)}},{decorations:n=>n.decorations}),s5=at.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),r5=({state:n,dispatch:t})=>{let{selection:e}=n,i=W.create(e.ranges.map(s=>n.wordAt(s.head)||W.cursor(s.head)),e.mainIndex);return i.eq(e)?!1:(t(n.update({selection:i})),!0)};function l5(n,t){let{main:e,ranges:i}=n.selection,s=n.wordAt(e.head),l=s&&s.from==e.from&&s.to==e.to;for(let a=!1,u=new Pl(n.doc,t,i[i.length-1].to);;)if(u.next(),u.done){if(a)return null;u=new Pl(n.doc,t,0,Math.max(0,i[i.length-1].from-1)),a=!0}else{if(a&&i.some(h=>h.from==u.value.from))continue;if(l){let h=n.wordAt(u.value.from);if(!h||h.from!=u.value.from||h.to!=u.value.to)continue}return u.value}}const o5=({state:n,dispatch:t})=>{let{ranges:e}=n.selection;if(e.some(l=>l.from===l.to))return r5({state:n,dispatch:t});let i=n.sliceDoc(e[0].from,e[0].to);if(n.selection.ranges.some(l=>n.sliceDoc(l.from,l.to)!=i))return!1;let s=l5(n,i);return s?(t(n.update({selection:n.selection.addRange(W.range(s.from,s.to),!1),effects:at.scrollIntoView(s.to)})),!0):!1},Fl=ut.define({combine(n){return yi(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new x5(t),scrollToMatch:t=>at.scrollIntoView(t)})}});class uC{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||K4(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(e,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new h5(this):new u5(this)}getCursor(t,e=0,i){let s=t.doc?t:Bt.create({doc:t});return i==null&&(i=s.doc.length),this.regexp?ml(this,s,e,i):pl(this,s,e,i)}}class cC{constructor(t){this.spec=t}}function pl(n,t,e,i){return new Pl(t.doc,n.unquoted,e,i,n.caseSensitive?void 0:s=>s.toLowerCase(),n.wholeWord?a5(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}function a5(n,t){return(e,i,s,l)=>((l>e||l+s.length<i)&&(l=Math.max(0,e-2),s=n.sliceString(l,Math.min(n.length,i+2))),(t(Gh(s,e-l))!=It.Word||t(Fh(s,e-l))!=It.Word)&&(t(Fh(s,i-l))!=It.Word||t(Gh(s,i-l))!=It.Word))}class u5 extends cC{constructor(t){super(t)}nextMatch(t,e,i){let s=pl(this.spec,t,i,t.doc.length).nextOverlapping();if(s.done){let l=Math.min(t.doc.length,e+this.spec.unquoted.length);s=pl(this.spec,t,0,l).nextOverlapping()}return s.done||s.value.from==e&&s.value.to==i?null:s.value}prevMatchInRange(t,e,i){for(let s=i;;){let l=Math.max(e,s-1e4-this.spec.unquoted.length),a=pl(this.spec,t,l,s),u=null;for(;!a.nextOverlapping().done;)u=a.value;if(u)return u;if(l==e)return null;s-=1e4}}prevMatch(t,e,i){let s=this.prevMatchInRange(t,0,e);return s||(s=this.prevMatchInRange(t,Math.max(0,i-this.spec.unquoted.length),t.doc.length)),s&&(s.from!=e||s.to!=i)?s:null}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let i=pl(this.spec,t,0,t.doc.length),s=[];for(;!i.next().done;){if(s.length>=e)return null;s.push(i.value)}return s}highlight(t,e,i,s){let l=pl(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,t.doc.length));for(;!l.next().done;)s(l.value.from,l.value.to)}}function ml(n,t,e,i){return new oC(t.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?c5(t.charCategorizer(t.selection.main.head)):void 0},e,i)}function Gh(n,t){return n.slice(Ee(n,t,!1),t)}function Fh(n,t){return n.slice(t,Ee(n,t))}function c5(n){return(t,e,i)=>!i[0].length||(n(Gh(i.input,i.index))!=It.Word||n(Fh(i.input,i.index))!=It.Word)&&(n(Fh(i.input,i.index+i[0].length))!=It.Word||n(Gh(i.input,i.index+i[0].length))!=It.Word)}class h5 extends cC{nextMatch(t,e,i){let s=ml(this.spec,t,i,t.doc.length).next();return s.done&&(s=ml(this.spec,t,0,e).next()),s.done?null:s.value}prevMatchInRange(t,e,i){for(let s=1;;s++){let l=Math.max(e,i-s*1e4),a=ml(this.spec,t,l,i),u=null;for(;!a.next().done;)u=a.value;if(u&&(l==e||u.from>l+10))return u;if(l==e)return null}}prevMatch(t,e,i){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,i,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(e,i)=>{if(i=="&")return t.match[0];if(i=="$")return"$";for(let s=i.length;s>0;s--){let l=+i.slice(0,s);if(l>0&&l<t.match.length)return t.match[l]+i.slice(s)}return e})}matchAll(t,e){let i=ml(this.spec,t,0,t.doc.length),s=[];for(;!i.next().done;){if(s.length>=e)return null;s.push(i.value)}return s}highlight(t,e,i,s){let l=ml(this.spec,t,Math.max(0,e-250),Math.min(i+250,t.doc.length));for(;!l.next().done;)s(l.value.from,l.value.to)}}const La=At.define(),Q0=At.define(),ks=Re.define({create(n){return new bm(jg(n).create(),null)},update(n,t){for(let e of t.effects)e.is(La)?n=new bm(e.value.create(),n.panel):e.is(Q0)&&(n=new bm(n.query,e.value?Z0:null));return n},provide:n=>_a.from(n,t=>t.panel)});class bm{constructor(t,e){this.query=t,this.panel=e}}const f5=xt.mark({class:"cm-searchMatch"}),d5=xt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),p5=fe.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(ks))}update(n){let t=n.state.field(ks);(t!=n.startState.field(ks)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:n,panel:t}){if(!t||!n.spec.valid)return xt.none;let{view:e}=this,i=new Ui;for(let s=0,l=e.visibleRanges,a=l.length;s<a;s++){let{from:u,to:h}=l[s];for(;s<a-1&&h>l[s+1].from-2*250;)h=l[++s].to;n.highlight(e.state,u,h,(f,p)=>{let g=e.state.selection.ranges.some(y=>y.from==f&&y.to==p);i.add(f,p,g?d5:f5)})}return i.finish()}},{decorations:n=>n.decorations});function ru(n){return t=>{let e=t.state.field(ks,!1);return e&&e.query.spec.valid?n(t,e):dC(t)}}const Kh=ru((n,{query:t})=>{let{to:e}=n.state.selection.main,i=t.nextMatch(n.state,e,e);if(!i)return!1;let s=W.single(i.from,i.to),l=n.state.facet(Fl);return n.dispatch({selection:s,effects:[J0(n,i),l.scrollToMatch(s.main,n)],userEvent:"select.search"}),fC(n),!0}),Wh=ru((n,{query:t})=>{let{state:e}=n,{from:i}=e.selection.main,s=t.prevMatch(e,i,i);if(!s)return!1;let l=W.single(s.from,s.to),a=n.state.facet(Fl);return n.dispatch({selection:l,effects:[J0(n,s),a.scrollToMatch(l.main,n)],userEvent:"select.search"}),fC(n),!0}),m5=ru((n,{query:t})=>{let e=t.matchAll(n.state,1e3);return!e||!e.length?!1:(n.dispatch({selection:W.create(e.map(i=>W.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),g5=({state:n,dispatch:t})=>{let e=n.selection;if(e.ranges.length>1||e.main.empty)return!1;let{from:i,to:s}=e.main,l=[],a=0;for(let u=new Pl(n.doc,n.sliceDoc(i,s));!u.next().done;){if(l.length>1e3)return!1;u.value.from==i&&(a=l.length),l.push(W.range(u.value.from,u.value.to))}return t(n.update({selection:W.create(l,a),userEvent:"select.search.matches"})),!0},ww=ru((n,{query:t})=>{let{state:e}=n,{from:i,to:s}=e.selection.main;if(e.readOnly)return!1;let l=t.nextMatch(e,i,i);if(!l)return!1;let a=l,u=[],h,f,p=[];a.from==i&&a.to==s&&(f=e.toText(t.getReplacement(a)),u.push({from:a.from,to:a.to,insert:f}),a=t.nextMatch(e,a.from,a.to),p.push(at.announce.of(e.phrase("replaced match on line $",e.doc.lineAt(i).number)+".")));let g=n.state.changes(u);return a&&(h=W.single(a.from,a.to).map(g),p.push(J0(n,a)),p.push(e.facet(Fl).scrollToMatch(h.main,n))),n.dispatch({changes:g,selection:h,effects:p,userEvent:"input.replace"}),!0}),y5=ru((n,{query:t})=>{if(n.state.readOnly)return!1;let e=t.matchAll(n.state,1e9).map(s=>{let{from:l,to:a}=s;return{from:l,to:a,insert:t.getReplacement(s)}});if(!e.length)return!1;let i=n.state.phrase("replaced $ matches",e.length)+".";return n.dispatch({changes:e,effects:at.announce.of(i),userEvent:"input.replace.all"}),!0});function Z0(n){return n.state.facet(Fl).createPanel(n)}function jg(n,t){var e,i,s,l,a;let u=n.selection.main,h=u.empty||u.to>u.from+100?"":n.sliceDoc(u.from,u.to);if(t&&!h)return t;let f=n.facet(Fl);return new uC({search:((e=t==null?void 0:t.literal)!==null&&e!==void 0?e:f.literal)?h:h.replace(/\n/g,"\\n"),caseSensitive:(i=t==null?void 0:t.caseSensitive)!==null&&i!==void 0?i:f.caseSensitive,literal:(s=t==null?void 0:t.literal)!==null&&s!==void 0?s:f.literal,regexp:(l=t==null?void 0:t.regexp)!==null&&l!==void 0?l:f.regexp,wholeWord:(a=t==null?void 0:t.wholeWord)!==null&&a!==void 0?a:f.wholeWord})}function hC(n){let t=Ra(n,Z0);return t&&t.dom.querySelector("[main-field]")}function fC(n){let t=hC(n);t&&t==n.root.activeElement&&t.select()}const dC=n=>{let t=n.state.field(ks,!1);if(t&&t.panel){let e=hC(n);if(e&&e!=n.root.activeElement){let i=jg(n.state,t.query.spec);i.valid&&n.dispatch({effects:La.of(i)}),e.focus(),e.select()}}else n.dispatch({effects:[Q0.of(!0),t?La.of(jg(n.state,t.query.spec)):At.appendConfig.of(S5)]});return!0},pC=n=>{let t=n.state.field(ks,!1);if(!t||!t.panel)return!1;let e=Ra(n,Z0);return e&&e.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Q0.of(!1)}),!0},v5=[{key:"Mod-f",run:dC,scope:"editor search-panel"},{key:"F3",run:Kh,shift:Wh,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Kh,shift:Wh,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:pC,scope:"editor search-panel"},{key:"Mod-Shift-l",run:g5},{key:"Mod-Alt-g",run:W4},{key:"Mod-d",run:o5,preventDefault:!0}];class x5{constructor(t){this.view=t;let e=this.query=t.state.field(ks).query.spec;this.commit=this.commit.bind(this),this.searchField=$t("input",{value:e.search,placeholder:mn(t,"Find"),"aria-label":mn(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=$t("input",{value:e.replace,placeholder:mn(t,"Replace"),"aria-label":mn(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=$t("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=$t("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=$t("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit});function i(s,l,a){return $t("button",{class:"cm-button",name:s,onclick:l,type:"button"},a)}this.dom=$t("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,i("next",()=>Kh(t),[mn(t,"next")]),i("prev",()=>Wh(t),[mn(t,"previous")]),i("select",()=>m5(t),[mn(t,"all")]),$t("label",null,[this.caseField,mn(t,"match case")]),$t("label",null,[this.reField,mn(t,"regexp")]),$t("label",null,[this.wordField,mn(t,"by word")]),...t.state.readOnly?[]:[$t("br"),this.replaceField,i("replace",()=>ww(t),[mn(t,"replace")]),i("replaceAll",()=>y5(t),[mn(t,"replace all")])],$t("button",{name:"close",onclick:()=>pC(t),"aria-label":mn(t,"close"),type:"button"},[""])])}commit(){let t=new uC({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:La.of(t)}))}keydown(t){E3(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?Wh:Kh)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),ww(this.view))}update(t){for(let e of t.transactions)for(let i of e.effects)i.is(La)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Fl).top}}function mn(n,t){return n.state.phrase(t)}const Fc=30,Kc=/[\s\.,:;?!]/;function J0(n,{from:t,to:e}){let i=n.state.doc.lineAt(t),s=n.state.doc.lineAt(e).to,l=Math.max(i.from,t-Fc),a=Math.min(s,e+Fc),u=n.state.sliceDoc(l,a);if(l!=i.from){for(let h=0;h<Fc;h++)if(!Kc.test(u[h+1])&&Kc.test(u[h])){u=u.slice(h);break}}if(a!=s){for(let h=u.length-1;h>u.length-Fc;h--)if(!Kc.test(u[h-1])&&Kc.test(u[h])){u=u.slice(0,h);break}}return at.announce.of(`${n.state.phrase("current match")}. ${u} ${n.state.phrase("on line")} ${i.number}.`)}const b5=at.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),S5=[ks,Mr.low(p5),b5];class mC{constructor(t,e,i,s){this.state=t,this.pos=e,this.explicit=i,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let e=Ae(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),i=Math.max(e.from,this.pos-250),s=e.text.slice(i-e.from,this.pos-e.from),l=s.search(gC(t,!1));return l<0?null:{from:i+l,to:this.pos,text:s.slice(l)}}get aborted(){return this.abortListeners==null}addEventListener(t,e,i){t=="abort"&&this.abortListeners&&(this.abortListeners.push(e),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function Aw(n){let t=Object.keys(n).join(""),e=/\w/.test(t);return e&&(t=t.replace(/\w/g,"")),`[${e?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function w5(n){let t=Object.create(null),e=Object.create(null);for(let{label:s}of n){t[s[0]]=!0;for(let l=1;l<s.length;l++)e[s[l]]=!0}let i=Aw(t)+Aw(e)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function A5(n){let t=n.map(s=>typeof s=="string"?{label:s}:s),[e,i]=t.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:w5(t);return s=>{let l=s.matchBefore(i);return l||s.explicit?{from:l?l.from:s.pos,options:t,validFor:e}:null}}class Ow{constructor(t,e,i,s){this.completion=t,this.source=e,this.match=i,this.score=s}}function gr(n){return n.selection.main.from}function gC(n,t){var e;let{source:i}=n,s=t&&i[0]!="^",l=i[i.length-1]!="$";return!s&&!l?n:new RegExp(`${s?"^":""}(?:${i})${l?"$":""}`,(e=n.flags)!==null&&e!==void 0?e:n.ignoreCase?"i":"")}const yC=Fi.define();function O5(n,t,e,i){let{main:s}=n.selection,l=e-s.from,a=i-s.from;return Object.assign(Object.assign({},n.changeByRange(u=>{if(u!=s&&e!=i&&n.sliceDoc(u.from+l,u.from+a)!=n.sliceDoc(e,i))return{range:u};let h=n.toText(t);return{changes:{from:u.from+l,to:i==s.from?u.to:u.from+a,insert:h},range:W.cursor(u.from+l+h.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const Tw=new WeakMap;function T5(n){if(!Array.isArray(n))return n;let t=Tw.get(n);return t||Tw.set(n,t=A5(n)),t}const Ih=At.define(),za=At.define();class C5{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let i=Qe(t,e),s=oi(i);this.chars.push(i);let l=t.slice(e,e+s),a=l.toUpperCase();this.folded.push(Qe(a==l?l.toLowerCase():a,0)),e+=s}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(this.pattern.length==0)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:i,any:s,precise:l,byWord:a}=this;if(e.length==1){let C=Qe(t,0),E=oi(C),M=E==t.length?0:-100;if(C!=e[0])if(C==i[0])M+=-200;else return null;return this.ret(M,[0,E])}let u=t.indexOf(this.pattern);if(u==0)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let h=e.length,f=0;if(u<0){for(let C=0,E=Math.min(t.length,200);C<E&&f<h;){let M=Qe(t,C);(M==e[f]||M==i[f])&&(s[f++]=C),C+=oi(M)}if(f<h)return null}let p=0,g=0,y=!1,x=0,b=-1,w=-1,A=/[a-z]/.test(t),O=!0;for(let C=0,E=Math.min(t.length,200),M=0;C<E&&g<h;){let D=Qe(t,C);u<0&&(p<h&&D==e[p]&&(l[p++]=C),x<h&&(D==e[x]||D==i[x]?(x==0&&(b=C),w=C+1,x++):x=0));let L,z=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(L=A0(D))!=L.toLowerCase()?1:L!=L.toUpperCase()?2:0;(!C||z==1&&A||M==0&&z!=0)&&(e[g]==D||i[g]==D&&(y=!0)?a[g++]=C:a.length&&(O=!1)),M=z,C+=oi(D)}return g==h&&a[0]==0&&O?this.result(-100+(y?-200:0),a,t):x==h&&b==0?this.ret(-200-t.length+(w==t.length?0:-100),[0,w]):u>-1?this.ret(-700-t.length,[u,u+this.pattern.length]):x==h?this.ret(-900-t.length,[b,w]):g==h?this.result(-100+(y?-200:0)+-700+(O?0:-1100),a,t):e.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,t)}result(t,e,i){let s=[],l=0;for(let a of e){let u=a+(this.astral?oi(Qe(i,a)):1);l&&s[l-1]==a?s[l-1]=u:(s[l++]=a,s[l++]=u)}return this.ret(t-i.length,s)}}class M5{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),i=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,e.length],this.score=i+(t.length==this.pattern.length?0:-100),this)}}const we=ut.define({combine(n){return yi(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:k5,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>i=>Cw(t(i),e(i)),optionClass:(t,e)=>i=>Cw(t(i),e(i)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})}});function Cw(n,t){return n?t?n+" "+t:n:t}function k5(n,t,e,i,s,l){let a=n.textDirection==Kt.RTL,u=a,h=!1,f="top",p,g,y=t.left-s.left,x=s.right-t.right,b=i.right-i.left,w=i.bottom-i.top;if(u&&y<Math.min(b,x)?u=!1:!u&&x<Math.min(b,y)&&(u=!0),b<=(u?y:x))p=Math.max(s.top,Math.min(e.top,s.bottom-w))-t.top,g=Math.min(400,u?y:x);else{h=!0,g=Math.min(400,(a?t.right:s.right-t.left)-30);let C=s.bottom-t.bottom;C>=w||C>t.top?p=e.bottom-t.top:(f="bottom",p=t.bottom-e.top)}let A=(t.bottom-t.top)/l.offsetHeight,O=(t.right-t.left)/l.offsetWidth;return{style:`${f}: ${p/A}px; max-width: ${g/O}px`,class:"cm-completionInfo-"+(h?a?"left-narrow":"right-narrow":u?"left":"right")}}function D5(n){let t=n.addToOptions.slice();return n.icons&&t.push({render(e){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),e.type&&i.classList.add(...e.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),i.setAttribute("aria-hidden","true"),i},position:20}),t.push({render(e,i,s,l){let a=document.createElement("span");a.className="cm-completionLabel";let u=e.displayLabel||e.label,h=0;for(let f=0;f<l.length;){let p=l[f++],g=l[f++];p>h&&a.appendChild(document.createTextNode(u.slice(h,p)));let y=a.appendChild(document.createElement("span"));y.appendChild(document.createTextNode(u.slice(p,g))),y.className="cm-completionMatchedText",h=g}return h<u.length&&a.appendChild(document.createTextNode(u.slice(h))),a},position:50},{render(e){if(!e.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=e.detail,i},position:80}),t.sort((e,i)=>e.position-i.position).map(e=>e.render)}function Sm(n,t,e){if(n<=e)return{from:0,to:n};if(t<0&&(t=0),t<=n>>1){let s=Math.floor(t/e);return{from:s*e,to:(s+1)*e}}let i=Math.floor((n-t)/e);return{from:n-(i+1)*e,to:n-i*e}}class E5{constructor(t,e,i){this.view=t,this.stateField=e,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:h=>this.placeInfo(h),key:this},this.space=null,this.currentClass="";let s=t.state.field(e),{options:l,selected:a}=s.open,u=t.state.facet(we);this.optionContent=D5(u),this.optionClass=u.optionClass,this.tooltipClass=u.tooltipClass,this.range=Sm(l.length,a,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",h=>{let{options:f}=t.state.field(e).open;for(let p=h.target,g;p&&p!=this.dom;p=p.parentNode)if(p.nodeName=="LI"&&(g=/-(\d+)$/.exec(p.id))&&+g[1]<f.length){this.applyCompletion(t,f[+g[1]]),h.preventDefault();return}}),this.dom.addEventListener("focusout",h=>{let f=t.state.field(this.stateField,!1);f&&f.tooltip&&t.state.facet(we).closeOnBlur&&h.relatedTarget!=t.contentDOM&&t.dispatch({effects:za.of(null)})}),this.showOptions(l,s.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var e;let i=t.state.field(this.stateField),s=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),i!=s){let{options:l,selected:a,disabled:u}=i.open;(!s.open||s.open.options!=l)&&(this.range=Sm(l.length,a,t.state.facet(we).maxRenderedOptions),this.showOptions(l,i.id)),this.updateSel(),u!=((e=s.open)===null||e===void 0?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!u)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of e.split(" "))i&&this.dom.classList.add(i);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=Sm(e.options.length,e.selected,this.view.state.facet(we).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:i}=e.options[e.selected],{info:s}=i;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(i);if(!l)return;"then"in l?l.then(a=>{a&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(a,i)}).catch(a=>tn(this.view.state,a,"completion info")):this.addInfoPane(l,i)}}addInfoPane(t,e){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",t.nodeType!=null)i.appendChild(t),this.infoDestroy=null;else{let{dom:s,destroy:l}=t;i.appendChild(s),this.infoDestroy=l||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let i=this.list.firstChild,s=this.range.from;i;i=i.nextSibling,s++)i.nodeName!="LI"||!i.id?s--:s==t?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),e=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return e&&_5(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),s=t.getBoundingClientRect(),l=this.space;if(!l){let a=this.dom.ownerDocument.documentElement;l={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return s.top>Math.min(l.bottom,e.bottom)-10||s.bottom<Math.max(l.top,e.top)+10?null:this.view.state.facet(we).positionInfo(this.view,e,s,i,l,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,i){const s=document.createElement("ul");s.id=e,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions")),s.addEventListener("mousedown",a=>{a.target==s&&a.preventDefault()});let l=null;for(let a=i.from;a<i.to;a++){let{completion:u,match:h}=t[a],{section:f}=u;if(f){let y=typeof f=="string"?f:f.name;if(y!=l&&(a>i.from||i.from==0))if(l=y,typeof f!="string"&&f.header)s.appendChild(f.header(f));else{let x=s.appendChild(document.createElement("completion-section"));x.textContent=y}}const p=s.appendChild(document.createElement("li"));p.id=e+"-"+a,p.setAttribute("role","option");let g=this.optionClass(u);g&&(p.className=g);for(let y of this.optionContent){let x=y(u,this.view.state,this.view,h);x&&p.appendChild(x)}}return i.from&&s.classList.add("cm-completionListIncompleteTop"),i.to<t.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function R5(n,t){return e=>new E5(e,n,t)}function _5(n,t){let e=n.getBoundingClientRect(),i=t.getBoundingClientRect(),s=e.height/n.offsetHeight;i.top<e.top?n.scrollTop-=(e.top-i.top)/s:i.bottom>e.bottom&&(n.scrollTop+=(i.bottom-e.bottom)/s)}function Mw(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function N5(n,t){let e=[],i=null,s=f=>{e.push(f);let{section:p}=f.completion;if(p){i||(i=[]);let g=typeof p=="string"?p:p.name;i.some(y=>y.name==g)||i.push(typeof p=="string"?{name:g}:p)}},l=t.facet(we);for(let f of n)if(f.hasResult()){let p=f.result.getMatch;if(f.result.filter===!1)for(let g of f.result.options)s(new Ow(g,f.source,p?p(g):[],1e9-e.length));else{let g=t.sliceDoc(f.from,f.to),y,x=l.filterStrict?new M5(g):new C5(g);for(let b of f.result.options)if(y=x.match(b.label)){let w=b.displayLabel?p?p(b,y.matched):[]:y.matched;s(new Ow(b,f.source,w,y.score+(b.boost||0)))}}}if(i){let f=Object.create(null),p=0,g=(y,x)=>{var b,w;return((b=y.rank)!==null&&b!==void 0?b:1e9)-((w=x.rank)!==null&&w!==void 0?w:1e9)||(y.name<x.name?-1:1)};for(let y of i.sort(g))p-=1e5,f[y.name]=p;for(let y of e){let{section:x}=y.completion;x&&(y.score+=f[typeof x=="string"?x:x.name])}}let a=[],u=null,h=l.compareCompletions;for(let f of e.sort((p,g)=>g.score-p.score||h(p.completion,g.completion))){let p=f.completion;!u||u.label!=p.label||u.detail!=p.detail||u.type!=null&&p.type!=null&&u.type!=p.type||u.apply!=p.apply||u.boost!=p.boost?a.push(f):Mw(f.completion)>Mw(u)&&(a[a.length-1]=f),u=f.completion}return a}class xl{constructor(t,e,i,s,l,a){this.options=t,this.attrs=e,this.tooltip=i,this.timestamp=s,this.selected=l,this.disabled=a}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new xl(this.options,kw(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,i,s,l,a){if(s&&!a&&t.some(f=>f.isPending))return s.setDisabled();let u=N5(t,e);if(!u.length)return s&&t.some(f=>f.isPending)?s.setDisabled():null;let h=e.facet(we).selectOnOpen?0:-1;if(s&&s.selected!=h&&s.selected!=-1){let f=s.options[s.selected].completion;for(let p=0;p<u.length;p++)if(u[p].completion==f){h=p;break}}return new xl(u,kw(i,h),{pos:t.reduce((f,p)=>p.hasResult()?Math.min(f,p.from):f,1e8),create:H5,above:l.aboveCursor},s?s.timestamp:Date.now(),h,!1)}map(t){return new xl(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new xl(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Qh{constructor(t,e,i){this.active=t,this.id=e,this.open=i}static start(){return new Qh(V5,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:e}=t,i=e.facet(we),l=(i.override||e.languageDataAt("autocomplete",gr(e)).map(T5)).map(h=>(this.active.find(p=>p.source==h)||new Ln(h,this.active.some(p=>p.state!=0)?1:0)).update(t,i));l.length==this.active.length&&l.every((h,f)=>h==this.active[f])&&(l=this.active);let a=this.open,u=t.effects.some(h=>h.is(ty));a&&t.docChanged&&(a=a.map(t.changes)),t.selection||l.some(h=>h.hasResult()&&t.changes.touchesRange(h.from,h.to))||!B5(l,this.active)||u?a=xl.build(l,e,this.id,a,i,u):a&&a.disabled&&!l.some(h=>h.isPending)&&(a=null),!a&&l.every(h=>!h.isPending)&&l.some(h=>h.hasResult())&&(l=l.map(h=>h.hasResult()?new Ln(h.source,0):h));for(let h of t.effects)h.is(xC)&&(a=a&&a.setSelected(h.value,this.id));return l==this.active&&a==this.open?this:new Qh(l,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?L5:z5}}function B5(n,t){if(n==t)return!0;for(let e=0,i=0;;){for(;e<n.length&&!n[e].hasResult();)e++;for(;i<t.length&&!t[i].hasResult();)i++;let s=e==n.length,l=i==t.length;if(s||l)return s==l;if(n[e++].result!=t[i++].result)return!1}}const L5={"aria-autocomplete":"list"},z5={};function kw(n,t){let e={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return t>-1&&(e["aria-activedescendant"]=n+"-"+t),e}const V5=[];function vC(n,t){if(n.isUserEvent("input.complete")){let i=n.annotation(yC);if(i&&t.activateOnCompletion(i))return 12}let e=n.isUserEvent("input.type");return e&&t.activateOnTyping?5:e?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Ln{constructor(t,e,i=!1){this.source=t,this.state=e,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(t,e){let i=vC(t,e),s=this;(i&8||i&16&&this.touches(t))&&(s=new Ln(s.source,0)),i&4&&s.state==0&&(s=new Ln(this.source,1)),s=s.updateFor(t,i);for(let l of t.effects)if(l.is(Ih))s=new Ln(s.source,1,l.value);else if(l.is(za))s=new Ln(s.source,0);else if(l.is(ty))for(let a of l.value)a.source==s.source&&(s=a);return s}updateFor(t,e){return this.map(t.changes)}map(t){return this}touches(t){return t.changes.touchesRange(gr(t.state))}}class Dl extends Ln{constructor(t,e,i,s,l,a){super(t,3,e),this.limit=i,this.result=s,this.from=l,this.to=a}hasResult(){return!0}updateFor(t,e){var i;if(!(e&3))return this.map(t.changes);let s=this.result;s.map&&!t.changes.empty&&(s=s.map(s,t.changes));let l=t.changes.mapPos(this.from),a=t.changes.mapPos(this.to,1),u=gr(t.state);if(u>a||!s||e&2&&(gr(t.startState)==this.from||u<this.limit))return new Ln(this.source,e&4?1:0);let h=t.changes.mapPos(this.limit);return P5(s.validFor,t.state,l,a)?new Dl(this.source,this.explicit,h,s,l,a):s.update&&(s=s.update(s,l,a,new mC(t.state,u,!1)))?new Dl(this.source,this.explicit,h,s,s.from,(i=s.to)!==null&&i!==void 0?i:gr(t.state)):new Ln(this.source,1,this.explicit)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new Dl(this.source,this.explicit,t.mapPos(this.limit),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new Ln(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}function P5(n,t,e,i){if(!n)return!1;let s=t.sliceDoc(e,i);return typeof n=="function"?n(s,e,i,t):gC(n,!0).test(s)}const ty=At.define({map(n,t){return n.map(e=>e.map(t))}}),xC=At.define(),Je=Re.define({create(){return Qh.start()},update(n,t){return n.update(t)},provide:n=>[H0.from(n,t=>t.tooltip),at.contentAttributes.from(n,t=>t.attrs)]});function ey(n,t){const e=t.completion.apply||t.completion.label;let i=n.state.field(Je).active.find(s=>s.source==t.source);return i instanceof Dl?(typeof e=="string"?n.dispatch(Object.assign(Object.assign({},O5(n.state,e,i.from,i.to)),{annotations:yC.of(t.completion)})):e(n,t.completion,i.from,i.to),!0):!1}const H5=R5(Je,ey);function Wc(n,t="option"){return e=>{let i=e.state.field(Je,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<e.state.facet(we).interactionDelay)return!1;let s=1,l;t=="page"&&(l=eT(e,i.open.tooltip))&&(s=Math.max(2,Math.floor(l.dom.offsetHeight/l.dom.querySelector("li").offsetHeight)-1));let{length:a}=i.open.options,u=i.open.selected>-1?i.open.selected+s*(n?1:-1):n?0:a-1;return u<0?u=t=="page"?0:a-1:u>=a&&(u=t=="page"?a-1:0),e.dispatch({effects:xC.of(u)}),!0}}const q5=n=>{let t=n.state.field(Je,!1);return n.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<n.state.facet(we).interactionDelay?!1:ey(n,t.open.options[t.open.selected])},Dw=n=>n.state.field(Je,!1)?(n.dispatch({effects:Ih.of(!0)}),!0):!1,U5=n=>{let t=n.state.field(Je,!1);return!t||!t.active.some(e=>e.state!=0)?!1:(n.dispatch({effects:za.of(null)}),!0)};class j5{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const $5=50,X5=1e3,Y5=fe.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of n.state.field(Je).active)t.isPending&&this.startQuery(t)}update(n){let t=n.state.field(Je),e=n.state.facet(we);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Je)==t)return;let i=n.transactions.some(l=>{let a=vC(l,e);return a&8||(l.selection||l.docChanged)&&!(a&3)});for(let l=0;l<this.running.length;l++){let a=this.running[l];if(i||a.context.abortOnDocChange&&n.docChanged||a.updates.length+n.transactions.length>$5&&Date.now()-a.time>X5){for(let u of a.context.abortListeners)try{u()}catch(h){tn(this.view.state,h)}a.context.abortListeners=null,this.running.splice(l--,1)}else a.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(l=>l.effects.some(a=>a.is(Ih)))&&(this.pendingStart=!0);let s=this.pendingStart?50:e.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(l=>l.isPending&&!this.running.some(a=>a.active.source==l.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let l of n.transactions)l.isUserEvent("input.type")?this.composing=2:this.composing==2&&l.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,t=n.field(Je);for(let e of t.active)e.isPending&&!this.running.some(i=>i.active.source==e.source)&&this.startQuery(e);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(we).updateSyncTime))}startQuery(n){let{state:t}=this.view,e=gr(t),i=new mC(t,e,n.explicit,this.view),s=new j5(n,i);this.running.push(s),Promise.resolve(n.source(i)).then(l=>{s.context.aborted||(s.done=l||null,this.scheduleAccept())},l=>{this.view.dispatch({effects:za.of(null)}),tn(this.view.state,l)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(we).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],e=this.view.state.facet(we),i=this.view.state.field(Je);for(let s=0;s<this.running.length;s++){let l=this.running[s];if(l.done===void 0)continue;if(this.running.splice(s--,1),l.done){let u=gr(l.updates.length?l.updates[0].startState:this.view.state),h=Math.min(u,l.done.from+(l.active.explicit?0:1)),f=new Dl(l.active.source,l.active.explicit,h,l.done,l.done.from,(n=l.done.to)!==null&&n!==void 0?n:u);for(let p of l.updates)f=f.update(p,e);if(f.hasResult()){t.push(f);continue}}let a=i.active.find(u=>u.source==l.active.source);if(a&&a.isPending)if(l.done==null){let u=new Ln(l.active.source,0);for(let h of l.updates)u=u.update(h,e);u.isPending||t.push(u)}else this.startQuery(a)}(t.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:ty.of(t)})}},{eventHandlers:{blur(n){let t=this.view.state.field(Je,!1);if(t&&t.tooltip&&this.view.state.facet(we).closeOnBlur){let e=t.open&&eT(this.view,t.open.tooltip);(!e||!e.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:za.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Ih.of(!1)}),20),this.composing=0}}}),G5=typeof navigator=="object"&&/Win/.test(navigator.platform),F5=Mr.highest(at.domEventHandlers({keydown(n,t){let e=t.state.field(Je,!1);if(!e||!e.open||e.open.disabled||e.open.selected<0||n.key.length>1||n.ctrlKey&&!(G5&&n.altKey)||n.metaKey)return!1;let i=e.open.options[e.open.selected],s=e.active.find(a=>a.source==i.source),l=i.completion.commitCharacters||s.result.commitCharacters;return l&&l.indexOf(n.key)>-1&&ey(t,i),!1}})),K5=at.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Va={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},hr=At.define({map(n,t){let e=t.mapPos(n,-1,qe.TrackAfter);return e??void 0}}),ny=new class extends Sr{};ny.startSide=1;ny.endSide=-1;const bC=Re.define({create(){return Rt.empty},update(n,t){if(n=n.map(t.changes),t.selection){let e=t.state.doc.lineAt(t.selection.main.head);n=n.update({filter:i=>i>=e.from&&i<=e.to})}for(let e of t.effects)e.is(hr)&&(n=n.update({add:[ny.range(e.value,e.value+1)]}));return n}});function W5(){return[Q5,bC]}const wm="()[]{}<>";function SC(n){for(let t=0;t<wm.length;t+=2)if(wm.charCodeAt(t)==n)return wm.charAt(t+1);return A0(n<128?n:n+1)}function wC(n,t){return n.languageDataAt("closeBrackets",t)[0]||Va}const I5=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Q5=at.inputHandler.of((n,t,e,i)=>{if((I5?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let s=n.state.selection.main;if(i.length>2||i.length==2&&oi(Qe(i,0))==1||t!=s.from||e!=s.to)return!1;let l=tL(n.state,i);return l?(n.dispatch(l),!0):!1}),Z5=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let i=wC(n,n.selection.main.head).brackets||Va.brackets,s=null,l=n.changeByRange(a=>{if(a.empty){let u=eL(n.doc,a.head);for(let h of i)if(h==u&&Of(n.doc,a.head)==SC(Qe(h,0)))return{changes:{from:a.head-h.length,to:a.head+h.length},range:W.cursor(a.head-h.length)}}return{range:s=a}});return s||t(n.update(l,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},J5=[{key:"Backspace",run:Z5}];function tL(n,t){let e=wC(n,n.selection.main.head),i=e.brackets||Va.brackets;for(let s of i){let l=SC(Qe(s,0));if(t==s)return l==s?sL(n,s,i.indexOf(s+s+s)>-1,e):nL(n,s,l,e.before||Va.before);if(t==l&&AC(n,n.selection.main.from))return iL(n,s,l)}return null}function AC(n,t){let e=!1;return n.field(bC).between(0,n.doc.length,i=>{i==t&&(e=!0)}),e}function Of(n,t){let e=n.sliceString(t,t+2);return e.slice(0,oi(Qe(e,0)))}function eL(n,t){let e=n.sliceString(t-2,t);return oi(Qe(e,0))==e.length?e:e.slice(1)}function nL(n,t,e,i){let s=null,l=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:e,from:a.to}],effects:hr.of(a.to+t.length),range:W.range(a.anchor+t.length,a.head+t.length)};let u=Of(n.doc,a.head);return!u||/\s/.test(u)||i.indexOf(u)>-1?{changes:{insert:t+e,from:a.head},effects:hr.of(a.head+t.length),range:W.cursor(a.head+t.length)}:{range:s=a}});return s?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function iL(n,t,e){let i=null,s=n.changeByRange(l=>l.empty&&Of(n.doc,l.head)==e?{changes:{from:l.head,to:l.head+e.length,insert:e},range:W.cursor(l.head+e.length)}:i={range:l});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function sL(n,t,e,i){let s=i.stringPrefixes||Va.stringPrefixes,l=null,a=n.changeByRange(u=>{if(!u.empty)return{changes:[{insert:t,from:u.from},{insert:t,from:u.to}],effects:hr.of(u.to+t.length),range:W.range(u.anchor+t.length,u.head+t.length)};let h=u.head,f=Of(n.doc,h),p;if(f==t){if(Ew(n,h))return{changes:{insert:t+t,from:h},effects:hr.of(h+t.length),range:W.cursor(h+t.length)};if(AC(n,h)){let y=e&&n.sliceDoc(h,h+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:h,to:h+y.length,insert:y},range:W.cursor(h+y.length)}}}else{if(e&&n.sliceDoc(h-2*t.length,h)==t+t&&(p=Rw(n,h-2*t.length,s))>-1&&Ew(n,p))return{changes:{insert:t+t+t+t,from:h},effects:hr.of(h+t.length),range:W.cursor(h+t.length)};if(n.charCategorizer(h)(f)!=It.Word&&Rw(n,h,s)>-1&&!rL(n,h,t,s))return{changes:{insert:t+t,from:h},effects:hr.of(h+t.length),range:W.cursor(h+t.length)}}return{range:l=u}});return l?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function Ew(n,t){let e=Ae(n).resolveInner(t+1);return e.parent&&e.from==t}function rL(n,t,e,i){let s=Ae(n).resolveInner(t,-1),l=i.reduce((a,u)=>Math.max(a,u.length),0);for(let a=0;a<5;a++){let u=n.sliceDoc(s.from,Math.min(s.to,s.from+e.length+l)),h=u.indexOf(e);if(!h||h>-1&&i.indexOf(u.slice(0,h))>-1){let p=s.firstChild;for(;p&&p.from==s.from&&p.to-p.from>e.length+h;){if(n.sliceDoc(p.to-e.length,p.to)==e)return!1;p=p.firstChild}return!0}let f=s.to==t&&s.parent;if(!f)break;s=f}return!1}function Rw(n,t,e){let i=n.charCategorizer(t);if(i(n.sliceDoc(t-1,t))!=It.Word)return t;for(let s of e){let l=t-s.length;if(n.sliceDoc(l,t)==s&&i(n.sliceDoc(l-1,l))!=It.Word)return l}return-1}function lL(n={}){return[F5,Je,we.of(n),Y5,oL,K5]}const OC=[{key:"Ctrl-Space",run:Dw},{mac:"Alt-`",run:Dw},{key:"Escape",run:U5},{key:"ArrowDown",run:Wc(!0)},{key:"ArrowUp",run:Wc(!1)},{key:"PageDown",run:Wc(!0,"page")},{key:"PageUp",run:Wc(!1,"page")},{key:"Enter",run:q5}],oL=Mr.highest(V0.computeN([we],n=>n.facet(we).defaultKeymap?[OC]:[]));class _w{constructor(t,e,i){this.from=t,this.to=e,this.diagnostic=i}}class ur{constructor(t,e,i){this.diagnostics=t,this.panel=e,this.selected=i}static init(t,e,i){let s=i.facet(Pa).markerFilter;s&&(t=s(t,i));let l=t.slice().sort((p,g)=>p.from-g.from||p.to-g.to),a=new Ui,u=[],h=0;for(let p=0;;){let g=p==l.length?null:l[p];if(!g&&!u.length)break;let y,x;for(u.length?(y=h,x=u.reduce((w,A)=>Math.min(w,A.to),g&&g.from>y?g.from:1e8)):(y=g.from,x=g.to,u.push(g),p++);p<l.length;){let w=l[p];if(w.from==y&&(w.to>w.from||w.to==y))u.push(w),p++,x=Math.min(w.to,x);else{x=Math.min(w.from,x);break}}let b=bL(u);if(u.some(w=>w.from==w.to||w.from==w.to-1&&i.doc.lineAt(w.from).to==w.from))a.add(y,y,xt.widget({widget:new gL(b),diagnostics:u.slice()}));else{let w=u.reduce((A,O)=>O.markClass?A+" "+O.markClass:A,"");a.add(y,x,xt.mark({class:"cm-lintRange cm-lintRange-"+b+w,diagnostics:u.slice(),inclusiveEnd:u.some(A=>A.to>x)}))}h=x;for(let w=0;w<u.length;w++)u[w].to<=h&&u.splice(w--,1)}let f=a.finish();return new ur(f,e,Hl(f))}}function Hl(n,t=null,e=0){let i=null;return n.between(e,1e9,(s,l,{spec:a})=>{if(!(t&&a.diagnostics.indexOf(t)<0))if(!i)i=new _w(s,l,t||a.diagnostics[0]);else{if(a.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new _w(i.from,l,i.diagnostic)}}),i}function aL(n,t){let e=t.pos,i=t.end||e,s=n.state.facet(Pa).hideOn(n,e,i);if(s!=null)return s;let l=n.startState.doc.lineAt(t.pos);return!!(n.effects.some(a=>a.is(TC))||n.changes.touchesRange(l.from,Math.max(l.to,i)))}function uL(n,t){return n.field(xn,!1)?t:t.concat(At.appendConfig.of(SL))}const TC=At.define(),iy=At.define(),CC=At.define(),xn=Re.define({create(){return new ur(xt.none,null,null)},update(n,t){if(t.docChanged&&n.diagnostics.size){let e=n.diagnostics.map(t.changes),i=null,s=n.panel;if(n.selected){let l=t.changes.mapPos(n.selected.from,1);i=Hl(e,n.selected.diagnostic,l)||Hl(e,null,l)}!e.size&&s&&t.state.facet(Pa).autoPanel&&(s=null),n=new ur(e,s,i)}for(let e of t.effects)if(e.is(TC)){let i=t.state.facet(Pa).autoPanel?e.value.length?Ha.open:null:n.panel;n=ur.init(e.value,i,t.state)}else e.is(iy)?n=new ur(n.diagnostics,e.value?Ha.open:null,n.selected):e.is(CC)&&(n=new ur(n.diagnostics,n.panel,e.value));return n},provide:n=>[_a.from(n,t=>t.panel),at.decorations.from(n,t=>t.diagnostics)]}),cL=xt.mark({class:"cm-lintRange cm-lintRange-active"});function hL(n,t,e){let{diagnostics:i}=n.state.field(xn),s,l=-1,a=-1;i.between(t-(e<0?1:0),t+(e>0?1:0),(h,f,{spec:p})=>{if(t>=h&&t<=f&&(h==f||(t>h||e>0)&&(t<f||e<0)))return s=p.diagnostics,l=h,a=f,!1});let u=n.state.facet(Pa).tooltipFilter;return s&&u&&(s=u(s,n.state)),s?{pos:l,end:a,above:n.state.doc.lineAt(l).to<a,create(){return{dom:fL(n,s)}}}:null}function fL(n,t){return $t("ul",{class:"cm-tooltip-lint"},t.map(e=>kC(n,e,!1)))}const dL=n=>{let t=n.state.field(xn,!1);(!t||!t.panel)&&n.dispatch({effects:uL(n.state,[iy.of(!0)])});let e=Ra(n,Ha.open);return e&&e.dom.querySelector(".cm-panel-lint ul").focus(),!0},Nw=n=>{let t=n.state.field(xn,!1);return!t||!t.panel?!1:(n.dispatch({effects:iy.of(!1)}),!0)},pL=n=>{let t=n.state.field(xn,!1);if(!t)return!1;let e=n.state.selection.main,i=t.diagnostics.iter(e.to+1);return!i.value&&(i=t.diagnostics.iter(0),!i.value||i.from==e.from&&i.to==e.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},mL=[{key:"Mod-Shift-m",run:dL,preventDefault:!0},{key:"F8",run:pL}],Pa=ut.define({combine(n){return Object.assign({sources:n.map(t=>t.source).filter(t=>t!=null)},yi(n.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?i=>t(i)||e(i):t:e}))}});function MC(n){let t=[];if(n)t:for(let{name:e}of n){for(let i=0;i<e.length;i++){let s=e[i];if(/[a-zA-Z]/.test(s)&&!t.some(l=>l.toLowerCase()==s.toLowerCase())){t.push(s);continue t}}t.push("")}return t}function kC(n,t,e){var i;let s=e?MC(t.actions):[];return $t("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},$t("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(n):t.message),(i=t.actions)===null||i===void 0?void 0:i.map((l,a)=>{let u=!1,h=y=>{if(y.preventDefault(),u)return;u=!0;let x=Hl(n.state.field(xn).diagnostics,t);x&&l.apply(n,x.from,x.to)},{name:f}=l,p=s[a]?f.indexOf(s[a]):-1,g=p<0?f:[f.slice(0,p),$t("u",f.slice(p,p+1)),f.slice(p+1)];return $t("button",{type:"button",class:"cm-diagnosticAction",onclick:h,onmousedown:h,"aria-label":` Action: ${f}${p<0?"":` (access key "${s[a]})"`}.`},g)}),t.source&&$t("div",{class:"cm-diagnosticSource"},t.source))}class gL extends Vs{constructor(t){super(),this.sev=t}eq(t){return t.sev==this.sev}toDOM(){return $t("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Bw{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=kC(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ha{constructor(t){this.view=t,this.items=[];let e=s=>{if(s.keyCode==27)Nw(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:l}=this.items[this.selectedIndex],a=MC(l.actions);for(let u=0;u<a.length;u++)if(a[u].toUpperCase().charCodeAt(0)==s.keyCode){let h=Hl(this.view.state.field(xn).diagnostics,l);h&&l.actions[u].apply(t,h.from,h.to)}}else return;s.preventDefault()},i=s=>{for(let l=0;l<this.items.length;l++)this.items[l].dom.contains(s.target)&&this.moveSelection(l)};this.list=$t("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e,onclick:i}),this.dom=$t("div",{class:"cm-panel-lint"},this.list,$t("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Nw(this.view)},"")),this.update()}get selectedIndex(){let t=this.view.state.field(xn).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(xn),i=0,s=!1,l=null,a=new Set;for(t.between(0,this.view.state.doc.length,(u,h,{spec:f})=>{for(let p of f.diagnostics){if(a.has(p))continue;a.add(p);let g=-1,y;for(let x=i;x<this.items.length;x++)if(this.items[x].diagnostic==p){g=x;break}g<0?(y=new Bw(this.view,p),this.items.splice(i,0,y),s=!0):(y=this.items[g],g>i&&(this.items.splice(i,g-i),s=!0)),e&&y.diagnostic==e.diagnostic?y.dom.hasAttribute("aria-selected")||(y.dom.setAttribute("aria-selected","true"),l=y):y.dom.hasAttribute("aria-selected")&&y.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new Bw(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),l?(this.list.setAttribute("aria-activedescendant",l.id),this.view.requestMeasure({key:this,read:()=>({sel:l.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:u,panel:h})=>{let f=h.height/this.list.offsetHeight;u.top<h.top?this.list.scrollTop-=(h.top-u.top)/f:u.bottom>h.bottom&&(this.list.scrollTop+=(u.bottom-h.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let t=this.list.firstChild;function e(){let i=t;t=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;t!=i.dom;)e();t=i.dom.nextSibling}else this.list.insertBefore(i.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=this.view.state.field(xn),i=Hl(e.diagnostics,this.items[t].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:CC.of(i)})}static open(t){return new Ha(t)}}function yL(n,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(n)}</svg>')`}function Ic(n){return yL(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const vL=at.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ic("#d11")},".cm-lintRange-warning":{backgroundImage:Ic("orange")},".cm-lintRange-info":{backgroundImage:Ic("#999")},".cm-lintRange-hint":{backgroundImage:Ic("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function xL(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function bL(n){let t="hint",e=1;for(let i of n){let s=xL(i.severity);s>e&&(e=s,t=i.severity)}return t}const SL=[xn,at.decorations.compute([xn],n=>{let{selected:t,panel:e}=n.field(xn);return!t||!e||t.from==t.to?xt.none:xt.set([cL.range(t.from,t.to)])}),gN(hL,{hideOn:aL}),vL],wL=[MN(),EN(),F3(),YB(),xB(),z3(),U3(),Bt.allowMultipleSelections.of(!0),lB(),TT(AB,{fallback:!0}),EB(),W5(),lL(),rN(),aN(),J3(),J4(),V0.of([...J5,...F4,...v5,...t4,...mB,...OC,...mL])];var Lw={};class Zh{constructor(t,e,i,s,l,a,u,h,f,p=0,g){this.p=t,this.stack=e,this.state=i,this.reducePos=s,this.pos=l,this.score=a,this.buffer=u,this.bufferBase=h,this.curContext=f,this.lookAhead=p,this.parent=g}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,i=0){let s=t.parser.context;return new Zh(t,[],e,i,i,0,[],0,s?new zw(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let i=t>>19,s=t&65535,{parser:l}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let u=l.dynamicPrecedence(s);if(u&&(this.score+=u),i==0){this.pushState(l.getGoto(this.state,s,!0),this.reducePos),s<l.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(s,this.reducePos);return}let h=this.stack.length-(i-1)*3-(t&262144?6:0),f=h?this.stack[h-2]:this.p.ranges[0].from,p=this.reducePos-f;p>=2e3&&!(!((e=this.p.parser.nodeSet.types[s])===null||e===void 0)&&e.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=p));let g=h?this.stack[h-1]:0,y=this.bufferBase+this.buffer.length-g;if(s<l.minRepeatTerm||t&131072){let x=l.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,f,x,y+4,!0)}if(t&262144)this.state=this.stack[h];else{let x=this.stack[h-3];this.state=l.getGoto(x,s,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(s,f)}storeNode(t,e,i,s=4,l=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,u=this.buffer.length;if(u==0&&a.parent&&(u=a.bufferBase-a.parent.bufferBase,a=a.parent),u>0&&a.buffer[u-4]==0&&a.buffer[u-1]>-1){if(e==i)return;if(a.buffer[u-2]>=e){a.buffer[u-2]=i;return}}}if(!l||this.pos==i)this.buffer.push(t,e,i,s);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0){let u=!1;for(let h=a;h>0&&this.buffer[h-2]>i;h-=4)if(this.buffer[h-1]>=0){u=!0;break}if(u)for(;a>0&&this.buffer[a-2]>i;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,s>4&&(s-=4)}this.buffer[a]=t,this.buffer[a+1]=e,this.buffer[a+2]=i,this.buffer[a+3]=s}}shift(t,e,i,s){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let l=t,{parser:a}=this.p;(s>this.pos||e<=a.maxNode)&&(this.pos=s,a.stateFlag(l,1)||(this.reducePos=s)),this.pushState(l,i),this.shiftContext(e,i),e<=a.maxNode&&this.buffer.push(e,i,s,4)}else this.pos=s,this.shiftContext(e,i),e<=this.p.parser.maxNode&&this.buffer.push(e,i,s,4)}apply(t,e,i,s){t&65536?this.reduce(t):this.shift(t,e,i,s)}useNode(t,e){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=t)&&(this.p.reused.push(t),i++);let s=this.pos;this.reducePos=this.pos=s+t.length,this.pushState(e,s),this.buffer.push(i,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let i=t.buffer.slice(e),s=t.bufferBase+e;for(;t&&s==t.bufferBase;)t=t.parent;return new Zh(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,s,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let i=t<=this.p.parser.maxNode;i&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,i?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new AL(this);;){let i=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(i==0)return!1;if((i&65536)==0)return!0;e.reduce(i)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let s=[];for(let l=0,a;l<e.length;l+=2)(a=e[l+1])!=this.state&&this.p.parser.hasAction(a,t)&&s.push(e[l],a);if(this.stack.length<120)for(let l=0;s.length<8&&l<e.length;l+=2){let a=e[l+1];s.some((u,h)=>h&1&&u==a)||s.push(e[l],a)}e=s}let i=[];for(let s=0;s<e.length&&i.length<4;s+=2){let l=e[s+1];if(l==this.state)continue;let a=this.split();a.pushState(l,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(e[s],this.pos),a.reducePos=this.pos,a.score-=200,i.push(a)}return i}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((e&65536)==0)return!1;if(!t.validAction(this.state,e)){let i=e>>19,s=e&65535,l=this.stack.length-i*3;if(l<0||t.getGoto(this.stack[l],s,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;e=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],i=(s,l)=>{if(!e.includes(s))return e.push(s),t.allActions(s,a=>{if(!(a&393216))if(a&65536){let u=(a>>19)-l;if(u>1){let h=a&65535,f=this.stack.length-u*3;if(f>=0&&t.getGoto(this.stack[f],h,!1)>=0)return u<<19|65536|h}}else{let u=i(a,l+1);if(u!=null)return u}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new zw(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class zw{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class AL{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,i=t>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=s}}class Jh{constructor(t,e,i){this.stack=t,this.pos=e,this.index=i,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new Jh(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Jh(this.stack,this.pos,this.index)}}function Qc(n,t=Uint16Array){if(typeof n!="string")return n;let e=null;for(let i=0,s=0;i<n.length;){let l=0;for(;;){let a=n.charCodeAt(i++),u=!1;if(a==126){l=65535;break}a>=92&&a--,a>=34&&a--;let h=a-32;if(h>=46&&(h-=46,u=!0),l+=h,u)break;l*=46}e?e[s++]=l:e=new t(l)}return e}class yh{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Vw=new yh;class OL{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Vw,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let i=this.range,s=this.rangeIndex,l=this.pos+t;for(;l<i.from;){if(!s)return null;let a=this.ranges[--s];l-=i.from-a.to,i=a}for(;e<0?l>i.to:l>=i.to;){if(s==this.ranges.length-1)return null;let a=this.ranges[++s];l+=a.from-i.to,i=a}return l}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,i,s;if(e>=0&&e<this.chunk.length)i=this.pos+t,s=this.chunk.charCodeAt(e);else{let l=this.resolveOffset(t,1);if(l==null)return-1;if(i=l,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let a=this.rangeIndex,u=this.range;for(;u.to<=i;)u=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>u.to&&(this.chunk2=this.chunk2.slice(0,u.to-i)),s=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),s}acceptToken(t,e=0){let i=e?this.resolveOffset(e,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=i}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=Vw,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let i="";for(let s of this.ranges){if(s.from>=e)break;s.to>t&&(i+=this.input.read(Math.max(s.from,t),Math.min(s.to,e)))}return i}}class El{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:i}=e.p;TL(this.data,t,e,this.id,i.data,i.tokenPrecTable)}}El.prototype.contextual=El.prototype.fallback=El.prototype.extend=!1;El.prototype.fallback=El.prototype.extend=!1;class DC{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function TL(n,t,e,i,s,l){let a=0,u=1<<i,{dialect:h}=e.p.parser;t:for(;(u&n[a])!=0;){let f=n[a+1];for(let x=a+3;x<f;x+=2)if((n[x+1]&u)>0){let b=n[x];if(h.allows(b)&&(t.token.value==-1||t.token.value==b||CL(b,t.token.value,s,l))){t.acceptToken(b);break}}let p=t.next,g=0,y=n[a+2];if(t.next<0&&y>g&&n[f+y*3-3]==65535){a=n[f+y*3-1];continue t}for(;g<y;){let x=g+y>>1,b=f+x+(x<<1),w=n[b],A=n[b+1]||65536;if(p<w)y=x;else if(p>=A)g=x+1;else{a=n[b+2],t.advance();continue t}}break}}function Pw(n,t,e){for(let i=t,s;(s=n[i])!=65535;i++)if(s==e)return i-t;return-1}function CL(n,t,e,i){let s=Pw(e,i,t);return s<0||Pw(e,i,n)<s}const gn=typeof process<"u"&&Lw&&/\bparse\b/.test(Lw.LOG);let Am=null;function Hw(n,t,e){let i=n.cursor(Se.IncludeAnonymous);for(i.moveTo(t);;)if(!(e<0?i.childBefore(t):i.childAfter(t)))for(;;){if((e<0?i.to<t:i.from>t)&&!i.type.isError)return e<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(n.length,Math.max(i.from+1,t+25));if(e<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return e<0?0:n.length}}class ML{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?Hw(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?Hw(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let i=this.trees[e],s=this.index[e];if(s==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let l=i.children[s],a=this.start[e]+i.positions[s];if(a>t)return this.nextStart=a,null;if(l instanceof he){if(a==t){if(a<this.safeFrom)return null;let u=a+l.length;if(u<=this.safeTo){let h=l.prop(Ct.lookAhead);if(!h||u+h<this.fragment.to)return l}}this.index[e]++,a+l.length>=Math.max(this.safeFrom,t)&&(this.trees.push(l),this.start.push(a),this.index.push(0))}else this.index[e]++,this.nextStart=a+l.length}}}class kL{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(i=>new yh)}getActions(t){let e=0,i=null,{parser:s}=t.p,{tokenizers:l}=s,a=s.stateSlot(t.state,3),u=t.curContext?t.curContext.hash:0,h=0;for(let f=0;f<l.length;f++){if((1<<f&a)==0)continue;let p=l[f],g=this.tokens[f];if(!(i&&!p.fallback)&&((p.contextual||g.start!=t.pos||g.mask!=a||g.context!=u)&&(this.updateCachedToken(g,p,t),g.mask=a,g.context=u),g.lookAhead>g.end+25&&(h=Math.max(g.lookAhead,h)),g.value!=0)){let y=e;if(g.extended>-1&&(e=this.addActions(t,g.extended,g.end,e)),e=this.addActions(t,g.value,g.end,e),!p.extend&&(i=g,e>y))break}}for(;this.actions.length>e;)this.actions.pop();return h&&t.setLookAhead(h),!i&&t.pos==this.stream.end&&(i=new yh,i.value=t.p.parser.eofTerm,i.start=i.end=t.pos,e=this.addActions(t,i.value,i.end,e)),this.mainToken=i,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new yh,{pos:i,p:s}=t;return e.start=i,e.end=Math.min(i+1,s.stream.end),e.value=i==s.stream.end?s.parser.eofTerm:0,e}updateCachedToken(t,e,i){let s=this.stream.clipPos(i.pos);if(e.token(this.stream.reset(s,t),i),t.value>-1){let{parser:l}=i.p;for(let a=0;a<l.specialized.length;a++)if(l.specialized[a]==t.value){let u=l.specializers[a](this.stream.read(t.start,t.end),i);if(u>=0&&i.p.parser.dialect.allows(u>>1)){(u&1)==0?t.value=u>>1:t.extended=u>>1;break}}}else t.value=0,t.end=this.stream.clipPos(s+1)}putAction(t,e,i,s){for(let l=0;l<s;l+=3)if(this.actions[l]==t)return s;return this.actions[s++]=t,this.actions[s++]=e,this.actions[s++]=i,s}addActions(t,e,i,s){let{state:l}=t,{parser:a}=t.p,{data:u}=a;for(let h=0;h<2;h++)for(let f=a.stateSlot(l,h?2:1);;f+=3){if(u[f]==65535)if(u[f+1]==1)f=Vi(u,f+2);else{s==0&&u[f+1]==2&&(s=this.putAction(Vi(u,f+2),e,i,s));break}u[f]==e&&(s=this.putAction(Vi(u,f+1),e,i,s))}return s}}class DL{constructor(t,e,i,s){this.parser=t,this.input=e,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new OL(e,s),this.tokens=new kL(t,this.stream),this.topTerm=t.top[1];let{from:l}=s[0];this.stacks=[Zh.start(this,t.top[0],l)],this.fragments=i.length&&this.stream.end-l>t.bufferLength*4?new ML(i,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,i=this.stacks=[],s,l;if(this.bigReductionCount>300&&t.length==1){let[a]=t;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<t.length;a++){let u=t[a];for(;;){if(this.tokens.mainToken=null,u.pos>e)i.push(u);else{if(this.advanceStack(u,i,t))continue;{s||(s=[],l=[]),s.push(u);let h=this.tokens.getMainToken(u);l.push(h.value,h.end)}}break}}if(!i.length){let a=s&&_L(s);if(a)return gn&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw gn&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&s){let a=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,l,i);if(a)return gn&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(i.length>a)for(i.sort((u,h)=>h.score-u.score);i.length>a;)i.pop();i.some(u=>u.reducePos>e)&&this.recovering--}else if(i.length>1){t:for(let a=0;a<i.length-1;a++){let u=i[a];for(let h=a+1;h<i.length;h++){let f=i[h];if(u.sameState(f)||u.buffer.length>500&&f.buffer.length>500)if((u.score-f.score||u.buffer.length-f.buffer.length)>0)i.splice(h--,1);else{i.splice(a--,1);continue t}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let a=1;a<i.length;a++)i[a].pos<this.minStackPos&&(this.minStackPos=i[a].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,i){let s=t.pos,{parser:l}=this,a=gn?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let f=t.curContext&&t.curContext.tracker.strict,p=f?t.curContext.hash:0;for(let g=this.fragments.nodeAt(s);g;){let y=this.parser.nodeSet.types[g.type.id]==g.type?l.getGoto(t.state,g.type.id):-1;if(y>-1&&g.length&&(!f||(g.prop(Ct.contextHash)||0)==p))return t.useNode(g,y),gn&&console.log(a+this.stackID(t)+` (via reuse of ${l.getName(g.type.id)})`),!0;if(!(g instanceof he)||g.children.length==0||g.positions[0]>0)break;let x=g.children[0];if(x instanceof he&&g.positions[0]==0)g=x;else break}}let u=l.stateSlot(t.state,4);if(u>0)return t.reduce(u),gn&&console.log(a+this.stackID(t)+` (via always-reduce ${l.getName(u&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let h=this.tokens.getActions(t);for(let f=0;f<h.length;){let p=h[f++],g=h[f++],y=h[f++],x=f==h.length||!i,b=x?t:t.split(),w=this.tokens.mainToken;if(b.apply(p,g,w?w.start:b.pos,y),gn&&console.log(a+this.stackID(b)+` (via ${(p&65536)==0?"shift":`reduce of ${l.getName(p&65535)}`} for ${l.getName(g)} @ ${s}${b==t?"":", split"})`),x)return!0;b.pos>s?e.push(b):i.push(b)}return!1}advanceFully(t,e){let i=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>i)return qw(t,e),!0}}runRecovery(t,e,i){let s=null,l=!1;for(let a=0;a<t.length;a++){let u=t[a],h=e[a<<1],f=e[(a<<1)+1],p=gn?this.stackID(u)+" -> ":"";if(u.deadEnd&&(l||(l=!0,u.restart(),gn&&console.log(p+this.stackID(u)+" (restarted)"),this.advanceFully(u,i))))continue;let g=u.split(),y=p;for(let x=0;g.forceReduce()&&x<10&&(gn&&console.log(y+this.stackID(g)+" (via force-reduce)"),!this.advanceFully(g,i));x++)gn&&(y=this.stackID(g)+" -> ");for(let x of u.recoverByInsert(h))gn&&console.log(p+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,i);this.stream.end>u.pos?(f==u.pos&&(f++,h=0),u.recoverByDelete(h,f),gn&&console.log(p+this.stackID(u)+` (via recover-delete ${this.parser.getName(h)})`),qw(u,i)):(!s||s.score<u.score)&&(s=u)}return s}stackToTree(t){return t.close(),he.build({buffer:Jh.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(Am||(Am=new WeakMap)).get(t);return e||Am.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function qw(n,t){for(let e=0;e<t.length;e++){let i=t[e];if(i.pos==n.pos&&i.sameState(n)){t[e].score<n.score&&(t[e]=n);return}}t.push(n)}class EL{constructor(t,e,i){this.source=t,this.flags=e,this.disabled=i}allows(t){return!this.disabled||this.disabled[t]==0}}const Om=n=>n;class RL{constructor(t){this.start=t.start,this.shift=t.shift||Om,this.reduce=t.reduce||Om,this.reuse=t.reuse||Om,this.hash=t.hash||(()=>0),this.strict=t.strict!==!1}}class tf extends uT{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let u=0;u<t.repeatNodeCount;u++)e.push("");let i=Object.keys(t.topRules).map(u=>t.topRules[u][1]),s=[];for(let u=0;u<e.length;u++)s.push([]);function l(u,h,f){s[u].push([h,h.deserialize(String(f))])}if(t.nodeProps)for(let u of t.nodeProps){let h=u[0];typeof h=="string"&&(h=Ct[h]);for(let f=1;f<u.length;){let p=u[f++];if(p>=0)l(p,h,u[f++]);else{let g=u[f+-p];for(let y=-p;y>0;y--)l(u[f++],h,g);f++}}}this.nodeSet=new q0(e.map((u,h)=>rn.define({name:h>=this.minRepeatTerm?void 0:u,id:h,props:s[h],top:i.indexOf(h)>-1,error:h==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(h)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=rT;let a=Qc(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let u=0;u<this.specializerSpecs.length;u++)this.specialized[u]=this.specializerSpecs[u].term;this.specializers=this.specializerSpecs.map(Uw),this.states=Qc(t.states,Uint32Array),this.data=Qc(t.stateData),this.goto=Qc(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(u=>typeof u=="number"?new El(a,u):u),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,i){let s=new DL(this,t,e,i);for(let l of this.wrappers)s=l(s,t,e,i);return s}getGoto(t,e,i=!1){let s=this.goto;if(e>=s[0])return-1;for(let l=s[e+1];;){let a=s[l++],u=a&1,h=s[l++];if(u&&i)return h;for(let f=l+(a>>1);l<f;l++)if(s[l]==t)return h;if(u)return-1}}hasAction(t,e){let i=this.data;for(let s=0;s<2;s++)for(let l=this.stateSlot(t,s?2:1),a;;l+=3){if((a=i[l])==65535)if(i[l+1]==1)a=i[l=Vi(i,l+2)];else{if(i[l+1]==2)return Vi(i,l+2);break}if(a==e||a==0)return Vi(i,l+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,i=>i==e?!0:null)}allActions(t,e){let i=this.stateSlot(t,4),s=i?e(i):void 0;for(let l=this.stateSlot(t,1);s==null;l+=3){if(this.data[l]==65535)if(this.data[l+1]==1)l=Vi(this.data,l+2);else break;s=e(Vi(this.data,l+1))}return s}nextStates(t){let e=[];for(let i=this.stateSlot(t,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Vi(this.data,i+2);else break;if((this.data[i+2]&1)==0){let s=this.data[i+1];e.some((l,a)=>a&1&&l==s)||e.push(this.data[i],s)}}return e}configure(t){let e=Object.assign(Object.create(tf.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let i=this.topRules[t.top];if(!i)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=i}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(i=>{let s=t.tokenizers.find(l=>l.from==i);return s?s.to:i})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((i,s)=>{let l=t.specializers.find(u=>u.from==i.external);if(!l)return i;let a=Object.assign(Object.assign({},i),{external:l.to});return e.specializers[s]=Uw(a),a})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),i=e.map(()=>!1);if(t)for(let l of t.split(" ")){let a=e.indexOf(l);a>=0&&(i[a]=!0)}let s=null;for(let l=0;l<e.length;l++)if(!i[l])for(let a=this.dialects[e[l]],u;(u=this.data[a++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[u]=1;return new EL(t,i,s)}static deserialize(t){return new tf(t)}}function Vi(n,t){return n[t]|n[t+1]<<16}function _L(n){let t=null;for(let e of n){let i=e.p.stoppedAt;(e.pos==e.p.stream.end||i!=null&&e.pos>i)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function Uw(n){if(n.external){let t=n.extend?1:0;return(e,i)=>n.external(e,i)<<1|t}return n.get}const $g=1,NL=2,BL=3,LL=4,zL=5,VL=36,PL=37,HL=38,qL=11,UL=13;function jL(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}function $L(n){return n==9||n==10||n==13||n==32}let jw=null,$w=null,Xw=0;function Xg(n,t){let e=n.pos+t;if($w==n&&Xw==e)return jw;for(;$L(n.peek(t));)t++;let i="";for(;;){let s=n.peek(t);if(!jL(s))break;i+=String.fromCharCode(s),t++}return $w=n,Xw=e,jw=i||null}function Yw(n,t){this.name=n,this.parent=t}const XL=new RL({start:null,shift(n,t,e,i){return t==$g?new Yw(Xg(i,1)||"",n):n},reduce(n,t){return t==qL&&n?n.parent:n},reuse(n,t,e,i){let s=t.type.id;return s==$g||s==UL?new Yw(Xg(i,1)||"",n):n},strict:!1}),YL=new DC((n,t)=>{if(n.next==60){if(n.advance(),n.next==47){n.advance();let e=Xg(n,0);if(!e)return n.acceptToken(zL);if(t.context&&e==t.context.name)return n.acceptToken(NL);for(let i=t.context;i;i=i.parent)if(i.name==e)return n.acceptToken(BL,-2);n.acceptToken(LL)}else if(n.next!=33&&n.next!=63)return n.acceptToken($g)}},{contextual:!0});function sy(n,t){return new DC(e=>{let i=0,s=t.charCodeAt(0);t:for(;!(e.next<0);e.advance(),i++)if(e.next==s){for(let l=1;l<t.length;l++)if(e.peek(l)!=t.charCodeAt(l))continue t;break}i&&e.acceptToken(n)})}const GL=sy(VL,"-->"),FL=sy(PL,"?>"),KL=sy(HL,"]]>"),WL=cT({Text:J.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":J.angleBracket,TagName:J.tagName,"MismatchedCloseTag/TagName":[J.tagName,J.invalid],AttributeName:J.attributeName,AttributeValue:J.attributeValue,Is:J.definitionOperator,"EntityReference CharacterReference":J.character,Comment:J.blockComment,ProcessingInst:J.processingInstruction,DoctypeDecl:J.documentMeta,Cdata:J.special(J.string)}),IL=tf.deserialize({version:14,states:",lOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DT'#DTOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C|'#C|O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C}'#C}O$dOrO,59^OOOP,59^,59^OOOS'#DO'#DOO$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6z-E6zOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6{-E6{OOOP1G.x1G.xOOOS-E6|-E6|OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'mO!bO,59eOOOO-E6w-E6wO'{OpO1G.uO'{OpO1G.uOOOP1G.u1G.uO(TOpO7+$fOOOP7+$f7+$fO(]O!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(hO#tO'#CnO(vO&jO'#CnOOOO1G.q1G.qO)UOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO)^O#tO,59YOOOO,59Y,59YOOOO'#C{'#C{O)lO&jO,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.tOOOO-E6y-E6y",stateData:")z~OPQOSVOTWOVWOWWOXWOiXOyPO!QTO!SUO~OvZOx]O~O^`Oz^O~OPQOQcOSVOTWOVWOWWOXWOyPO!QTO!SUO~ORdO~P!SOteO!PgO~OuhO!RjO~O^lOz^O~OvZOxoO~O^qOz^O~O[vO`sOdwOz^O~ORyO~P!SO^{Oz^O~OteO!P}O~OuhO!R!PO~O^!QOz^O~O[!SOz^O~O[!VO`sOd!WOz^O~Oa!YOz^O~Oz^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oz^O~O[!_Oz^O~O[!aOz^O~O[!cO`sOd!dOz^O~O[!cO`sOd!dO~Oa!eOz^O~Oz^O{!gO}!hO~Oz^O[ma`madma~O[!kOz^O~O[!lOz^O~O[!mO`sOd!nO~OW!qOX!qO{!sO|!qO~OW!tOX!tO}!sO!O!tO~O[!vOz^O~OW!qOX!qO{!yO|!qO~OW!tOX!tO}!yO!O!tO~O",goto:"%cxPPPPPPPPPPyyP!PP!VPP!`!jP!pyyyP!v!|#S$[$k$q$w$}%TPPPP%ZXWORYbXRORYb_t`qru!T!U!bQ!i!YS!p!e!fR!w!oQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!j!oQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!j!]R!o!eQu`S!UqrU![u!U!bR!b!TQ!r!gR!x!rQ!u!hR!z!uQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:" StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:50,context:XL,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"],["isolate",-6,13,18,19,21,22,24,""]],propSources:[WL],skippedNodes:[0],repeatNodeCount:9,tokenData:"!)v~R!YOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs*vsv$qvw+fwx/ix}$q}!O0[!O!P$q!P!Q2z!Q![$q![!]4n!]!^$q!^!_8U!_!`!#t!`!a!$l!a!b!%d!b!c$q!c!}4n!}#P$q#P#Q!'W#Q#R$q#R#S4n#S#T$q#T#o4n#o%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U$q4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qi$zXVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qa%nVVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%gP&YTVPOv&Tw!^&T!_;'S&T;'S;=`&i<%lO&TP&lP;=`<%l&T`&tS!O`Ov&ox;'S&o;'S;=`'Q<%lO&o`'TP;=`<%l&oa'ZP;=`<%l%gX'eWVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^W(ST|WOr'}sv'}w;'S'};'S;=`(c<%lO'}W(fP;=`<%l'}X(lP;=`<%l'^h(vV|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oh)`P;=`<%l(oi)fP;=`<%l$qo)t`VP|W!O`zUOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk+PV{YVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%g~+iast,n![!]-r!c!}-r#R#S-r#T#o-r%W%o-r%p&a-r&b1p-r4U4d-r4e$IS-r$I`$Ib-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~,qQ!Q![,w#l#m-V~,zQ!Q![,w!]!^-Q~-VOX~~-YR!Q![-c!c!i-c#T#Z-c~-fS!Q![-c!]!^-Q!c!i-c#T#Z-c~-ug}!O-r!O!P-r!Q![-r![!]-r!]!^/^!c!}-r#R#S-r#T#o-r$}%O-r%W%o-r%p&a-r&b1p-r1p4U-r4U4d-r4e$IS-r$I`$Ib-r$Je$Jg-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~/cOW~~/fP;=`<%l-rk/rW}bVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^k0eZVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O1W!O!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk1aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a2S!a;'S$q;'S;=`)c<%lO$qk2_X!PQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qm3TZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a3v!a;'S$q;'S;=`)c<%lO$qm4RXdSVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo4{!P`S^QVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O4n!O!P4n!P!Q$q!Q![4n![!]4n!]!^$q!^!_(o!_!c$q!c!}4n!}#R$q#R#S4n#S#T$q#T#o4n#o$}$q$}%O4n%O%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U4n4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Je$q$Je$Jg4n$Jg$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qo8RP;=`<%l4ni8]Y|W!O`Oq(oqr8{rs&osv(owx'}x!a(o!a!b!#U!b;'S(o;'S;=`)]<%lO(oi9S_|W!O`Or(ors&osv(owx'}x}(o}!O:R!O!f(o!f!g;e!g!}(o!}#ODh#O#W(o#W#XLp#X;'S(o;'S;=`)]<%lO(oi:YX|W!O`Or(ors&osv(owx'}x}(o}!O:u!O;'S(o;'S;=`)]<%lO(oi;OV!QP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oi;lX|W!O`Or(ors&osv(owx'}x!q(o!q!r<X!r;'S(o;'S;=`)]<%lO(oi<`X|W!O`Or(ors&osv(owx'}x!e(o!e!f<{!f;'S(o;'S;=`)]<%lO(oi=SX|W!O`Or(ors&osv(owx'}x!v(o!v!w=o!w;'S(o;'S;=`)]<%lO(oi=vX|W!O`Or(ors&osv(owx'}x!{(o!{!|>c!|;'S(o;'S;=`)]<%lO(oi>jX|W!O`Or(ors&osv(owx'}x!r(o!r!s?V!s;'S(o;'S;=`)]<%lO(oi?^X|W!O`Or(ors&osv(owx'}x!g(o!g!h?y!h;'S(o;'S;=`)]<%lO(oi@QY|W!O`Or?yrs@psv?yvwA[wxBdx!`?y!`!aCr!a;'S?y;'S;=`Db<%lO?ya@uV!O`Ov@pvxA[x!`@p!`!aAy!a;'S@p;'S;=`B^<%lO@pPA_TO!`A[!`!aAn!a;'SA[;'S;=`As<%lOA[PAsOiPPAvP;=`<%lA[aBQSiP!O`Ov&ox;'S&o;'S;=`'Q<%lO&oaBaP;=`<%l@pXBiX|WOrBdrsA[svBdvwA[w!`Bd!`!aCU!a;'SBd;'S;=`Cl<%lOBdXC]TiP|WOr'}sv'}w;'S'};'S;=`(c<%lO'}XCoP;=`<%lBdiC{ViP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiDeP;=`<%l?yiDoZ|W!O`Or(ors&osv(owx'}x!e(o!e!fEb!f#V(o#V#WIr#W;'S(o;'S;=`)]<%lO(oiEiX|W!O`Or(ors&osv(owx'}x!f(o!f!gFU!g;'S(o;'S;=`)]<%lO(oiF]X|W!O`Or(ors&osv(owx'}x!c(o!c!dFx!d;'S(o;'S;=`)]<%lO(oiGPX|W!O`Or(ors&osv(owx'}x!v(o!v!wGl!w;'S(o;'S;=`)]<%lO(oiGsX|W!O`Or(ors&osv(owx'}x!c(o!c!dH`!d;'S(o;'S;=`)]<%lO(oiHgX|W!O`Or(ors&osv(owx'}x!}(o!}#OIS#O;'S(o;'S;=`)]<%lO(oiI]V|W!O`yPOr(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiIyX|W!O`Or(ors&osv(owx'}x#W(o#W#XJf#X;'S(o;'S;=`)]<%lO(oiJmX|W!O`Or(ors&osv(owx'}x#T(o#T#UKY#U;'S(o;'S;=`)]<%lO(oiKaX|W!O`Or(ors&osv(owx'}x#h(o#h#iK|#i;'S(o;'S;=`)]<%lO(oiLTX|W!O`Or(ors&osv(owx'}x#T(o#T#UH`#U;'S(o;'S;=`)]<%lO(oiLwX|W!O`Or(ors&osv(owx'}x#c(o#c#dMd#d;'S(o;'S;=`)]<%lO(oiMkX|W!O`Or(ors&osv(owx'}x#V(o#V#WNW#W;'S(o;'S;=`)]<%lO(oiN_X|W!O`Or(ors&osv(owx'}x#h(o#h#iNz#i;'S(o;'S;=`)]<%lO(oi! RX|W!O`Or(ors&osv(owx'}x#m(o#m#n! n#n;'S(o;'S;=`)]<%lO(oi! uX|W!O`Or(ors&osv(owx'}x#d(o#d#e!!b#e;'S(o;'S;=`)]<%lO(oi!!iX|W!O`Or(ors&osv(owx'}x#X(o#X#Y?y#Y;'S(o;'S;=`)]<%lO(oi!#_V!SP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(ok!$PXaQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo!$wX[UVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!%mZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!&`!a;'S$q;'S;=`)c<%lO$qk!&kX!RQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!'aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_#P$q#P#Q!(S#Q;'S$q;'S;=`)c<%lO$qk!(]ZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!)O!a;'S$q;'S;=`)c<%lO$qk!)ZXxQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$q",tokenizers:[YL,GL,FL,KL,0,1,2,3,4],topRules:{Document:[0,6]},tokenPrec:0});function vh(n,t){let e=t&&t.getChild("TagName");return e?n.sliceString(e.from,e.to):""}function Tm(n,t){let e=t&&t.firstChild;return!e||e.name!="OpenTag"?"":vh(n,e)}function QL(n,t,e){let i=t&&t.getChildren("Attribute").find(l=>l.from<=e&&l.to>=e),s=i&&i.getChild("AttributeName");return s?n.sliceString(s.from,s.to):""}function Cm(n){for(let t=n&&n.parent;t;t=t.parent)if(t.name=="Element")return t;return null}function ZL(n,t){var e;let i=Ae(n).resolveInner(t,-1),s=null;for(let l=i;!s&&l.parent;l=l.parent)(l.name=="OpenTag"||l.name=="CloseTag"||l.name=="SelfClosingTag"||l.name=="MismatchedCloseTag")&&(s=l);if(s&&(s.to>t||s.lastChild.type.isError)){let l=s.parent;if(i.name=="TagName")return s.name=="CloseTag"||s.name=="MismatchedCloseTag"?{type:"closeTag",from:i.from,context:l}:{type:"openTag",from:i.from,context:Cm(l)};if(i.name=="AttributeName")return{type:"attrName",from:i.from,context:s};if(i.name=="AttributeValue")return{type:"attrValue",from:i.from,context:s};let a=i==s||i.name=="Attribute"?i.childBefore(t):i;return(a==null?void 0:a.name)=="StartTag"?{type:"openTag",from:t,context:Cm(l)}:(a==null?void 0:a.name)=="StartCloseTag"&&a.to<=t?{type:"closeTag",from:t,context:l}:(a==null?void 0:a.name)=="Is"?{type:"attrValue",from:t,context:s}:a?{type:"attrName",from:t,context:s}:null}else if(i.name=="StartCloseTag")return{type:"closeTag",from:t,context:i.parent};for(;i.parent&&i.to==t&&!(!((e=i.lastChild)===null||e===void 0)&&e.type.isError);)i=i.parent;return i.name=="Element"||i.name=="Text"||i.name=="Document"?{type:"tag",from:t,context:i.name=="Element"?i:Cm(i)}:null}let JL=class{constructor(t,e,i){this.attrs=e,this.attrValues=i,this.children=[],this.name=t.name,this.completion=Object.assign(Object.assign({type:"type"},t.completion||{}),{label:this.name}),this.openCompletion=Object.assign(Object.assign({},this.completion),{label:"<"+this.name}),this.closeCompletion=Object.assign(Object.assign({},this.completion),{label:"</"+this.name+">",boost:2}),this.closeNameCompletion=Object.assign(Object.assign({},this.completion),{label:this.name+">"}),this.text=t.textContent?t.textContent.map(s=>({label:s,type:"text"})):[]}};const Mm=/^[:\-\.\w\u00b7-\uffff]*$/;function Gw(n){return Object.assign(Object.assign({type:"property"},n.completion||{}),{label:n.name})}function Fw(n){return typeof n=="string"?{label:`"${n}"`,type:"constant"}:/^"/.test(n.label)?n:Object.assign(Object.assign({},n),{label:`"${n.label}"`})}function t8(n,t){let e=[],i=[],s=Object.create(null);for(let h of t){let f=Gw(h);e.push(f),h.global&&i.push(f),h.values&&(s[h.name]=h.values.map(Fw))}let l=[],a=[],u=Object.create(null);for(let h of n){let f=i,p=s;h.attributes&&(f=f.concat(h.attributes.map(y=>typeof y=="string"?e.find(x=>x.label==y)||{label:y,type:"property"}:(y.values&&(p==s&&(p=Object.create(p)),p[y.name]=y.values.map(Fw)),Gw(y)))));let g=new JL(h,f,p);u[g.name]=g,l.push(g),h.top&&a.push(g)}a.length||(a=l);for(let h=0;h<l.length;h++){let f=n[h],p=l[h];if(f.children)for(let g of f.children)u[g]&&p.children.push(u[g]);else p.children=l}return h=>{var f;let{doc:p}=h.state,g=ZL(h.state,h.pos);if(!g||g.type=="tag"&&!h.explicit)return null;let{type:y,from:x,context:b}=g;if(y=="openTag"){let w=a,A=Tm(p,b);if(A){let O=u[A];w=(O==null?void 0:O.children)||l}return{from:x,options:w.map(O=>O.completion),validFor:Mm}}else if(y=="closeTag"){let w=Tm(p,b);return w?{from:x,to:h.pos+(p.sliceString(h.pos,h.pos+1)==">"?1:0),options:[((f=u[w])===null||f===void 0?void 0:f.closeNameCompletion)||{label:w+">",type:"type"}],validFor:Mm}:null}else if(y=="attrName"){let w=u[vh(p,b)];return{from:x,options:(w==null?void 0:w.attrs)||i,validFor:Mm}}else if(y=="attrValue"){let w=QL(p,b,x);if(!w)return null;let A=u[vh(p,b)],O=((A==null?void 0:A.attrValues)||s)[w];return!O||!O.length?null:{from:x,to:h.pos+(p.sliceString(h.pos,h.pos+1)=='"'?1:0),options:O,validFor:/^"[^"]*"?$/}}else if(y=="tag"){let w=Tm(p,b),A=u[w],O=[],C=b&&b.lastChild;w&&(!C||C.name!="CloseTag"||vh(p,C)!=w)&&O.push(A?A.closeCompletion:{label:"</"+w+">",type:"type",boost:2});let E=O.concat(((A==null?void 0:A.children)||(b?l:a)).map(M=>M.openCompletion));if(b&&(A!=null&&A.text.length)){let M=b.firstChild;M.to>h.pos-20&&!/\S/.test(h.state.sliceDoc(M.to,h.pos))&&(E=E.concat(A.text))}return{from:x,options:E,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}else return null}}const Yg=Hh.define({name:"xml",parser:IL.configure({props:[pT.add({Element(n){let t=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(t?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),gT.add({Element(n){let t=n.firstChild,e=n.lastChild;return!t||t.name!="OpenTag"?null:{from:t.to,to:e.name=="CloseTag"?e.from:n.to}}}),DT.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/$/}});function e8(n={}){let t=[Yg.data.of({autocomplete:t8(n.elements||[],n.attributes||[])})];return n.autoCloseTags!==!1&&t.push(n8),new IN(Yg,t)}function Kw(n,t,e=n.length){if(!t)return"";let i=t.firstChild,s=i&&i.getChild("TagName");return s?n.sliceString(s.from,Math.min(s.to,e)):""}const n8=at.inputHandler.of((n,t,e,i,s)=>{if(n.composing||n.state.readOnly||t!=e||i!=">"&&i!="/"||!Yg.isActiveAt(n.state,t,-1))return!1;let l=s(),{state:a}=l,u=a.changeByRange(h=>{var f,p,g;let{head:y}=h,x=a.doc.sliceString(y-1,y)==i,b=Ae(a).resolveInner(y,-1),w;if(x&&i==">"&&b.name=="EndTag"){let A=b.parent;if(((p=(f=A.parent)===null||f===void 0?void 0:f.lastChild)===null||p===void 0?void 0:p.name)!="CloseTag"&&(w=Kw(a.doc,A.parent,y))){let O=y+(a.doc.sliceString(y,y+1)===">"?1:0),C=`</${w}>`;return{range:h,changes:{from:y,to:O,insert:C}}}}else if(x&&i=="/"&&b.name=="StartCloseTag"){let A=b.parent;if(b.from==y-2&&((g=A.lastChild)===null||g===void 0?void 0:g.name)!="CloseTag"&&(w=Kw(a.doc,A,y))){let O=y+(a.doc.sliceString(y,y+1)===">"?1:0),C=`${w}>`;return{range:W.cursor(y+C.length,-1),changes:{from:y,to:O,insert:C}}}}return{range:h}});return u.changes.empty?!1:(n.dispatch([l,a.update(u,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),i8=at.theme({"&":{height:"100%",backgroundColor:"#f8fafc"},".cm-scroller":{fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace",fontSize:"14px"},".cm-gutters":{backgroundColor:"#f1f5f9",borderRight:"1px solid #e2e8f0"},"&.cm-focused":{outline:"none"},".cm-content":{caretColor:"#2563eb"},".cm-selectionBackground, ::selection":{backgroundColor:"#dbeafe"},".cm-activeLine":{backgroundColor:"#eef2ff"},".cm-activeLineGutter":{backgroundColor:"#e0e7ff"}}),s8=iu.define([{tag:J.keyword,color:"#6366f1"},{tag:J.atom,color:"#1d4ed8"},{tag:J.number,color:"#059669"},{tag:J.propertyName,color:"#4338ca"},{tag:J.attributeName,color:"#0f766e"},{tag:J.string,color:"#be123c"},{tag:J.comment,color:"#64748b",fontStyle:"italic"},{tag:J.meta,color:"#475569"},{tag:J.tagName,color:"#1d4ed8"}]),r8=({onVisualize:n,initialValue:t})=>{const[e,i]=ft.useState(t),s=ft.useRef(null),l=ft.useRef(null);ft.useEffect(()=>{if(s.current&&!l.current){const u=new at({doc:t,extensions:[wL,e8(),i8,TT(s8),at.updateListener.of(h=>{h.docChanged&&i(h.state.doc.toString())})],parent:s.current});l.current=u}return()=>{l.current&&(l.current.destroy(),l.current=null)}},[]),ft.useEffect(()=>{l.current&&t!==l.current.state.doc.toString()&&l.current.dispatch({changes:{from:0,to:l.current.state.doc.length,insert:t}})},[t]);const a=u=>{u.preventDefault(),n(e)};return mt.jsxs("form",{onSubmit:a,className:"flex flex-col h-full bg-white rounded2-xl shadow2-sm border border-slate-200",children:[mt.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[mt.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"XML Data Input"}),mt.jsx("a",{href:"https://github.com/your-username/d3-xml-visualizer",target:"_blank",rel:"noopener noreferrer",className:"text-slate-500 hover:text-blue-500 transition-colors","aria-label":"View on GitHub",children:mt.jsx(TR,{size:24})})]}),mt.jsx("div",{ref:s,className:"flex-grow w-full overflow-auto focus-within:ring-2 focus-within:ring-blue-400 focus-within:ring-offset-2 rounded2-b-xl transition-shadow2",style:{minHeight:"200px"}}),mt.jsx("div",{className:"p-4 border-t border-slate-200",children:mt.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-blue-600 text-white font-semibold py-2.5 px-4 rounded2-lg shadow2-sm hover:shadow2-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[mt.jsx(DR,{className:"mr-2 h-5 w-5"}),"Visualize"]})})]})},EC=ft.createContext({});function l8(n){const t=ft.useRef(null);return t.current===null&&(t.current=n()),t.current}const ry=typeof window<"u",o8=ry?ft.useLayoutEffect:ft.useEffect,ly=ft.createContext(null);function oy(n,t){n.indexOf(t)===-1&&n.push(t)}function ay(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Xi=(n,t,e)=>e>t?t:e<n?n:e;let uy=()=>{};const Yi={},RC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function _C(n){return typeof n=="object"&&n!==null}const NC=n=>/^0[^.\s]+$/u.test(n);function cy(n){let t;return()=>(t===void 0&&(t=n()),t)}const Vn=n=>n,a8=(n,t)=>e=>t(n(e)),lu=(...n)=>n.reduce(a8),qa=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class hy{constructor(){this.subscriptions=[]}add(t){return oy(this.subscriptions,t),()=>ay(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let l=0;l<s;l++){const a=this.subscriptions[l];a&&a(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fi=n=>n*1e3,di=n=>n/1e3;function BC(n,t){return t?n*(1e3/t):0}const LC=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,u8=1e-7,c8=12;function h8(n,t,e,i,s){let l,a,u=0;do a=t+(e-t)/2,l=LC(a,i,s)-n,l>0?e=a:t=a;while(Math.abs(l)>u8&&++u<c8);return a}function ou(n,t,e,i){if(n===t&&e===i)return Vn;const s=l=>h8(l,0,1,n,e);return l=>l===0||l===1?l:LC(s(l),t,i)}const zC=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,VC=n=>t=>1-n(1-t),PC=ou(.33,1.53,.69,.99),fy=VC(PC),HC=zC(fy),qC=n=>(n*=2)<1?.5*fy(n):.5*(2-Math.pow(2,-10*(n-1))),dy=n=>1-Math.sin(Math.acos(n)),UC=VC(dy),jC=zC(dy),f8=ou(.42,0,1,1),d8=ou(0,0,.58,1),$C=ou(.42,0,.58,1),p8=n=>Array.isArray(n)&&typeof n[0]!="number",XC=n=>Array.isArray(n)&&typeof n[0]=="number",m8={linear:Vn,easeIn:f8,easeInOut:$C,easeOut:d8,circIn:dy,circInOut:jC,circOut:UC,backIn:fy,backInOut:HC,backOut:PC,anticipate:qC},g8=n=>typeof n=="string",Ww=n=>{if(XC(n)){uy(n.length===4);const[t,e,i,s]=n;return ou(t,e,i,s)}else if(g8(n))return m8[n];return n},Zc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Iw={value:null};function y8(n,t){let e=new Set,i=new Set,s=!1,l=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function f(g){a.has(g)&&(p.schedule(g),n()),h++,g(u)}const p={schedule:(g,y=!1,x=!1)=>{const w=x&&s?e:i;return y&&a.add(g),w.has(g)||w.add(g),g},cancel:g=>{i.delete(g),a.delete(g)},process:g=>{if(u=g,s){l=!0;return}s=!0,[e,i]=[i,e],e.forEach(f),t&&Iw.value&&Iw.value.frameloop[t].push(h),h=0,e.clear(),s=!1,l&&(l=!1,p.process(g))}};return p}const v8=40;function YC(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,a=Zc.reduce((E,M)=>(E[M]=y8(l,t?M:void 0),E),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:p,update:g,preRender:y,render:x,postRender:b}=a,w=()=>{const E=Yi.useManualTiming?s.timestamp:performance.now();e=!1,Yi.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(E-s.timestamp,v8),1)),s.timestamp=E,s.isProcessing=!0,u.process(s),h.process(s),f.process(s),p.process(s),g.process(s),y.process(s),x.process(s),b.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(w))},A=()=>{e=!0,i=!0,s.isProcessing||n(w)};return{schedule:Zc.reduce((E,M)=>{const D=a[M];return E[M]=(L,z=!1,$=!1)=>(e||A(),D.schedule(L,z,$)),E},{}),cancel:E=>{for(let M=0;M<Zc.length;M++)a[Zc[M]].cancel(E)},state:s,steps:a}}const{schedule:Jt,cancel:Ls,state:Me,steps:km}=YC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vn,!0);let xh;function x8(){xh=void 0}const nn={now:()=>(xh===void 0&&nn.set(Me.isProcessing||Yi.useManualTiming?Me.timestamp:performance.now()),xh),set:n=>{xh=n,queueMicrotask(x8)}},GC=n=>t=>typeof t=="string"&&t.startsWith(n),py=GC("--"),b8=GC("var(--"),my=n=>b8(n)?S8.test(n.split("/*")[0].trim()):!1,S8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ua={...Kl,transform:n=>Xi(0,1,n)},Jc={...Kl,default:1},xa=n=>Math.round(n*1e5)/1e5,gy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function w8(n){return n==null}const A8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yy=(n,t)=>e=>!!(typeof e=="string"&&A8.test(e)&&e.startsWith(n)||t&&!w8(e)&&Object.prototype.hasOwnProperty.call(e,t)),FC=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,l,a,u]=i.match(gy);return{[n]:parseFloat(s),[t]:parseFloat(l),[e]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},O8=n=>Xi(0,255,n),Dm={...Kl,transform:n=>Math.round(O8(n))},fr={test:yy("rgb","red"),parse:FC("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+Dm.transform(n)+", "+Dm.transform(t)+", "+Dm.transform(e)+", "+xa(Ua.transform(i))+")"};function T8(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Gg={test:yy("#"),parse:T8,transform:fr.transform},au=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),vs=au("deg"),pi=au("%"),St=au("px"),C8=au("vh"),M8=au("vw"),Qw={...pi,parse:n=>pi.parse(n)/100,transform:n=>pi.transform(n*100)},bl={test:yy("hsl","hue"),parse:FC("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+pi.transform(xa(t))+", "+pi.transform(xa(e))+", "+xa(Ua.transform(i))+")"},ce={test:n=>fr.test(n)||Gg.test(n)||bl.test(n),parse:n=>fr.test(n)?fr.parse(n):bl.test(n)?bl.parse(n):Gg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?fr.transform(n):bl.transform(n),getAnimatableNone:n=>{const t=ce.parse(n);return t.alpha=0,ce.transform(t)}},k8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function D8(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(gy))==null?void 0:t.length)||0)+(((e=n.match(k8))==null?void 0:e.length)||0)>0}const KC="number",WC="color",E8="var",R8="var(",Zw="${}",_8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ja(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let l=0;const u=t.replace(_8,h=>(ce.test(h)?(i.color.push(l),s.push(WC),e.push(ce.parse(h))):h.startsWith(R8)?(i.var.push(l),s.push(E8),e.push(h)):(i.number.push(l),s.push(KC),e.push(parseFloat(h))),++l,Zw)).split(Zw);return{values:e,split:u,indexes:i,types:s}}function IC(n){return ja(n).values}function QC(n){const{split:t,types:e}=ja(n),i=t.length;return s=>{let l="";for(let a=0;a<i;a++)if(l+=t[a],s[a]!==void 0){const u=e[a];u===KC?l+=xa(s[a]):u===WC?l+=ce.transform(s[a]):l+=s[a]}return l}}const N8=n=>typeof n=="number"?0:ce.test(n)?ce.getAnimatableNone(n):n;function B8(n){const t=IC(n);return QC(n)(t.map(N8))}const zs={test:D8,parse:IC,createTransformer:QC,getAnimatableNone:B8};function Em(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function L8({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,l=0,a=0;if(!t)s=l=a=e;else{const u=e<.5?e*(1+t):e+t-e*t,h=2*e-u;s=Em(h,u,n+1/3),l=Em(h,u,n),a=Em(h,u,n-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(a*255),alpha:i}}function ef(n,t){return e=>e>0?t:n}const Zt=(n,t,e)=>n+(t-n)*e,Rm=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},z8=[Gg,fr,bl],V8=n=>z8.find(t=>t.test(n));function Jw(n){const t=V8(n);if(!t)return!1;let e=t.parse(n);return t===bl&&(e=L8(e)),e}const tA=(n,t)=>{const e=Jw(n),i=Jw(t);if(!e||!i)return ef(n,t);const s={...e};return l=>(s.red=Rm(e.red,i.red,l),s.green=Rm(e.green,i.green,l),s.blue=Rm(e.blue,i.blue,l),s.alpha=Zt(e.alpha,i.alpha,l),fr.transform(s))},Fg=new Set(["none","hidden"]);function P8(n,t){return Fg.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function H8(n,t){return e=>Zt(n,t,e)}function vy(n){return typeof n=="number"?H8:typeof n=="string"?my(n)?ef:ce.test(n)?tA:j8:Array.isArray(n)?ZC:typeof n=="object"?ce.test(n)?tA:q8:ef}function ZC(n,t){const e=[...n],i=e.length,s=n.map((l,a)=>vy(l)(l,t[a]));return l=>{for(let a=0;a<i;a++)e[a]=s[a](l);return e}}function q8(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=vy(n[s])(n[s],t[s]));return s=>{for(const l in i)e[l]=i[l](s);return e}}function U8(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],a=n.indexes[l][i[l]],u=n.values[a]??0;e[s]=u,i[l]++}return e}const j8=(n,t)=>{const e=zs.createTransformer(t),i=ja(n),s=ja(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Fg.has(n)&&!s.values.length||Fg.has(t)&&!i.values.length?P8(n,t):lu(ZC(U8(i,s),s.values),e):ef(n,t)};function JC(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Zt(n,t,e):vy(n)(n,t)}const $8=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>Jt.update(t,e),stop:()=>Ls(t),now:()=>Me.isProcessing?Me.timestamp:nn.now()}},tM=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let l=0;l<s;l++)i+=Math.round(n(l/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},nf=2e4;function xy(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<nf;)t+=e,i=n.next(t);return t>=nf?1/0:t}function X8(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(xy(i),nf);return{type:"keyframes",ease:l=>i.next(s*l).value/t,duration:di(s)}}const Y8=5;function eM(n,t,e){const i=Math.max(t-Y8,0);return BC(e-n(i),t-i)}const ne={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_m=.001;function G8({duration:n=ne.duration,bounce:t=ne.bounce,velocity:e=ne.velocity,mass:i=ne.mass}){let s,l,a=1-t;a=Xi(ne.minDamping,ne.maxDamping,a),n=Xi(ne.minDuration,ne.maxDuration,di(n)),a<1?(s=f=>{const p=f*a,g=p*n,y=p-e,x=Kg(f,a),b=Math.exp(-g);return _m-y/x*b},l=f=>{const g=f*a*n,y=g*e+e,x=Math.pow(a,2)*Math.pow(f,2)*n,b=Math.exp(-g),w=Kg(Math.pow(f,2),a);return(-s(f)+_m>0?-1:1)*((y-x)*b)/w}):(s=f=>{const p=Math.exp(-f*n),g=(f-e)*n+1;return-_m+p*g},l=f=>{const p=Math.exp(-f*n),g=(e-f)*(n*n);return p*g});const u=5/n,h=K8(s,l,u);if(n=fi(n),isNaN(h))return{stiffness:ne.stiffness,damping:ne.damping,duration:n};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:a*2*Math.sqrt(i*f),duration:n}}}const F8=12;function K8(n,t,e){let i=e;for(let s=1;s<F8;s++)i=i-n(i)/t(i);return i}function Kg(n,t){return n*Math.sqrt(1-t*t)}const W8=["duration","bounce"],I8=["stiffness","damping","mass"];function eA(n,t){return t.some(e=>n[e]!==void 0)}function Q8(n){let t={velocity:ne.velocity,stiffness:ne.stiffness,damping:ne.damping,mass:ne.mass,isResolvedFromDuration:!1,...n};if(!eA(n,I8)&&eA(n,W8))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,l=2*Xi(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:ne.mass,stiffness:s,damping:l}}else{const e=G8(n);t={...t,...e,mass:ne.mass},t.isResolvedFromDuration=!0}return t}function sf(n=ne.visualDuration,t=ne.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const l=e.keyframes[0],a=e.keyframes[e.keyframes.length-1],u={done:!1,value:l},{stiffness:h,damping:f,mass:p,duration:g,velocity:y,isResolvedFromDuration:x}=Q8({...e,velocity:-di(e.velocity||0)}),b=y||0,w=f/(2*Math.sqrt(h*p)),A=a-l,O=di(Math.sqrt(h/p)),C=Math.abs(A)<5;i||(i=C?ne.restSpeed.granular:ne.restSpeed.default),s||(s=C?ne.restDelta.granular:ne.restDelta.default);let E;if(w<1){const D=Kg(O,w);E=L=>{const z=Math.exp(-w*O*L);return a-z*((b+w*O*A)/D*Math.sin(D*L)+A*Math.cos(D*L))}}else if(w===1)E=D=>a-Math.exp(-O*D)*(A+(b+O*A)*D);else{const D=O*Math.sqrt(w*w-1);E=L=>{const z=Math.exp(-w*O*L),$=Math.min(D*L,300);return a-z*((b+w*O*A)*Math.sinh($)+D*A*Math.cosh($))/D}}const M={calculatedDuration:x&&g||null,next:D=>{const L=E(D);if(x)u.done=D>=g;else{let z=D===0?b:0;w<1&&(z=D===0?fi(b):eM(E,D,L));const $=Math.abs(z)<=i,et=Math.abs(a-L)<=s;u.done=$&&et}return u.value=u.done?a:L,u},toString:()=>{const D=Math.min(xy(M),nf),L=tM(z=>M.next(D*z).value,D,30);return D+"ms "+L},toTransition:()=>{}};return M}sf.applyToOptions=n=>{const t=X8(n,100,sf);return n.ease=t.ease,n.duration=fi(t.duration),n.type="keyframes",n};function Wg({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:a,min:u,max:h,restDelta:f=.5,restSpeed:p}){const g=n[0],y={done:!1,value:g},x=$=>u!==void 0&&$<u||h!==void 0&&$>h,b=$=>u===void 0?h:h===void 0||Math.abs(u-$)<Math.abs(h-$)?u:h;let w=e*t;const A=g+w,O=a===void 0?A:a(A);O!==A&&(w=O-g);const C=$=>-w*Math.exp(-$/i),E=$=>O+C($),M=$=>{const et=C($),st=E($);y.done=Math.abs(et)<=f,y.value=y.done?O:st};let D,L;const z=$=>{x(y.value)&&(D=$,L=sf({keyframes:[y.value,b(y.value)],velocity:eM(E,$,y.value),damping:s,stiffness:l,restDelta:f,restSpeed:p}))};return z(0),{calculatedDuration:null,next:$=>{let et=!1;return!L&&D===void 0&&(et=!0,M($),z($)),D!==void 0&&$>=D?L.next($-D):(!et&&M($),y)}}}function Z8(n,t,e){const i=[],s=e||Yi.mix||JC,l=n.length-1;for(let a=0;a<l;a++){let u=s(n[a],n[a+1]);if(t){const h=Array.isArray(t)?t[a]||Vn:t;u=lu(h,u)}i.push(u)}return i}function J8(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const l=n.length;if(uy(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const a=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const u=Z8(t,i,s),h=u.length,f=p=>{if(a&&p<n[0])return t[0];let g=0;if(h>1)for(;g<n.length-2&&!(p<n[g+1]);g++);const y=qa(n[g],n[g+1],p);return u[g](y)};return e?p=>f(Xi(n[0],n[l-1],p)):f}function tz(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=qa(0,t,i);n.push(Zt(e,1,s))}}function ez(n){const t=[0];return tz(t,n.length-1),t}function nz(n,t){return n.map(e=>e*t)}function iz(n,t){return n.map(()=>t||$C).splice(0,n.length-1)}function ba({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=p8(i)?i.map(Ww):Ww(i),l={done:!1,value:t[0]},a=nz(e&&e.length===t.length?e:ez(t),n),u=J8(a,t,{ease:Array.isArray(s)?s:iz(t,s)});return{calculatedDuration:n,next:h=>(l.value=u(h),l.done=h>=n,l)}}const sz=n=>n!==null;function by(n,{repeat:t,repeatType:e="loop"},i,s=1){const l=n.filter(sz),u=s<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!u||i===void 0?l[u]:i}const rz={decay:Wg,inertia:Wg,tween:ba,keyframes:ba,spring:sf};function nM(n){typeof n.type=="string"&&(n.type=rz[n.type])}class Sy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const lz=n=>n/100;class wy extends Sy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:e}=this.options;e&&e.updatedAt!==nn.now()&&this.tick(nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;nM(t);const{type:e=ba,repeat:i=0,repeatDelay:s=0,repeatType:l,velocity:a=0}=t;let{keyframes:u}=t;const h=e||ba;h!==ba&&typeof u[0]!="number"&&(this.mixKeyframes=lu(lz,JC(u[0],u[1])),u=[0,100]);const f=h({...t,keyframes:u});l==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=xy(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:l,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:x,type:b,onUpdate:w,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const O=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?O<0:O>s;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,M=i;if(g){const $=Math.min(this.currentTime,s)/u;let et=Math.floor($),st=$%1;!st&&$>=1&&(st=1),st===1&&et--,et=Math.min(et,g+1),!!(et%2)&&(y==="reverse"?(st=1-st,x&&(st-=x/u)):y==="mirror"&&(M=a)),E=Xi(0,1,st)*u}const D=C?{done:!1,value:p[0]}:M.next(E);l&&(D.value=l(D.value));let{done:L}=D;!C&&h!==null&&(L=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return z&&b!==Wg&&(D.value=by(p,this.options,A,this.speed)),w&&w(D.value),z&&this.finish(),D}then(t,e){return this.finished.then(t,e)}get duration(){return di(this.calculatedDuration)}get time(){return di(this.currentTime)}set time(t){var e;t=fi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(nn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=di(this.currentTime))}play(){var s,l;if(this.isStopped)return;const{driver:t=$8,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(l=(s=this.options).onPlay)==null||l.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function oz(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const dr=n=>n*180/Math.PI,Ig=n=>{const t=dr(Math.atan2(n[1],n[0]));return Qg(t)},az={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ig,rotateZ:Ig,skewX:n=>dr(Math.atan(n[1])),skewY:n=>dr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Qg=n=>(n=n%360,n<0&&(n+=360),n),nA=Ig,iA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),sA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),uz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iA,scaleY:sA,scale:n=>(iA(n)+sA(n))/2,rotateX:n=>Qg(dr(Math.atan2(n[6],n[5]))),rotateY:n=>Qg(dr(Math.atan2(-n[2],n[0]))),rotateZ:nA,rotate:nA,skewX:n=>dr(Math.atan(n[4])),skewY:n=>dr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Zg(n){return n.includes("scale")?1:0}function Jg(n,t){if(!n||n==="none")return Zg(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=uz,s=e;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=az,s=u}if(!s)return Zg(t);const l=i[t],a=s[1].split(",").map(hz);return typeof l=="function"?l(a):a[l]}const cz=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Jg(e,t)};function hz(n){return parseFloat(n.trim())}const Wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(Wl),rA=n=>n===Kl||n===St,fz=new Set(["x","y","z"]),dz=Wl.filter(n=>!fz.has(n));function pz(n){const t=[];return dz.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const yr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Jg(t,"x"),y:(n,{transform:t})=>Jg(t,"y")};yr.translateX=yr.x;yr.translateY=yr.y;const vr=new Set;let t0=!1,e0=!1,n0=!1;function iM(){if(e0){const n=Array.from(vr).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=pz(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([l,a])=>{var u;(u=i.getValue(l))==null||u.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}e0=!1,t0=!1,vr.forEach(n=>n.complete(n0)),vr.clear()}function sM(){vr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(e0=!0)})}function mz(){n0=!0,sM(),iM(),n0=!1}class Ay{constructor(t,e,i,s,l,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=l,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(vr.add(this),t0||(t0=!0,Jt.read(sM),Jt.resolveKeyframes(iM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const l=s==null?void 0:s.get(),a=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const u=i.readValue(e,a);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=a),s&&l===void 0&&s.set(t[0])}oz(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),vr.delete(this)}cancel(){this.state==="scheduled"&&(vr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gz=n=>n.startsWith("--");function yz(n,t,e){gz(t)?n.style.setProperty(t,e):n.style[t]=e}const vz=cy(()=>window.ScrollTimeline!==void 0),xz={};function bz(n,t){const e=cy(n);return()=>xz[t]??e()}const rM=bz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ca=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,lA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ca([0,.65,.55,1]),circOut:ca([.55,0,1,.45]),backIn:ca([.31,.01,.66,-.59]),backOut:ca([.33,1.53,.69,.99])};function lM(n,t){if(n)return typeof n=="function"?rM()?tM(n,t):"ease-out":XC(n)?ca(n):Array.isArray(n)?n.map(e=>lM(e,t)||lA.easeOut):lA[n]}function Sz(n,t,e,{delay:i=0,duration:s=300,repeat:l=0,repeatType:a="loop",ease:u="easeOut",times:h}={},f=void 0){const p={[t]:e};h&&(p.offset=h);const g=lM(u,s);Array.isArray(g)&&(p.easing=g);const y={delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:a==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),n.animate(p,y)}function oM(n){return typeof n=="function"&&"applyToOptions"in n}function wz({type:n,...t}){return oM(n)&&rM()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Az extends Sy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:l,allowFlatten:a=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!l,this.allowFlatten=a,this.options=t,uy(typeof t.type!="string");const f=wz(t);this.animation=Sz(e,i,s,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=by(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):yz(e,i,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,i;const t=((i=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:i.call(e).duration)||0;return di(Number(t))}get time(){return di(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=fi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&vz()?(this.animation.timeline=t,Vn):e(this)}}const aM={anticipate:qC,backInOut:HC,circInOut:jC};function Oz(n){return n in aM}function Tz(n){typeof n.ease=="string"&&Oz(n.ease)&&(n.ease=aM[n.ease])}const oA=10;class Cz extends Az{constructor(t){Tz(t),nM(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:l,...a}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new wy({...a,autoplay:!1}),h=fi(this.finishedTime??this.time);e.setWithVelocity(u.sample(h-oA).value,u.sample(h).value,oA),u.stop()}}const aA=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(zs.test(n)||n==="0")&&!n.startsWith("url("));function Mz(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function kz(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],a=aA(s,t),u=aA(l,t);return!a||!u?!1:Mz(n)||(e==="spring"||oM(e))&&i}function uM(n){return _C(n)&&"offsetHeight"in n}const Dz=new Set(["opacity","clipPath","filter","transform"]),Ez=cy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Rz(n){var f;const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:l,type:a}=n;if(!uM((f=t==null?void 0:t.owner)==null?void 0:f.current))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return Ez()&&e&&Dz.has(e)&&(e!=="transform"||!h)&&!u&&!i&&s!=="mirror"&&l!==0&&a!=="inertia"}const _z=40;class Nz extends Sy{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:a="loop",keyframes:u,name:h,motionValue:f,element:p,...g}){var b;super(),this.stop=()=>{var w,A;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=nn.now();const y={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:l,repeatType:a,name:h,motionValue:f,element:p,...g},x=(p==null?void 0:p.KeyframeResolver)||Ay;this.keyframeResolver=new x(u,(w,A,O)=>this.onKeyframesResolved(w,A,y,!O),h,f,p),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:l,type:a,velocity:u,delay:h,isHandoff:f,onUpdate:p}=i;this.resolvedAt=nn.now(),kz(t,l,a,u)||((Yi.instantAnimations||!h)&&(p==null||p(by(t,i,e))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>_z?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},x=!f&&Rz(y)?new Cz({...y,element:y.motionValue.owner.current}):new wy(y);x.finished.then(()=>this.notifyFinished()).catch(Vn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),mz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Bz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Lz(n){const t=Bz.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function cM(n,t,e=1){const[i,s]=Lz(n);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const a=l.trim();return RC(a)?parseFloat(a):a}return my(s)?cM(s,t,e+1):s}function Oy(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const hM=new Set(["width","height","top","left","right","bottom",...Wl]),zz={test:n=>n==="auto",parse:n=>n},fM=n=>t=>t.test(n),dM=[Kl,St,pi,vs,M8,C8,zz],uA=n=>dM.find(fM(n));function Vz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||NC(n):!0}const Pz=new Set(["brightness","contrast","saturate","opacity"]);function Hz(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(gy)||[];if(!i)return n;const s=e.replace(i,"");let l=Pz.has(t)?1:0;return i!==e&&(l*=100),t+"("+l+s+")"}const qz=/\b([a-z-]*)\(.*?\)/gu,i0={...zs,getAnimatableNone:n=>{const t=n.match(qz);return t?t.map(Hz).join(" "):n}},cA={...Kl,transform:Math.round},Uz={rotate:vs,rotateX:vs,rotateY:vs,rotateZ:vs,scale:Jc,scaleX:Jc,scaleY:Jc,scaleZ:Jc,skew:vs,skewX:vs,skewY:vs,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:Ua,originX:Qw,originY:Qw,originZ:St},Ty={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...Uz,zIndex:cA,fillOpacity:Ua,strokeOpacity:Ua,numOctaves:cA},jz={...Ty,color:ce,backgroundColor:ce,outlineColor:ce,fill:ce,stroke:ce,borderColor:ce,borderTopColor:ce,borderRightColor:ce,borderBottomColor:ce,borderLeftColor:ce,filter:i0,WebkitFilter:i0},pM=n=>jz[n];function mM(n,t){let e=pM(n);return e!==i0&&(e=zs),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const $z=new Set(["auto","none","0"]);function Xz(n,t,e){let i=0,s;for(;i<n.length&&!s;){const l=n[i];typeof l=="string"&&!$z.has(l)&&ja(l).values.length&&(s=n[i]),i++}if(s&&e)for(const l of t)n[l]=mM(e,s)}class Yz extends Ay{constructor(t,e,i,s,l){super(t,e,i,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),my(f))){const p=cM(f,e.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!hM.has(i)||t.length!==2)return;const[s,l]=t,a=uA(s),u=uA(l);if(a!==u)if(rA(a)&&rA(u))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else yr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||Vz(t[s]))&&i.push(s);i.length&&Xz(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var u;const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const l=i.length-1,a=i[l];i[l]=yr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function Gz(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=(e==null?void 0:e[n])??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const gM=(n,t)=>t&&typeof n=="number"?t.transform(n):n,hA=30,Fz=n=>!isNaN(parseFloat(n));class Kz{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var a,u;const l=nn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=nn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Fz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new hy);const i=this.events[t].add(e);return t==="change"?()=>{i(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hA)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,hA);return BC(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ql(n,t){return new Kz(n,t)}const{schedule:Cy}=YC(queueMicrotask,!1),$n={x:!1,y:!1};function yM(){return $n.x||$n.y}function Wz(n){return n==="x"||n==="y"?$n[n]?null:($n[n]=!0,()=>{$n[n]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}function vM(n,t){const e=Gz(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function fA(n){return!(n.pointerType==="touch"||yM())}function Iz(n,t,e={}){const[i,s,l]=vM(n,e),a=u=>{if(!fA(u))return;const{target:h}=u,f=t(h,u);if(typeof f!="function"||!h)return;const p=g=>{fA(g)&&(f(g),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(u=>{u.addEventListener("pointerenter",a,s)}),l}const xM=(n,t)=>t?n===t?!0:xM(n,t.parentElement):!1,My=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Qz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Zz(n){return Qz.has(n.tagName)||n.tabIndex!==-1}const bh=new WeakSet;function dA(n){return t=>{t.key==="Enter"&&n(t)}}function Nm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Jz=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=dA(()=>{if(bh.has(e))return;Nm(e,"down");const s=dA(()=>{Nm(e,"up")}),l=()=>Nm(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function pA(n){return My(n)&&!yM()}function tV(n,t,e={}){const[i,s,l]=vM(n,e),a=u=>{const h=u.currentTarget;if(!pA(u))return;bh.add(h);const f=t(h,u),p=(x,b)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),bh.has(h)&&bh.delete(h),pA(x)&&typeof f=="function"&&f(x,{success:b})},g=x=>{p(x,h===window||h===document||e.useGlobalTarget||xM(h,x.target))},y=x=>{p(x,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",a,s),uM(u)&&(u.addEventListener("focus",f=>Jz(f,s)),!Zz(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function bM(n){return _C(n)&&"ownerSVGElement"in n}function eV(n){return bM(n)&&n.tagName==="svg"}const Ve=n=>!!(n&&n.getVelocity),nV=[...dM,ce,zs],iV=n=>nV.find(fM(n)),SM=ft.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function sV(n=!0){const t=ft.useContext(ly);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,l=ft.useId();ft.useEffect(()=>{if(n)return s(l)},[n]);const a=ft.useCallback(()=>n&&i&&i(l),[l,i,n]);return!e&&i?[!1,a]:[!0]}const wM=ft.createContext({strict:!1}),mA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ul={};for(const n in mA)Ul[n]={isEnabled:t=>mA[n].some(e=>!!t[e])};function rV(n){for(const t in n)Ul[t]={...Ul[t],...n[t]}}const lV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||lV.has(n)}let AM=n=>!rf(n);function oV(n){typeof n=="function"&&(AM=t=>t.startsWith("on")?!rf(t):n(t))}try{oV(require("@emotion/is-prop-valid").default)}catch{}function aV(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(AM(s)||e===!0&&rf(s)||!t&&!rf(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function uV(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const Tf=ft.createContext({});function Cf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function $a(n){return typeof n=="string"||Array.isArray(n)}const ky=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dy=["initial",...ky];function Mf(n){return Cf(n.animate)||Dy.some(t=>$a(n[t]))}function OM(n){return!!(Mf(n)||n.variants)}function cV(n,t){if(Mf(n)){const{initial:e,animate:i}=n;return{initial:e===!1||$a(e)?e:void 0,animate:$a(i)?i:void 0}}return n.inherit!==!1?t:{}}function hV(n){const{initial:t,animate:e}=cV(n,ft.useContext(Tf));return ft.useMemo(()=>({initial:t,animate:e}),[gA(t),gA(e)])}function gA(n){return Array.isArray(n)?n.join(" "):n}const fV=Symbol.for("motionComponentSymbol");function Sl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function dV(n,t,e){return ft.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Sl(e)&&(e.current=i))},[t])}const Ey=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pV="framerAppearId",TM="data-"+Ey(pV),CM=ft.createContext({});function mV(n,t,e,i,s){var w,A;const{visualElement:l}=ft.useContext(Tf),a=ft.useContext(wM),u=ft.useContext(ly),h=ft.useContext(SM).reducedMotion,f=ft.useRef(null);i=i||a.renderer,!f.current&&i&&(f.current=i(n,{visualState:t,parent:l,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,g=ft.useContext(CM);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&gV(f.current,e,s,g);const y=ft.useRef(!1);ft.useInsertionEffect(()=>{p&&y.current&&p.update(e,u)});const x=e[TM],b=ft.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,x)));return o8(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Cy.render(p.render),b.current&&p.animationState&&p.animationState.animateChanges())}),ft.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)==null||O.call(window,x)}),b.current=!1))}),p}function gV(n,t,e,i){const{layoutId:s,layout:l,drag:a,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:MM(n.parent)),n.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!a||u&&Sl(u),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:f})}function MM(n){if(n)return n.options.allowProjection!==!1?n.projection:MM(n.parent)}function yV({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){n&&rV(n);function l(u,h){let f;const p={...ft.useContext(SM),...u,layoutId:vV(u)},{isStatic:g}=p,y=hV(u),x=i(u,g);if(!g&&ry){xV();const b=bV(p);f=b.MeasureLayout,y.visualElement=mV(s,x,p,t,b.ProjectionNode)}return mt.jsxs(Tf.Provider,{value:y,children:[f&&y.visualElement?mt.jsx(f,{visualElement:y.visualElement,...p}):null,e(s,u,dV(x,y.visualElement,h),x,g,y.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=ft.forwardRef(l);return a[fV]=s,a}function vV({layoutId:n}){const t=ft.useContext(EC).id;return t&&n!==void 0?t+"-"+n:n}function xV(n,t){ft.useContext(wM).strict}function bV(n){const{drag:t,layout:e}=Ul;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Xa={};function SV(n){for(const t in n)Xa[t]=n[t],py(t)&&(Xa[t].isCSSVariable=!0)}function kM(n,{layout:t,layoutId:e}){return Il.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Xa[n]||n==="opacity")}const wV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AV=Wl.length;function OV(n,t,e){let i="",s=!0;for(let l=0;l<AV;l++){const a=Wl[l],u=n[a];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(a.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||e){const f=gM(u,Ty[a]);if(!h){s=!1;const p=wV[a]||a;i+=`${p}(${f}) `}e&&(t[a]=f)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function Ry(n,t,e){const{style:i,vars:s,transformOrigin:l}=n;let a=!1,u=!1;for(const h in t){const f=t[h];if(Il.has(h)){a=!0;continue}else if(py(h)){s[h]=f;continue}else{const p=gM(f,Ty[h]);h.startsWith("origin")?(u=!0,l[h]=p):i[h]=p}}if(t.transform||(a||e?i.transform=OV(t,n.transform,e):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=l;i.transformOrigin=`${h} ${f} ${p}`}}const _y=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DM(n,t,e){for(const i in t)!Ve(t[i])&&!kM(i,e)&&(n[i]=t[i])}function TV({transformTemplate:n},t){return ft.useMemo(()=>{const e=_y();return Ry(e,t,n),Object.assign({},e.vars,e.style)},[t])}function CV(n,t){const e=n.style||{},i={};return DM(i,e,n),Object.assign(i,TV(n,t)),i}function MV(n,t){const e={},i=CV(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const kV={offset:"stroke-dashoffset",array:"stroke-dasharray"},DV={offset:"strokeDashoffset",array:"strokeDasharray"};function EV(n,t,e=1,i=0,s=!0){n.pathLength=1;const l=s?kV:DV;n[l.offset]=St.transform(-i);const a=St.transform(t),u=St.transform(e);n[l.array]=`${a} ${u}`}function EM(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:l=1,pathOffset:a=0,...u},h,f,p){if(Ry(n,u,f),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:y}=n;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),e!==void 0&&(g.y=e),i!==void 0&&(g.scale=i),s!==void 0&&EV(g,s,l,a,!1)}const RM=()=>({..._y(),attrs:{}}),_M=n=>typeof n=="string"&&n.toLowerCase()==="svg";function RV(n,t,e,i){const s=ft.useMemo(()=>{const l=RM();return EM(l,t,_M(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};DM(l,n.style,n),s.style={...l,...s.style}}return s}const _V=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ny(n){return typeof n!="string"||n.includes("-")?!1:!!(_V.indexOf(n)>-1||/[A-Z]/u.test(n))}function NV(n=!1){return(e,i,s,{latestValues:l},a)=>{const h=(Ny(e)?RV:MV)(i,l,a,e),f=aV(i,typeof e=="string",n),p=e!==ft.Fragment?{...f,...h,ref:s}:{},{children:g}=i,y=ft.useMemo(()=>Ve(g)?g.get():g,[g]);return ft.createElement(e,{...p,children:y})}}function yA(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function By(n,t,e,i){if(typeof t=="function"){const[s,l]=yA(i);t=t(e!==void 0?e:n.custom,s,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,l]=yA(i);t=t(e!==void 0?e:n.custom,s,l)}return t}function Sh(n){return Ve(n)?n.get():n}function BV({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:LV(e,i,s,n),renderState:t()}}const NM=n=>(t,e)=>{const i=ft.useContext(Tf),s=ft.useContext(ly),l=()=>BV(n,t,i,s);return e?l():l8(l)};function LV(n,t,e,i){const s={},l=i(n,{});for(const y in l)s[y]=Sh(l[y]);let{initial:a,animate:u}=n;const h=Mf(n),f=OM(n);t&&f&&!h&&n.inherit!==!1&&(a===void 0&&(a=t.initial),u===void 0&&(u=t.animate));let p=e?e.initial===!1:!1;p=p||a===!1;const g=p?u:a;if(g&&typeof g!="boolean"&&!Cf(g)){const y=Array.isArray(g)?g:[g];for(let x=0;x<y.length;x++){const b=By(n,y[x]);if(b){const{transitionEnd:w,transition:A,...O}=b;for(const C in O){let E=O[C];if(Array.isArray(E)){const M=p?E.length-1:0;E=E[M]}E!==null&&(s[C]=E)}for(const C in w)s[C]=w[C]}}}return s}function Ly(n,t,e){var l;const{style:i}=n,s={};for(const a in i)(Ve(i[a])||t.style&&Ve(t.style[a])||kM(a,n)||((l=e==null?void 0:e.getValue(a))==null?void 0:l.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const zV={useVisualState:NM({scrapeMotionValuesFromProps:Ly,createRenderState:_y})};function BM(n,t,e){const i=Ly(n,t,e);for(const s in n)if(Ve(n[s])||Ve(t[s])){const l=Wl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[l]=n[s]}return i}const VV={useVisualState:NM({scrapeMotionValuesFromProps:BM,createRenderState:RM})};function PV(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Ny(i)?VV:zV,preloadedFeatures:n,useRender:NV(s),createVisualElement:t,Component:i};return yV(a)}}function Ya(n,t,e){const i=n.getProps();return By(i,t,e!==void 0?e:i.custom,n)}const s0=n=>Array.isArray(n);function HV(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,ql(e))}function qV(n){return s0(n)?n[n.length-1]||0:n}function UV(n,t){const e=Ya(n,t);let{transitionEnd:i={},transition:s={},...l}=e||{};l={...l,...i};for(const a in l){const u=qV(l[a]);HV(n,a,u)}}function jV(n){return!!(Ve(n)&&n.add)}function r0(n,t){const e=n.getValue("willChange");if(jV(e))return e.add(t);if(!e&&Yi.WillChange){const i=new Yi.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function LM(n){return n.props[TM]}const $V=n=>n!==null;function XV(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter($V),l=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[l]}const YV={type:"spring",stiffness:500,damping:25,restSpeed:10},GV=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),FV={type:"keyframes",duration:.8},KV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WV=(n,{keyframes:t})=>t.length>2?FV:Il.has(n)?n.startsWith("scale")?GV(t[1]):YV:KV;function IV({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:l,repeatType:a,repeatDelay:u,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const zy=(n,t,e,i={},s,l)=>a=>{const u=Oy(i,n)||{},h=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-fi(h);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:y=>{t.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:n,motionValue:t,element:l?void 0:s};IV(u)||Object.assign(p,WV(n,p)),p.duration&&(p.duration=fi(p.duration)),p.repeatDelay&&(p.repeatDelay=fi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(Yi.instantAnimations||Yi.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!l&&t.get()!==void 0){const y=XV(p.keyframes,u);if(y!==void 0){Jt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new wy(p):new Nz(p)};function QV({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function zM(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:a,...u}=t;i&&(l=i);const h=[],f=s&&n.animationState&&n.animationState.getState()[s];for(const p in u){const g=n.getValue(p,n.latestValues[p]??null),y=u[p];if(y===void 0||f&&QV(f,p))continue;const x={delay:e,...Oy(l||{},p)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===b&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const O=LM(n);if(O){const C=window.MotionHandoffAnimation(O,p,Jt);C!==null&&(x.startTime=C,w=!0)}}r0(n,p),g.start(zy(p,g,y,n.shouldReduceMotion&&hM.has(p)?{type:!1}:x,n,w));const A=g.animation;A&&h.push(A)}return a&&Promise.all(h).then(()=>{Jt.update(()=>{a&&UV(n,a)})}),h}function l0(n,t,e={}){var h;const i=Ya(n,t,e.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const l=i?()=>Promise.all(zM(n,i,e)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=s;return ZV(n,t,p+f,g,y,e)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,p]=u==="beforeChildren"?[l,a]:[a,l];return f().then(()=>p())}else return Promise.all([l(),a(e.delay)])}function ZV(n,t,e=0,i=0,s=1,l){const a=[],u=(n.variantChildren.size-1)*i,h=s===1?(f=0)=>f*i:(f=0)=>u-f*i;return Array.from(n.variantChildren).sort(JV).forEach((f,p)=>{f.notify("AnimationStart",t),a.push(l0(f,t,{...l,delay:e+h(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(a)}function JV(n,t){return n.sortNodePosition(t)}function t6(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(l=>l0(n,l,e));i=Promise.all(s)}else if(typeof t=="string")i=l0(n,t,e);else{const s=typeof t=="function"?Ya(n,t,e.custom):t;i=Promise.all(zM(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function VM(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const e6=Dy.length;function PM(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?PM(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<e6;e++){const i=Dy[e],s=n.props[i];($a(s)||s===!1)&&(t[i]=s)}return t}const n6=[...ky].reverse(),i6=ky.length;function s6(n){return t=>Promise.all(t.map(({animation:e,options:i})=>t6(n,e,i)))}function r6(n){let t=s6(n),e=vA(),i=!0;const s=h=>(f,p)=>{var y;const g=Ya(n,p,h==="exit"?(y=n.presenceContext)==null?void 0:y.custom:void 0);if(g){const{transition:x,transitionEnd:b,...w}=g;f={...f,...w,...b}}return f};function l(h){t=h(n)}function a(h){const{props:f}=n,p=PM(n.parent)||{},g=[],y=new Set;let x={},b=1/0;for(let A=0;A<i6;A++){const O=n6[A],C=e[O],E=f[O]!==void 0?f[O]:p[O],M=$a(E),D=O===h?C.isActive:null;D===!1&&(b=A);let L=E===p[O]&&E!==f[O]&&M;if(L&&i&&n.manuallyAnimateOnMount&&(L=!1),C.protectedKeys={...x},!C.isActive&&D===null||!E&&!C.prevProp||Cf(E)||typeof E=="boolean")continue;const z=l6(C.prevProp,E);let $=z||O===h&&C.isActive&&!L&&M||A>b&&M,et=!1;const st=Array.isArray(E)?E:[E];let rt=st.reduce(s(O),{});D===!1&&(rt={});const{prevResolvedValues:it={}}=C,Y={...it,...rt},B=H=>{$=!0,y.has(H)&&(et=!0,y.delete(H)),C.needsAnimating[H]=!0;const K=n.getValue(H);K&&(K.liveStyle=!1)};for(const H in Y){const K=rt[H],nt=it[H];if(x.hasOwnProperty(H))continue;let k=!1;s0(K)&&s0(nt)?k=!VM(K,nt):k=K!==nt,k?K!=null?B(H):y.add(H):K!==void 0&&y.has(H)?B(H):C.protectedKeys[H]=!0}C.prevProp=E,C.prevResolvedValues=rt,C.isActive&&(x={...x,...rt}),i&&n.blockInitialAnimation&&($=!1),$&&(!(L&&z)||et)&&g.push(...st.map(H=>({animation:H,options:{type:O}})))}if(y.size){const A={};if(typeof f.initial!="boolean"){const O=Ya(n,Array.isArray(f.initial)?f.initial[0]:f.initial);O&&O.transition&&(A.transition=O.transition)}y.forEach(O=>{const C=n.getBaseTarget(O),E=n.getValue(O);E&&(E.liveStyle=!0),A[O]=C??null}),g.push({animation:A})}let w=!!g.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(w=!1),i=!1,w?t(g):Promise.resolve()}function u(h,f){var g;if(e[h].isActive===f)return Promise.resolve();(g=n.variantChildren)==null||g.forEach(y=>{var x;return(x=y.animationState)==null?void 0:x.setActive(h,f)}),e[h].isActive=f;const p=a(h);for(const y in e)e[y].protectedKeys={};return p}return{animateChanges:a,setActive:u,setAnimateFunction:l,getState:()=>e,reset:()=>{e=vA(),i=!0}}}function l6(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!VM(t,n):!1}function rr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vA(){return{animate:rr(!0),whileInView:rr(),whileHover:rr(),whileTap:rr(),whileDrag:rr(),whileFocus:rr(),exit:rr()}}class Hs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class o6 extends Hs{constructor(t){super(t),t.animationState||(t.animationState=r6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Cf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let a6=0;class u6 extends Hs{constructor(){super(...arguments),this.id=a6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const c6={animation:{Feature:o6},exit:{Feature:u6}};function Ga(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function uu(n){return{point:{x:n.pageX,y:n.pageY}}}const h6=n=>t=>My(t)&&n(t,uu(t));function Sa(n,t,e,i){return Ga(n,t,h6(e),i)}function HM({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function f6({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function d6(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const qM=1e-4,p6=1-qM,m6=1+qM,UM=.01,g6=0-UM,y6=0+UM;function je(n){return n.max-n.min}function v6(n,t,e){return Math.abs(n-t)<=e}function xA(n,t,e,i=.5){n.origin=i,n.originPoint=Zt(t.min,t.max,n.origin),n.scale=je(e)/je(t),n.translate=Zt(e.min,e.max,n.origin)-n.originPoint,(n.scale>=p6&&n.scale<=m6||isNaN(n.scale))&&(n.scale=1),(n.translate>=g6&&n.translate<=y6||isNaN(n.translate))&&(n.translate=0)}function wa(n,t,e,i){xA(n.x,t.x,e.x,i?i.originX:void 0),xA(n.y,t.y,e.y,i?i.originY:void 0)}function bA(n,t,e){n.min=e.min+t.min,n.max=n.min+je(t)}function x6(n,t,e){bA(n.x,t.x,e.x),bA(n.y,t.y,e.y)}function SA(n,t,e){n.min=t.min-e.min,n.max=n.min+je(t)}function Aa(n,t,e){SA(n.x,t.x,e.x),SA(n.y,t.y,e.y)}const wA=()=>({translate:0,scale:1,origin:0,originPoint:0}),wl=()=>({x:wA(),y:wA()}),AA=()=>({min:0,max:0}),re=()=>({x:AA(),y:AA()});function _n(n){return[n("x"),n("y")]}function Bm(n){return n===void 0||n===1}function o0({scale:n,scaleX:t,scaleY:e}){return!Bm(n)||!Bm(t)||!Bm(e)}function lr(n){return o0(n)||jM(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function jM(n){return OA(n.x)||OA(n.y)}function OA(n){return n&&n!=="0%"}function lf(n,t,e){const i=n-e,s=t*i;return e+s}function TA(n,t,e,i,s){return s!==void 0&&(n=lf(n,s,i)),lf(n,e,i)+t}function a0(n,t=0,e=1,i,s){n.min=TA(n.min,t,e,i,s),n.max=TA(n.max,t,e,i,s)}function $M(n,{x:t,y:e}){a0(n.x,t.translate,t.scale,t.originPoint),a0(n.y,e.translate,e.scale,e.originPoint)}const CA=.999999999999,MA=1.0000000000001;function b6(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let l,a;for(let u=0;u<s;u++){l=e[u],a=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ol(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,$M(n,a)),i&&lr(l.latestValues)&&Ol(n,l.latestValues))}t.x<MA&&t.x>CA&&(t.x=1),t.y<MA&&t.y>CA&&(t.y=1)}function Al(n,t){n.min=n.min+t,n.max=n.max+t}function kA(n,t,e,i,s=.5){const l=Zt(n.min,n.max,s);a0(n,t,e,l,i)}function Ol(n,t){kA(n.x,t.x,t.scaleX,t.scale,t.originX),kA(n.y,t.y,t.scaleY,t.scale,t.originY)}function XM(n,t){return HM(d6(n.getBoundingClientRect(),t))}function S6(n,t,e){const i=XM(n,e),{scroll:s}=t;return s&&(Al(i.x,s.offset.x),Al(i.y,s.offset.y)),i}const YM=({current:n})=>n?n.ownerDocument.defaultView:null,DA=(n,t)=>Math.abs(n-t);function w6(n,t){const e=DA(n.x,t.x),i=DA(n.y,t.y);return Math.sqrt(e**2+i**2)}class GM{constructor(t,e,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=zm(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=w6(g.offset,{x:0,y:0})>=3;if(!y&&!x)return;const{point:b}=g,{timestamp:w}=Me;this.history.push({...b,timestamp:w});const{onStart:A,onMove:O}=this.handlers;y||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Lm(y,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=zm(g.type==="pointercancel"?this.lastMoveEventInfo:Lm(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,A),b&&b(g,A)},!My(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=i,this.contextWindow=s||window;const a=uu(t),u=Lm(a,this.transformPagePoint),{point:h}=u,{timestamp:f}=Me;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=e;p&&p(t,zm(u,this.history)),this.removeListeners=lu(Sa(this.contextWindow,"pointermove",this.handlePointerMove),Sa(this.contextWindow,"pointerup",this.handlePointerUp),Sa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ls(this.updatePoint)}}function Lm(n,t){return t?{point:t(n.point)}:n}function EA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function zm({point:n},t){return{point:n,delta:EA(n,FM(t)),offset:EA(n,A6(t)),velocity:O6(t,.1)}}function A6(n){return n[0]}function FM(n){return n[n.length-1]}function O6(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=FM(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>fi(t)));)e--;if(!i)return{x:0,y:0};const l=di(s.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const a={x:(s.x-i.x)/l,y:(s.y-i.y)/l};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function T6(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Zt(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Zt(e,n,i.max):Math.min(n,e)),n}function RA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function C6(n,{top:t,left:e,bottom:i,right:s}){return{x:RA(n.x,e,s),y:RA(n.y,t,i)}}function _A(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function M6(n,t){return{x:_A(n.x,t.x),y:_A(n.y,t.y)}}function k6(n,t){let e=.5;const i=je(n),s=je(t);return s>i?e=qa(t.min,t.max-i,n.min):i>s&&(e=qa(n.min,n.max-s,t.min)),Xi(0,1,e)}function D6(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const u0=.35;function E6(n=u0){return n===!1?n=0:n===!0&&(n=u0),{x:NA(n,"left","right"),y:NA(n,"top","bottom")}}function NA(n,t,e){return{min:BA(n,t),max:BA(n,e)}}function BA(n,t){return typeof n=="number"?n:n[t]||0}const R6=new WeakMap;class _6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=re(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(uu(p).point)},l=(p,g)=>{const{drag:y,dragPropagation:x,onDragStart:b}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wz(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_n(A=>{let O=this.getAxisMotionValue(A).get()||0;if(pi.test(O)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[A];E&&(O=je(E)*(parseFloat(O)/100))}}this.originPoint[A]=O}),b&&Jt.postRender(()=>b(p,g)),r0(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(p,g)=>{const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:b,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:A}=g;if(x&&this.currentDirection===null){this.currentDirection=N6(A),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),w&&w(p,g)},u=(p,g)=>this.stop(p,g),h=()=>_n(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new GM(t,{onSessionStart:s,onStart:l,onMove:a,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:YM(this.visualElement)})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&Jt.postRender(()=>l(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!th(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=T6(a,this.constraints[t],this.elastic[t])),l.set(a)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,s=this.constraints;t&&Sl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=C6(i.layoutBox,t):this.constraints=!1,this.elastic=E6(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&_n(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=D6(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Sl(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=S6(i,s.root,this.visualElement.getTransformPagePoint());let a=M6(s.layout.layoutBox,l);if(e){const u=e(f6(a));this.hasMutatedConstraints=!!u,u&&(a=HM(u))}return a}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:l,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=_n(p=>{if(!th(p,e,this.currentDirection))return;let g=h&&h[p]||{};a&&(g={min:0,max:0});const y=s?200:1e6,x=s?40:1e7,b={type:"inertia",velocity:i?t[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,b)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return r0(this.visualElement,t),i.start(zy(t,i,0,e,this.visualElement,!1))}stopAnimation(){_n(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_n(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){_n(e=>{const{drag:i}=this.getProps();if(!th(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(e);if(s&&s.layout){const{min:a,max:u}=s.layout.layoutBox[e];l.set(t[e]-Zt(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Sl(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};_n(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const h=u.get();s[a]=k6({min:h,max:h},this.constraints[a])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),_n(a=>{if(!th(a,t,null))return;const u=this.getAxisMotionValue(a),{min:h,max:f}=this.constraints[a];u.set(Zt(h,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;R6.set(this.visualElement,this);const t=this.visualElement.current,e=Sa(t,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Sl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Jt.read(i);const a=Ga(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(_n(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=h[p].translate,g.set(g.get()+h[p].translate))}),this.visualElement.render())});return()=>{a(),e(),l(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:a=u0,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:l,dragElastic:a,dragMomentum:u}}}function th(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function N6(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class B6 extends Hs{constructor(t){super(t),this.removeGroupControls=Vn,this.removeListeners=Vn,this.controls=new _6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const LA=n=>(t,e)=>{n&&Jt.postRender(()=>n(t,e))};class L6 extends Hs{constructor(){super(...arguments),this.removePointerDownListener=Vn}onPointerDown(t){this.session=new GM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:LA(t),onStart:LA(e),onMove:i,onEnd:(l,a)=>{delete this.session,s&&Jt.postRender(()=>s(l,a))}}}mount(){this.removePointerDownListener=Sa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const ia={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(St.test(n))n=parseFloat(n);else return n;const e=zA(n,t.target.x),i=zA(n,t.target.y);return`${e}% ${i}%`}},z6={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=zs.parse(n);if(s.length>5)return i;const l=zs.createTransformer(n),a=typeof s[0]!="number"?1:0,u=e.x.scale*t.x,h=e.y.scale*t.y;s[0+a]/=u,s[1+a]/=h;const f=Zt(u,h,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),l(s)}};class V6 extends ft.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:l}=t;SV(P6),l&&(e.group&&e.group.add(l),i&&i.register&&s&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),wh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:l}=this.props,{projection:a}=i;return a&&(a.isPresent=l,s||t.layoutDependency!==e||e===void 0||t.isPresent!==l?a.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?a.promote():a.relegate()||Jt.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Cy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function KM(n){const[t,e]=sV(),i=ft.useContext(EC);return mt.jsx(V6,{...n,layoutGroup:i,switchLayoutGroup:ft.useContext(CM),isPresent:t,safeToRemove:e})}const P6={borderRadius:{...ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ia,borderTopRightRadius:ia,borderBottomLeftRadius:ia,borderBottomRightRadius:ia,boxShadow:z6};function H6(n,t,e){const i=Ve(n)?n:ql(n);return i.start(zy("",i,t,e)),i.animation}const q6=(n,t)=>n.depth-t.depth;class U6{constructor(){this.children=[],this.isDirty=!1}add(t){oy(this.children,t),this.isDirty=!0}remove(t){ay(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(q6),this.isDirty=!1,this.children.forEach(t)}}function j6(n,t){const e=nn.now(),i=({timestamp:s})=>{const l=s-e;l>=t&&(Ls(i),n(l-t))};return Jt.setup(i,!0),()=>Ls(i)}const WM=["TopLeft","TopRight","BottomLeft","BottomRight"],$6=WM.length,VA=n=>typeof n=="string"?parseFloat(n):n,PA=n=>typeof n=="number"||St.test(n);function X6(n,t,e,i,s,l){s?(n.opacity=Zt(0,e.opacity??1,Y6(i)),n.opacityExit=Zt(t.opacity??1,0,G6(i))):l&&(n.opacity=Zt(t.opacity??1,e.opacity??1,i));for(let a=0;a<$6;a++){const u=`border${WM[a]}Radius`;let h=HA(t,u),f=HA(e,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||PA(h)===PA(f)?(n[u]=Math.max(Zt(VA(h),VA(f),i),0),(pi.test(f)||pi.test(h))&&(n[u]+="%")):n[u]=f}(t.rotate||e.rotate)&&(n.rotate=Zt(t.rotate||0,e.rotate||0,i))}function HA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const Y6=IM(0,.5,UC),G6=IM(.5,.95,Vn);function IM(n,t,e){return i=>i<n?0:i>t?1:e(qa(n,t,i))}function qA(n,t){n.min=t.min,n.max=t.max}function Rn(n,t){qA(n.x,t.x),qA(n.y,t.y)}function UA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function jA(n,t,e,i,s){return n-=t,n=lf(n,1/e,i),s!==void 0&&(n=lf(n,1/s,i)),n}function F6(n,t=0,e=1,i=.5,s,l=n,a=n){if(pi.test(t)&&(t=parseFloat(t),t=Zt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let u=Zt(l.min,l.max,i);n===l&&(u-=t),n.min=jA(n.min,t,e,u,s),n.max=jA(n.max,t,e,u,s)}function $A(n,t,[e,i,s],l,a){F6(n,t[e],t[i],t[s],t.scale,l,a)}const K6=["x","scaleX","originX"],W6=["y","scaleY","originY"];function XA(n,t,e,i){$A(n.x,t,K6,e?e.x:void 0,i?i.x:void 0),$A(n.y,t,W6,e?e.y:void 0,i?i.y:void 0)}function YA(n){return n.translate===0&&n.scale===1}function QM(n){return YA(n.x)&&YA(n.y)}function GA(n,t){return n.min===t.min&&n.max===t.max}function I6(n,t){return GA(n.x,t.x)&&GA(n.y,t.y)}function FA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function ZM(n,t){return FA(n.x,t.x)&&FA(n.y,t.y)}function KA(n){return je(n.x)/je(n.y)}function WA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class Q6{constructor(){this.members=[]}add(t){oy(this.members,t),t.scheduleRender()}remove(t){if(ay(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z6(n,t,e){let i="";const s=n.x.translate/t.x,l=n.y.translate/t.y,a=(e==null?void 0:e.z)||0;if((s||l||a)&&(i=`translate3d(${s}px, ${l}px, ${a}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:y,skewX:x,skewY:b}=e;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),x&&(i+=`skewX(${x}deg) `),b&&(i+=`skewY(${b}deg) `)}const u=n.x.scale*t.x,h=n.y.scale*t.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const Vm=["","X","Y","Z"],J6={visibility:"hidden"},tP=1e3;let eP=0;function Pm(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function JM(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=LM(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Jt,!(s||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&JM(i)}function tk({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},u=t==null?void 0:t()){this.id=eP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sP),this.nodes.forEach(uP),this.nodes.forEach(cP),this.nodes.forEach(rP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new U6)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new hy),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const h=this.eventHandlers.get(a);h&&h.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=bM(a)&&!eV(a),this.instance=a;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let p;const g=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=j6(g,250),wh.hasAnimatedSinceResize&&(wh.hasAnimatedSinceResize=!1,this.nodes.forEach(QA))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||mP,{onLayoutAnimationStart:w,onLayoutAnimationComplete:A}=f.getProps(),O=!this.targetLayout||!ZM(this.targetLayout,x),C=!g&&y;if(this.options.layoutRoot||this.resumeFrom||C||g&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Oy(b,"layout"),onPlay:w,onComplete:A};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(p,C)}else g||QA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hP),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IA);return}this.isUpdating||this.nodes.forEach(oP),this.isUpdating=!1,this.nodes.forEach(aP),this.nodes.forEach(nP),this.nodes.forEach(iP),this.clearAllSnapshots();const u=nn.now();Me.delta=Xi(0,1e3/60,u-Me.timestamp),Me.timestamp=u,Me.isProcessing=!0,km.update.process(Me),km.preRender.process(Me),km.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lP),this.sharedNodes.forEach(fP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!je(this.snapshot.measuredBox.x)&&!je(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!QM(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;a&&this.instance&&(u||lr(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return a&&(h=this.removeTransform(h)),gP(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return re();const u=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(yP))){const{scroll:p}=this.root;p&&(Al(u.x,p.offset.x),Al(u.y,p.offset.y))}return u}removeElementScroll(a){var h;const u=re();if(Rn(u,a),(h=this.scroll)!=null&&h.wasRoot)return u;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Rn(u,a),Al(u.x,g.offset.x),Al(u.y,g.offset.y))}return u}applyTransform(a,u=!1){const h=re();Rn(h,a);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ol(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),lr(p.latestValues)&&Ol(h,p.latestValues)}return lr(this.latestValues)&&Ol(h,this.latestValues),h}removeTransform(a){const u=re();Rn(u,a);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!lr(f.latestValues))continue;o0(f.latestValues)&&f.updateSnapshot();const p=re(),g=f.measurePageBox();Rn(p,g),XA(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return lr(this.latestValues)&&XA(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var y;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(a||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),Aa(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=re(),this.targetWithTransforms=re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rn(this.target,this.layout.layoutBox),$M(this.target,this.targetDelta)):Rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),Aa(this.relativeTargetOrigin,this.target,x.target),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||o0(this.parent.latestValues)||jM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let h=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Rn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;b6(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=re());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UA(this.prevProjectionDelta.x,this.projectionDelta.x),UA(this.prevProjectionDelta.y,this.projectionDelta.y)),wa(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!WA(this.projectionDelta.x,this.prevProjectionDelta.x)||!WA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),a){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wl(),this.projectionDelta=wl(),this.projectionDeltaWithTransform=wl()}setAnimationOrigin(a,u=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},g=wl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=re(),x=h?h.source:void 0,b=this.layout?this.layout.source:void 0,w=x!==b,A=this.getStack(),O=!A||A.members.length<=1,C=!!(w&&!O&&this.options.crossfade===!0&&!this.path.some(pP));this.animationProgress=0;let E;this.mixTargetDelta=M=>{const D=M/1e3;ZA(g.x,a.x,D),ZA(g.y,a.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Aa(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dP(this.relativeTarget,this.relativeTargetOrigin,y,D),E&&I6(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=re()),Rn(E,this.relativeTarget)),w&&(this.animationValues=p,X6(p,f,this.latestValues,D,C,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var u,h,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{wh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ql(0)),this.currentAnimation=H6(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),a.onUpdate&&a.onUpdate(p)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:p}=a;if(!(!u||!h||!f)){if(this!==a&&this.layout&&f&&ek(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||re();const g=je(this.layout.layoutBox.x);h.x.min=a.target.x.min,h.x.max=h.x.min+g;const y=je(this.layout.layoutBox.y);h.y.min=a.target.y.min,h.y.max=h.y.min+y}Rn(u,h),Ol(u,p),wa(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Q6),this.sharedNodes.get(a).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var u;const{layoutId:a}=this.options;return a?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:a}=this.options;return a?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:h}=a;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&Pm("z",a,f,this.animationValues);for(let p=0;p<Vm.length;p++)Pm(`rotate${Vm[p]}`,a,f,this.animationValues),Pm(`skew${Vm[p]}`,a,f,this.animationValues);a.render();for(const p in f)a.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return J6;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Sh(a==null?void 0:a.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Sh(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!lr(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Z6(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in Xa){if(p[x]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:A}=Xa[x],O=u.transform==="none"?p[x]:b(p[x],f);if(w){const C=w.length;for(let E=0;E<C;E++)u[w[E]]=O}else A?this.options.visualElement.renderState.vars[x]=O:u[x]=O}return this.options.layoutId&&(u.pointerEvents=f===this?Sh(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(IA),this.root.sharedNodes.clear()}}}function nP(n){n.updateLayout()}function iP(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:l}=n.options,a=t.source!==n.layout.source;l==="size"?_n(g=>{const y=a?t.measuredBox[g]:t.layoutBox[g],x=je(y);y.min=i[g].min,y.max=y.min+x}):ek(l,t.layoutBox,i)&&_n(g=>{const y=a?t.measuredBox[g]:t.layoutBox[g],x=je(i[g]);y.max=y.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+x)});const u=wl();wa(u,i,t.layoutBox);const h=wl();a?wa(h,n.applyTransform(s,!0),t.measuredBox):wa(h,i,t.layoutBox);const f=!QM(u);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:x}=g;if(y&&x){const b=re();Aa(b,t.layoutBox,y.layoutBox);const w=re();Aa(w,i,x.layoutBox),ZM(b,w)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=b,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function sP(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function rP(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function lP(n){n.clearSnapshot()}function IA(n){n.clearMeasurements()}function oP(n){n.isLayoutDirty=!1}function aP(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function QA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function uP(n){n.resolveTargetDelta()}function cP(n){n.calcProjection()}function hP(n){n.resetSkewAndRotation()}function fP(n){n.removeLeadSnapshot()}function ZA(n,t,e){n.translate=Zt(t.translate,0,e),n.scale=Zt(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function JA(n,t,e,i){n.min=Zt(t.min,e.min,i),n.max=Zt(t.max,e.max,i)}function dP(n,t,e,i){JA(n.x,t.x,e.x,i),JA(n.y,t.y,e.y,i)}function pP(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const mP={duration:.45,ease:[.4,0,.1,1]},t2=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),e2=t2("applewebkit/")&&!t2("chrome/")?Math.round:Vn;function n2(n){n.min=e2(n.min),n.max=e2(n.max)}function gP(n){n2(n.x),n2(n.y)}function ek(n,t,e){return n==="position"||n==="preserve-aspect"&&!v6(KA(t),KA(e),.2)}function yP(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const vP=tk({attachResizeListener:(n,t)=>Ga(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hm={current:void 0},nk=tk({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Hm.current){const n=new vP({});n.mount(window),n.setOptions({layoutScroll:!0}),Hm.current=n}return Hm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),xP={pan:{Feature:L6},drag:{Feature:B6,ProjectionNode:nk,MeasureLayout:KM}};function i2(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,l=i[s];l&&Jt.postRender(()=>l(t,uu(t)))}class bP extends Hs{mount(){const{current:t}=this.node;t&&(this.unmount=Iz(t,(e,i)=>(i2(this.node,i,"Start"),s=>i2(this.node,s,"End"))))}unmount(){}}class SP extends Hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lu(Ga(this.node.current,"focus",()=>this.onFocus()),Ga(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function s2(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),l=i[s];l&&Jt.postRender(()=>l(t,uu(t)))}class wP extends Hs{mount(){const{current:t}=this.node;t&&(this.unmount=tV(t,(e,i)=>(s2(this.node,i,"Start"),(s,{success:l})=>s2(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const c0=new WeakMap,qm=new WeakMap,AP=n=>{const t=c0.get(n.target);t&&t(n)},OP=n=>{n.forEach(AP)};function TP({root:n,...t}){const e=n||document;qm.has(e)||qm.set(e,{});const i=qm.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(OP,{root:n,...t})),i[s]}function CP(n,t,e){const i=TP(t);return c0.set(n,e),i.observe(n),()=>{c0.delete(n),i.unobserve(n)}}const MP={some:0,all:1};class kP extends Hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:l}=t,a={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:MP[s]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=f?p:g;y&&y(h)};return CP(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(DP(t,e))&&this.startObserver()}unmount(){}}function DP({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const EP={inView:{Feature:kP},tap:{Feature:wP},focus:{Feature:SP},hover:{Feature:bP}},RP={layout:{ProjectionNode:nk,MeasureLayout:KM}},h0={current:null},ik={current:!1};function _P(){if(ik.current=!0,!!ry)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>h0.current=n.matches;n.addListener(t),t()}else h0.current=!1}const NP=new WeakMap;function BP(n,t,e){for(const i in t){const s=t[i],l=e[i];if(Ve(s))n.addValue(i,s);else if(Ve(l))n.addValue(i,ql(s,{owner:n}));else if(l!==s)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,ql(a!==void 0?a:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const r2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LP{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:l,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ay,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=nn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Jt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=a;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=f,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=Mf(e),this.isVariantNode=OM(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(e,{},this);for(const y in g){const x=g[y];h[y]!==void 0&&Ve(x)&&x.set(h[y],!1)}}mount(t){this.current=t,NP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),ik.current||_P(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:h0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ls(this.notifyUpdate),Ls(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Il.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=e.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),l(),a&&a(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ul){const e=Ul[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):re()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<r2.length;i++){const s=r2[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,a=t[l];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=BP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=ql(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(RC(i)||NC(i))?i=parseFloat(i):!iV(i)&&zs.test(e)&&(i=mM(t,e)),this.setBaseTarget(t,Ve(i)?i.get():i)),Ve(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var l;const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const a=By(this.props,e,(l=this.presenceContext)==null?void 0:l.custom);a&&(i=a[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ve(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new hy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class sk extends LP{constructor(){super(...arguments),this.KeyframeResolver=Yz}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ve(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function rk(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const l in e)n.style.setProperty(l,e[l])}function zP(n){return window.getComputedStyle(n)}class VP extends sk{constructor(){super(...arguments),this.type="html",this.renderInstance=rk}readValueFromInstance(t,e){var i;if(Il.has(e))return(i=this.projection)!=null&&i.isProjecting?Zg(e):cz(t,e);{const s=zP(t),l=(py(e)?s.getPropertyValue(e):s[e])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:e}){return XM(t,e)}build(t,e,i){Ry(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return Ly(t,e,i)}}const lk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PP(n,t,e,i){rk(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(lk.has(s)?s:Ey(s),t.attrs[s])}class HP extends sk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=re}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Il.has(e)){const i=pM(e);return i&&i.default||0}return e=lk.has(e)?e:Ey(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return BM(t,e,i)}build(t,e,i){EM(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){PP(t,e,i,s)}mount(t){this.isSVGTag=_M(t.tagName),super.mount(t)}}const qP=(n,t)=>Ny(n)?new HP(t):new VP(t,{allowProjection:n!==ft.Fragment}),UP=PV({...c6,...EP,...xP,...RP},qP),jP=uV(UP),$P=[{id:"graph",label:"Force Graph",icon:MR},{id:"tree",label:"Tidy Tree",icon:AR}],XP=({activeTab:n,setActiveTab:t})=>mt.jsx("div",{className:"flex space-x-1 rounded2-lg bg-slate-100 p-1 mb-4",children:$P.map(e=>mt.jsxs("button",{onClick:()=>t(e.id),className:`
            relative w-full flex items-center justify-center rounded2-md py-2.5 text-sm font-medium leading-5
            transition-colors duration-200
            focus:outline-none focus-visible:ring-2 ring-blue-500 ring-offset-2 ring-offset-slate-100
          `,children:[n===e.id&&mt.jsx(jP.div,{layoutId:"active-tab-highlighter",className:"absolute inset-0 bg-white rounded2-md shadow2-sm",transition:{type:"spring",stiffness:400,damping:30}}),mt.jsxs("span",{className:"relative z-10 flex items-center",children:[mt.jsx(e.icon,{className:`w-5 h-5 mr-2 transition-colors ${n===e.id?"text-blue-600":"text-slate-600"}`}),mt.jsx("span",{className:`transition-colors ${n===e.id?"text-blue-600":"text-slate-600 hover:text-slate-900"}`,children:e.label})]})]},e.id))});class l2 extends Map{constructor(t,e=FP){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[i,s]of t)this.set(i,s)}get(t){return super.get(o2(this,t))}has(t){return super.has(o2(this,t))}set(t,e){return super.set(YP(this,t),e)}delete(t){return super.delete(GP(this,t))}}function o2({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function YP({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function GP({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function FP(n){return n!==null&&typeof n=="object"?n.valueOf():n}var KP={value:()=>{}};function cu(){for(var n=0,t=arguments.length,e={},i;n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Ah(e)}function Ah(n){this._=n}function WP(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",s=e.indexOf(".");if(s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}Ah.prototype=cu.prototype={constructor:Ah,on:function(n,t){var e=this._,i=WP(n+"",e),s,l=-1,a=i.length;if(arguments.length<2){for(;++l<a;)if((s=(n=i[l]).type)&&(s=IP(e[s],n.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<a;)if(s=(n=i[l]).type)e[s]=a2(e[s],n.name,t);else if(t==null)for(s in e)e[s]=a2(e[s],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new Ah(n)},call:function(n,t){if((s=arguments.length-2)>0)for(var e=new Array(s),i=0,s,l;i<s;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(l=this._[n],i=0,s=l.length;i<s;++i)l[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],s=0,l=i.length;s<l;++s)i[s].value.apply(t,e)}};function IP(n,t){for(var e=0,i=n.length,s;e<i;++e)if((s=n[e]).name===t)return s.value}function a2(n,t,e){for(var i=0,s=n.length;i<s;++i)if(n[i].name===t){n[i]=KP,n=n.slice(0,i).concat(n.slice(i+1));break}return e!=null&&n.push({name:t,value:e}),n}var f0="http://www.w3.org/1999/xhtml";const u2={svg:"http://www.w3.org/2000/svg",xhtml:f0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kf(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),u2.hasOwnProperty(t)?{space:u2[t],local:n}:n}function QP(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===f0&&t.documentElement.namespaceURI===f0?t.createElement(n):t.createElementNS(e,n)}}function ZP(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function ok(n){var t=kf(n);return(t.local?ZP:QP)(t)}function JP(){}function Vy(n){return n==null?JP:function(){return this.querySelector(n)}}function t9(n){typeof n!="function"&&(n=Vy(n));for(var t=this._groups,e=t.length,i=new Array(e),s=0;s<e;++s)for(var l=t[s],a=l.length,u=i[s]=new Array(a),h,f,p=0;p<a;++p)(h=l[p])&&(f=n.call(h,h.__data__,p,l))&&("__data__"in h&&(f.__data__=h.__data__),u[p]=f);return new bn(i,this._parents)}function e9(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function n9(){return[]}function ak(n){return n==null?n9:function(){return this.querySelectorAll(n)}}function i9(n){return function(){return e9(n.apply(this,arguments))}}function s9(n){typeof n=="function"?n=i9(n):n=ak(n);for(var t=this._groups,e=t.length,i=[],s=[],l=0;l<e;++l)for(var a=t[l],u=a.length,h,f=0;f<u;++f)(h=a[f])&&(i.push(n.call(h,h.__data__,f,a)),s.push(h));return new bn(i,s)}function uk(n){return function(){return this.matches(n)}}function ck(n){return function(t){return t.matches(n)}}var r9=Array.prototype.find;function l9(n){return function(){return r9.call(this.children,n)}}function o9(){return this.firstElementChild}function a9(n){return this.select(n==null?o9:l9(typeof n=="function"?n:ck(n)))}var u9=Array.prototype.filter;function c9(){return Array.from(this.children)}function h9(n){return function(){return u9.call(this.children,n)}}function f9(n){return this.selectAll(n==null?c9:h9(typeof n=="function"?n:ck(n)))}function d9(n){typeof n!="function"&&(n=uk(n));for(var t=this._groups,e=t.length,i=new Array(e),s=0;s<e;++s)for(var l=t[s],a=l.length,u=i[s]=[],h,f=0;f<a;++f)(h=l[f])&&n.call(h,h.__data__,f,l)&&u.push(h);return new bn(i,this._parents)}function hk(n){return new Array(n.length)}function p9(){return new bn(this._enter||this._groups.map(hk),this._parents)}function of(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}of.prototype={constructor:of,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function m9(n){return function(){return n}}function g9(n,t,e,i,s,l){for(var a=0,u,h=t.length,f=l.length;a<f;++a)(u=t[a])?(u.__data__=l[a],i[a]=u):e[a]=new of(n,l[a]);for(;a<h;++a)(u=t[a])&&(s[a]=u)}function y9(n,t,e,i,s,l,a){var u,h,f=new Map,p=t.length,g=l.length,y=new Array(p),x;for(u=0;u<p;++u)(h=t[u])&&(y[u]=x=a.call(h,h.__data__,u,t)+"",f.has(x)?s[u]=h:f.set(x,h));for(u=0;u<g;++u)x=a.call(n,l[u],u,l)+"",(h=f.get(x))?(i[u]=h,h.__data__=l[u],f.delete(x)):e[u]=new of(n,l[u]);for(u=0;u<p;++u)(h=t[u])&&f.get(y[u])===h&&(s[u]=h)}function v9(n){return n.__data__}function x9(n,t){if(!arguments.length)return Array.from(this,v9);var e=t?y9:g9,i=this._parents,s=this._groups;typeof n!="function"&&(n=m9(n));for(var l=s.length,a=new Array(l),u=new Array(l),h=new Array(l),f=0;f<l;++f){var p=i[f],g=s[f],y=g.length,x=b9(n.call(p,p&&p.__data__,f,i)),b=x.length,w=u[f]=new Array(b),A=a[f]=new Array(b),O=h[f]=new Array(y);e(p,g,w,A,O,x,t);for(var C=0,E=0,M,D;C<b;++C)if(M=w[C]){for(C>=E&&(E=C+1);!(D=A[E])&&++E<b;);M._next=D||null}}return a=new bn(a,i),a._enter=u,a._exit=h,a}function b9(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function S9(){return new bn(this._exit||this._groups.map(hk),this._parents)}function w9(n,t,e){var i=this.enter(),s=this,l=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),t!=null&&(s=t(s),s&&(s=s.selection())),e==null?l.remove():e(l),i&&s?i.merge(s).order():s}function A9(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,s=e.length,l=i.length,a=Math.min(s,l),u=new Array(s),h=0;h<a;++h)for(var f=e[h],p=i[h],g=f.length,y=u[h]=new Array(g),x,b=0;b<g;++b)(x=f[b]||p[b])&&(y[b]=x);for(;h<s;++h)u[h]=e[h];return new bn(u,this._parents)}function O9(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var i=n[t],s=i.length-1,l=i[s],a;--s>=0;)(a=i[s])&&(l&&a.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(a,l),l=a);return this}function T9(n){n||(n=C9);function t(g,y){return g&&y?n(g.__data__,y.__data__):!g-!y}for(var e=this._groups,i=e.length,s=new Array(i),l=0;l<i;++l){for(var a=e[l],u=a.length,h=s[l]=new Array(u),f,p=0;p<u;++p)(f=a[p])&&(h[p]=f);h.sort(t)}return new bn(s,this._parents).order()}function C9(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function M9(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function k9(){return Array.from(this)}function D9(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],s=0,l=i.length;s<l;++s){var a=i[s];if(a)return a}return null}function E9(){let n=0;for(const t of this)++n;return n}function R9(){return!this.node()}function _9(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var s=t[e],l=0,a=s.length,u;l<a;++l)(u=s[l])&&n.call(u,u.__data__,l,s);return this}function N9(n){return function(){this.removeAttribute(n)}}function B9(n){return function(){this.removeAttributeNS(n.space,n.local)}}function L9(n,t){return function(){this.setAttribute(n,t)}}function z9(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function V9(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function P9(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function H9(n,t){var e=kf(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((t==null?e.local?B9:N9:typeof t=="function"?e.local?P9:V9:e.local?z9:L9)(e,t))}function fk(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function q9(n){return function(){this.style.removeProperty(n)}}function U9(n,t,e){return function(){this.style.setProperty(n,t,e)}}function j9(n,t,e){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function $9(n,t,e){return arguments.length>1?this.each((t==null?q9:typeof t=="function"?j9:U9)(n,t,e??"")):jl(this.node(),n)}function jl(n,t){return n.style.getPropertyValue(t)||fk(n).getComputedStyle(n,null).getPropertyValue(t)}function X9(n){return function(){delete this[n]}}function Y9(n,t){return function(){this[n]=t}}function G9(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function F9(n,t){return arguments.length>1?this.each((t==null?X9:typeof t=="function"?G9:Y9)(n,t)):this.node()[n]}function dk(n){return n.trim().split(/^|\s+/)}function Py(n){return n.classList||new pk(n)}function pk(n){this._node=n,this._names=dk(n.getAttribute("class")||"")}pk.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function mk(n,t){for(var e=Py(n),i=-1,s=t.length;++i<s;)e.add(t[i])}function gk(n,t){for(var e=Py(n),i=-1,s=t.length;++i<s;)e.remove(t[i])}function K9(n){return function(){mk(this,n)}}function W9(n){return function(){gk(this,n)}}function I9(n,t){return function(){(t.apply(this,arguments)?mk:gk)(this,n)}}function Q9(n,t){var e=dk(n+"");if(arguments.length<2){for(var i=Py(this.node()),s=-1,l=e.length;++s<l;)if(!i.contains(e[s]))return!1;return!0}return this.each((typeof t=="function"?I9:t?K9:W9)(e,t))}function Z9(){this.textContent=""}function J9(n){return function(){this.textContent=n}}function tH(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function eH(n){return arguments.length?this.each(n==null?Z9:(typeof n=="function"?tH:J9)(n)):this.node().textContent}function nH(){this.innerHTML=""}function iH(n){return function(){this.innerHTML=n}}function sH(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function rH(n){return arguments.length?this.each(n==null?nH:(typeof n=="function"?sH:iH)(n)):this.node().innerHTML}function lH(){this.nextSibling&&this.parentNode.appendChild(this)}function oH(){return this.each(lH)}function aH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function uH(){return this.each(aH)}function cH(n){var t=typeof n=="function"?n:ok(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function hH(){return null}function fH(n,t){var e=typeof n=="function"?n:ok(n),i=t==null?hH:typeof t=="function"?t:Vy(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function dH(){var n=this.parentNode;n&&n.removeChild(this)}function pH(){return this.each(dH)}function mH(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function gH(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function yH(n){return this.select(n?gH:mH)}function vH(n){return arguments.length?this.property("__data__",n):this.node().__data__}function xH(n){return function(t){n.call(this,t,this.__data__)}}function bH(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function SH(n){return function(){var t=this.__on;if(t){for(var e=0,i=-1,s=t.length,l;e<s;++e)l=t[e],(!n.type||l.type===n.type)&&l.name===n.name?this.removeEventListener(l.type,l.listener,l.options):t[++i]=l;++i?t.length=i:delete this.__on}}}function wH(n,t,e){return function(){var i=this.__on,s,l=xH(t);if(i){for(var a=0,u=i.length;a<u;++a)if((s=i[a]).type===n.type&&s.name===n.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=l,s.options=e),s.value=t;return}}this.addEventListener(n.type,l,e),s={type:n.type,name:n.name,value:t,listener:l,options:e},i?i.push(s):this.__on=[s]}}function AH(n,t,e){var i=bH(n+""),s,l=i.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var h=0,f=u.length,p;h<f;++h)for(s=0,p=u[h];s<l;++s)if((a=i[s]).type===p.type&&a.name===p.name)return p.value}return}for(u=t?wH:SH,s=0;s<l;++s)this.each(u(i[s],t,e));return this}function yk(n,t,e){var i=fk(n),s=i.CustomEvent;typeof s=="function"?s=new s(t,e):(s=i.document.createEvent("Event"),e?(s.initEvent(t,e.bubbles,e.cancelable),s.detail=e.detail):s.initEvent(t,!1,!1)),n.dispatchEvent(s)}function OH(n,t){return function(){return yk(this,n,t)}}function TH(n,t){return function(){return yk(this,n,t.apply(this,arguments))}}function CH(n,t){return this.each((typeof t=="function"?TH:OH)(n,t))}function*MH(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],s=0,l=i.length,a;s<l;++s)(a=i[s])&&(yield a)}var vk=[null];function bn(n,t){this._groups=n,this._parents=t}function hu(){return new bn([[document.documentElement]],vk)}function kH(){return this}bn.prototype=hu.prototype={constructor:bn,select:t9,selectAll:s9,selectChild:a9,selectChildren:f9,filter:d9,data:x9,enter:p9,exit:S9,join:w9,merge:A9,selection:kH,order:O9,sort:T9,call:M9,nodes:k9,node:D9,size:E9,empty:R9,each:_9,attr:H9,style:$9,property:F9,classed:Q9,text:eH,html:rH,raise:oH,lower:uH,append:cH,insert:fH,remove:pH,clone:yH,datum:vH,on:AH,dispatch:CH,[Symbol.iterator]:MH};function vn(n){return typeof n=="string"?new bn([[document.querySelector(n)]],[document.documentElement]):new bn([[n]],vk)}function DH(n){let t;for(;t=n.sourceEvent;)n=t;return n}function zi(n,t){if(n=DH(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}}return[n.pageX,n.pageY]}const EH={passive:!1},Fa={capture:!0,passive:!1};function Um(n){n.stopImmediatePropagation()}function Rl(n){n.preventDefault(),n.stopImmediatePropagation()}function xk(n){var t=n.document.documentElement,e=vn(n).on("dragstart.drag",Rl,Fa);"onselectstart"in t?e.on("selectstart.drag",Rl,Fa):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function bk(n,t){var e=n.document.documentElement,i=vn(n).on("dragstart.drag",null);t&&(i.on("click.drag",Rl,Fa),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const eh=n=>()=>n;function d0(n,{sourceEvent:t,subject:e,target:i,identifier:s,active:l,x:a,y:u,dx:h,dy:f,dispatch:p}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:p}})}d0.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function RH(n){return!n.ctrlKey&&!n.button}function _H(){return this.parentNode}function NH(n,t){return t??{x:n.x,y:n.y}}function BH(){return navigator.maxTouchPoints||"ontouchstart"in this}function LH(){var n=RH,t=_H,e=NH,i=BH,s={},l=cu("start","drag","end"),a=0,u,h,f,p,g=0;function y(M){M.on("mousedown.drag",x).filter(i).on("touchstart.drag",A).on("touchmove.drag",O,EH).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(M,D){if(!(p||!n.call(this,M,D))){var L=E(this,t.call(this,M,D),M,D,"mouse");L&&(vn(M.view).on("mousemove.drag",b,Fa).on("mouseup.drag",w,Fa),xk(M.view),Um(M),f=!1,u=M.clientX,h=M.clientY,L("start",M))}}function b(M){if(Rl(M),!f){var D=M.clientX-u,L=M.clientY-h;f=D*D+L*L>g}s.mouse("drag",M)}function w(M){vn(M.view).on("mousemove.drag mouseup.drag",null),bk(M.view,f),Rl(M),s.mouse("end",M)}function A(M,D){if(n.call(this,M,D)){var L=M.changedTouches,z=t.call(this,M,D),$=L.length,et,st;for(et=0;et<$;++et)(st=E(this,z,M,D,L[et].identifier,L[et]))&&(Um(M),st("start",M,L[et]))}}function O(M){var D=M.changedTouches,L=D.length,z,$;for(z=0;z<L;++z)($=s[D[z].identifier])&&(Rl(M),$("drag",M,D[z]))}function C(M){var D=M.changedTouches,L=D.length,z,$;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),z=0;z<L;++z)($=s[D[z].identifier])&&(Um(M),$("end",M,D[z]))}function E(M,D,L,z,$,et){var st=l.copy(),rt=zi(et||L,D),it,Y,B;if((B=e.call(M,new d0("beforestart",{sourceEvent:L,target:y,identifier:$,active:a,x:rt[0],y:rt[1],dx:0,dy:0,dispatch:st}),z))!=null)return it=B.x-rt[0]||0,Y=B.y-rt[1]||0,function Q(_,H,K){var nt=rt,k;switch(_){case"start":s[$]=Q,k=a++;break;case"end":delete s[$],--a;case"drag":rt=zi(K||H,D),k=a;break}st.call(_,M,new d0(_,{sourceEvent:H,subject:B,target:y,identifier:$,active:k,x:rt[0]+it,y:rt[1]+Y,dx:rt[0]-nt[0],dy:rt[1]-nt[1],dispatch:st}),z)}}return y.filter=function(M){return arguments.length?(n=typeof M=="function"?M:eh(!!M),y):n},y.container=function(M){return arguments.length?(t=typeof M=="function"?M:eh(M),y):t},y.subject=function(M){return arguments.length?(e=typeof M=="function"?M:eh(M),y):e},y.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:eh(!!M),y):i},y.on=function(){var M=l.on.apply(l,arguments);return M===l?y:M},y.clickDistance=function(M){return arguments.length?(g=(M=+M)*M,y):Math.sqrt(g)},y}function Hy(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function Sk(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function fu(){}var Ka=.7,af=1/Ka,_l="\\s*([+-]?\\d+)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zH=/^#([0-9a-f]{3,8})$/,VH=new RegExp(`^rgb\\(${_l},${_l},${_l}\\)$`),PH=new RegExp(`^rgb\\(${mi},${mi},${mi}\\)$`),HH=new RegExp(`^rgba\\(${_l},${_l},${_l},${Wa}\\)$`),qH=new RegExp(`^rgba\\(${mi},${mi},${mi},${Wa}\\)$`),UH=new RegExp(`^hsl\\(${Wa},${mi},${mi}\\)$`),jH=new RegExp(`^hsla\\(${Wa},${mi},${mi},${Wa}\\)$`),c2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hy(fu,Ia,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:h2,formatHex:h2,formatHex8:$H,formatHsl:XH,formatRgb:f2,toString:f2});function h2(){return this.rgb().formatHex()}function $H(){return this.rgb().formatHex8()}function XH(){return wk(this).formatHsl()}function f2(){return this.rgb().formatRgb()}function Ia(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=zH.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?d2(t):e===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?nh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?nh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VH.exec(n))?new sn(t[1],t[2],t[3],1):(t=PH.exec(n))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HH.exec(n))?nh(t[1],t[2],t[3],t[4]):(t=qH.exec(n))?nh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UH.exec(n))?g2(t[1],t[2]/100,t[3]/100,1):(t=jH.exec(n))?g2(t[1],t[2]/100,t[3]/100,t[4]):c2.hasOwnProperty(n)?d2(c2[n]):n==="transparent"?new sn(NaN,NaN,NaN,0):null}function d2(n){return new sn(n>>16&255,n>>8&255,n&255,1)}function nh(n,t,e,i){return i<=0&&(n=t=e=NaN),new sn(n,t,e,i)}function YH(n){return n instanceof fu||(n=Ia(n)),n?(n=n.rgb(),new sn(n.r,n.g,n.b,n.opacity)):new sn}function p0(n,t,e,i){return arguments.length===1?YH(n):new sn(n,t,e,i??1)}function sn(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}Hy(sn,p0,Sk(fu,{brighter(n){return n=n==null?af:Math.pow(af,n),new sn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Ka:Math.pow(Ka,n),new sn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new sn(xr(this.r),xr(this.g),xr(this.b),uf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p2,formatHex:p2,formatHex8:GH,formatRgb:m2,toString:m2}));function p2(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}`}function GH(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}${pr((isNaN(this.opacity)?1:this.opacity)*255)}`}function m2(){const n=uf(this.opacity);return`${n===1?"rgb(":"rgba("}${xr(this.r)}, ${xr(this.g)}, ${xr(this.b)}${n===1?")":`, ${n})`}`}function uf(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function xr(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function pr(n){return n=xr(n),(n<16?"0":"")+n.toString(16)}function g2(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Xn(n,t,e,i)}function wk(n){if(n instanceof Xn)return new Xn(n.h,n.s,n.l,n.opacity);if(n instanceof fu||(n=Ia(n)),!n)return new Xn;if(n instanceof Xn)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,s=Math.min(t,e,i),l=Math.max(t,e,i),a=NaN,u=l-s,h=(l+s)/2;return u?(t===l?a=(e-i)/u+(e<i)*6:e===l?a=(i-t)/u+2:a=(t-e)/u+4,u/=h<.5?l+s:2-l-s,a*=60):u=h>0&&h<1?0:a,new Xn(a,u,h,n.opacity)}function FH(n,t,e,i){return arguments.length===1?wk(n):new Xn(n,t,e,i??1)}function Xn(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}Hy(Xn,FH,Sk(fu,{brighter(n){return n=n==null?af:Math.pow(af,n),new Xn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Ka:Math.pow(Ka,n),new Xn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,s=2*e-i;return new sn(jm(n>=240?n-240:n+120,s,i),jm(n,s,i),jm(n<120?n+240:n-120,s,i),this.opacity)},clamp(){return new Xn(y2(this.h),ih(this.s),ih(this.l),uf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=uf(this.opacity);return`${n===1?"hsl(":"hsla("}${y2(this.h)}, ${ih(this.s)*100}%, ${ih(this.l)*100}%${n===1?")":`, ${n})`}`}}));function y2(n){return n=(n||0)%360,n<0?n+360:n}function ih(n){return Math.max(0,Math.min(1,n||0))}function jm(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const Ak=n=>()=>n;function KH(n,t){return function(e){return n+e*t}}function WH(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function IH(n){return(n=+n)==1?Ok:function(t,e){return e-t?WH(t,e,n):Ak(isNaN(t)?e:t)}}function Ok(n,t){var e=t-n;return e?KH(n,e):Ak(isNaN(n)?t:n)}const v2=function n(t){var e=IH(t);function i(s,l){var a=e((s=p0(s)).r,(l=p0(l)).r),u=e(s.g,l.g),h=e(s.b,l.b),f=Ok(s.opacity,l.opacity);return function(p){return s.r=a(p),s.g=u(p),s.b=h(p),s.opacity=f(p),s+""}}return i.gamma=n,i}(1);function Ss(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}var m0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$m=new RegExp(m0.source,"g");function QH(n){return function(){return n}}function ZH(n){return function(t){return n(t)+""}}function JH(n,t){var e=m0.lastIndex=$m.lastIndex=0,i,s,l,a=-1,u=[],h=[];for(n=n+"",t=t+"";(i=m0.exec(n))&&(s=$m.exec(t));)(l=s.index)>e&&(l=t.slice(e,l),u[a]?u[a]+=l:u[++a]=l),(i=i[0])===(s=s[0])?u[a]?u[a]+=s:u[++a]=s:(u[++a]=null,h.push({i:a,x:Ss(i,s)})),e=$m.lastIndex;return e<t.length&&(l=t.slice(e),u[a]?u[a]+=l:u[++a]=l),u.length<2?h[0]?ZH(h[0].x):QH(t):(t=h.length,function(f){for(var p=0,g;p<t;++p)u[(g=h[p]).i]=g.x(f);return u.join("")})}var x2=180/Math.PI,g0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tk(n,t,e,i,s,l){var a,u,h;return(a=Math.sqrt(n*n+t*t))&&(n/=a,t/=a),(h=n*e+t*i)&&(e-=n*h,i-=t*h),(u=Math.sqrt(e*e+i*i))&&(e/=u,i/=u,h/=u),n*i<t*e&&(n=-n,t=-t,h=-h,a=-a),{translateX:s,translateY:l,rotate:Math.atan2(t,n)*x2,skewX:Math.atan(h)*x2,scaleX:a,scaleY:u}}var sh;function tq(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?g0:Tk(t.a,t.b,t.c,t.d,t.e,t.f)}function eq(n){return n==null||(sh||(sh=document.createElementNS("http://www.w3.org/2000/svg","g")),sh.setAttribute("transform",n),!(n=sh.transform.baseVal.consolidate()))?g0:(n=n.matrix,Tk(n.a,n.b,n.c,n.d,n.e,n.f))}function Ck(n,t,e,i){function s(f){return f.length?f.pop()+" ":""}function l(f,p,g,y,x,b){if(f!==g||p!==y){var w=x.push("translate(",null,t,null,e);b.push({i:w-4,x:Ss(f,g)},{i:w-2,x:Ss(p,y)})}else(g||y)&&x.push("translate("+g+t+y+e)}function a(f,p,g,y){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),y.push({i:g.push(s(g)+"rotate(",null,i)-2,x:Ss(f,p)})):p&&g.push(s(g)+"rotate("+p+i)}function u(f,p,g,y){f!==p?y.push({i:g.push(s(g)+"skewX(",null,i)-2,x:Ss(f,p)}):p&&g.push(s(g)+"skewX("+p+i)}function h(f,p,g,y,x,b){if(f!==g||p!==y){var w=x.push(s(x)+"scale(",null,",",null,")");b.push({i:w-4,x:Ss(f,g)},{i:w-2,x:Ss(p,y)})}else(g!==1||y!==1)&&x.push(s(x)+"scale("+g+","+y+")")}return function(f,p){var g=[],y=[];return f=n(f),p=n(p),l(f.translateX,f.translateY,p.translateX,p.translateY,g,y),a(f.rotate,p.rotate,g,y),u(f.skewX,p.skewX,g,y),h(f.scaleX,f.scaleY,p.scaleX,p.scaleY,g,y),f=p=null,function(x){for(var b=-1,w=y.length,A;++b<w;)g[(A=y[b]).i]=A.x(x);return g.join("")}}}var nq=Ck(tq,"px, ","px)","deg)"),iq=Ck(eq,", ",")",")"),sq=1e-12;function b2(n){return((n=Math.exp(n))+1/n)/2}function rq(n){return((n=Math.exp(n))-1/n)/2}function lq(n){return((n=Math.exp(2*n))-1)/(n+1)}const oq=function n(t,e,i){function s(l,a){var u=l[0],h=l[1],f=l[2],p=a[0],g=a[1],y=a[2],x=p-u,b=g-h,w=x*x+b*b,A,O;if(w<sq)O=Math.log(y/f)/t,A=function(z){return[u+z*x,h+z*b,f*Math.exp(t*z*O)]};else{var C=Math.sqrt(w),E=(y*y-f*f+i*w)/(2*f*e*C),M=(y*y-f*f-i*w)/(2*y*e*C),D=Math.log(Math.sqrt(E*E+1)-E),L=Math.log(Math.sqrt(M*M+1)-M);O=(L-D)/t,A=function(z){var $=z*O,et=b2(D),st=f/(e*C)*(et*lq(t*$+D)-rq(D));return[u+st*x,h+st*b,f*et/b2(t*$+D)]}}return A.duration=O*1e3*t/Math.SQRT2,A}return s.rho=function(l){var a=Math.max(.001,+l),u=a*a,h=u*u;return n(a,u,h)},s}(Math.SQRT2,2,4);var $l=0,ha=0,sa=0,Mk=1e3,cf,fa,hf=0,Cr=0,Df=0,Qa=typeof performance=="object"&&performance.now?performance:Date,kk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function qy(){return Cr||(kk(aq),Cr=Qa.now()+Df)}function aq(){Cr=0}function ff(){this._call=this._time=this._next=null}ff.prototype=Uy.prototype={constructor:ff,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?qy():+e)+(t==null?0:+t),!this._next&&fa!==this&&(fa?fa._next=this:cf=this,fa=this),this._call=n,this._time=e,y0()},stop:function(){this._call&&(this._call=null,this._time=1/0,y0())}};function Uy(n,t,e){var i=new ff;return i.restart(n,t,e),i}function uq(){qy(),++$l;for(var n=cf,t;n;)(t=Cr-n._time)>=0&&n._call.call(void 0,t),n=n._next;--$l}function S2(){Cr=(hf=Qa.now())+Df,$l=ha=0;try{uq()}finally{$l=0,hq(),Cr=0}}function cq(){var n=Qa.now(),t=n-hf;t>Mk&&(Df-=t,hf=n)}function hq(){for(var n,t=cf,e,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:cf=e);fa=n,y0(i)}function y0(n){if(!$l){ha&&(ha=clearTimeout(ha));var t=n-Cr;t>24?(n<1/0&&(ha=setTimeout(S2,n-Qa.now()-Df)),sa&&(sa=clearInterval(sa))):(sa||(hf=Qa.now(),sa=setInterval(cq,Mk)),$l=1,kk(S2))}}function w2(n,t,e){var i=new ff;return t=t==null?0:+t,i.restart(s=>{i.stop(),n(s+t)},t,e),i}var fq=cu("start","end","cancel","interrupt"),dq=[],Dk=0,A2=1,v0=2,Oh=3,O2=4,x0=5,Th=6;function Ef(n,t,e,i,s,l){var a=n.__transition;if(!a)n.__transition={};else if(e in a)return;pq(n,e,{name:t,index:i,group:s,on:fq,tween:dq,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Dk})}function jy(n,t){var e=Wn(n,t);if(e.state>Dk)throw new Error("too late; already scheduled");return e}function xi(n,t){var e=Wn(n,t);if(e.state>Oh)throw new Error("too late; already running");return e}function Wn(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function pq(n,t,e){var i=n.__transition,s;i[t]=e,e.timer=Uy(l,0,e.time);function l(f){e.state=A2,e.timer.restart(a,e.delay,e.time),e.delay<=f&&a(f-e.delay)}function a(f){var p,g,y,x;if(e.state!==A2)return h();for(p in i)if(x=i[p],x.name===e.name){if(x.state===Oh)return w2(a);x.state===O2?(x.state=Th,x.timer.stop(),x.on.call("interrupt",n,n.__data__,x.index,x.group),delete i[p]):+p<t&&(x.state=Th,x.timer.stop(),x.on.call("cancel",n,n.__data__,x.index,x.group),delete i[p])}if(w2(function(){e.state===Oh&&(e.state=O2,e.timer.restart(u,e.delay,e.time),u(f))}),e.state=v0,e.on.call("start",n,n.__data__,e.index,e.group),e.state===v0){for(e.state=Oh,s=new Array(y=e.tween.length),p=0,g=-1;p<y;++p)(x=e.tween[p].value.call(n,n.__data__,e.index,e.group))&&(s[++g]=x);s.length=g+1}}function u(f){for(var p=f<e.duration?e.ease.call(null,f/e.duration):(e.timer.restart(h),e.state=x0,1),g=-1,y=s.length;++g<y;)s[g].call(n,p);e.state===x0&&(e.on.call("end",n,n.__data__,e.index,e.group),h())}function h(){e.state=Th,e.timer.stop(),delete i[t];for(var f in i)return;delete n.__transition}}function Ch(n,t){var e=n.__transition,i,s,l=!0,a;if(e){t=t==null?null:t+"";for(a in e){if((i=e[a]).name!==t){l=!1;continue}s=i.state>v0&&i.state<x0,i.state=Th,i.timer.stop(),i.on.call(s?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[a]}l&&delete n.__transition}}function mq(n){return this.each(function(){Ch(this,n)})}function gq(n,t){var e,i;return function(){var s=xi(this,n),l=s.tween;if(l!==e){i=e=l;for(var a=0,u=i.length;a<u;++a)if(i[a].name===t){i=i.slice(),i.splice(a,1);break}}s.tween=i}}function yq(n,t,e){var i,s;if(typeof e!="function")throw new Error;return function(){var l=xi(this,n),a=l.tween;if(a!==i){s=(i=a).slice();for(var u={name:t,value:e},h=0,f=s.length;h<f;++h)if(s[h].name===t){s[h]=u;break}h===f&&s.push(u)}l.tween=s}}function vq(n,t){var e=this._id;if(n+="",arguments.length<2){for(var i=Wn(this.node(),e).tween,s=0,l=i.length,a;s<l;++s)if((a=i[s]).name===n)return a.value;return null}return this.each((t==null?gq:yq)(e,n,t))}function $y(n,t,e){var i=n._id;return n.each(function(){var s=xi(this,i);(s.value||(s.value={}))[t]=e.apply(this,arguments)}),function(s){return Wn(s,i).value[t]}}function Ek(n,t){var e;return(typeof t=="number"?Ss:t instanceof Ia?v2:(e=Ia(t))?(t=e,v2):JH)(n,t)}function xq(n){return function(){this.removeAttribute(n)}}function bq(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Sq(n,t,e){var i,s=e+"",l;return function(){var a=this.getAttribute(n);return a===s?null:a===i?l:l=t(i=a,e)}}function wq(n,t,e){var i,s=e+"",l;return function(){var a=this.getAttributeNS(n.space,n.local);return a===s?null:a===i?l:l=t(i=a,e)}}function Aq(n,t,e){var i,s,l;return function(){var a,u=e(this),h;return u==null?void this.removeAttribute(n):(a=this.getAttribute(n),h=u+"",a===h?null:a===i&&h===s?l:(s=h,l=t(i=a,u)))}}function Oq(n,t,e){var i,s,l;return function(){var a,u=e(this),h;return u==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),h=u+"",a===h?null:a===i&&h===s?l:(s=h,l=t(i=a,u)))}}function Tq(n,t){var e=kf(n),i=e==="transform"?iq:Ek;return this.attrTween(n,typeof t=="function"?(e.local?Oq:Aq)(e,i,$y(this,"attr."+n,t)):t==null?(e.local?bq:xq)(e):(e.local?wq:Sq)(e,i,t))}function Cq(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function Mq(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function kq(n,t){var e,i;function s(){var l=t.apply(this,arguments);return l!==i&&(e=(i=l)&&Mq(n,l)),e}return s._value=t,s}function Dq(n,t){var e,i;function s(){var l=t.apply(this,arguments);return l!==i&&(e=(i=l)&&Cq(n,l)),e}return s._value=t,s}function Eq(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var i=kf(n);return this.tween(e,(i.local?kq:Dq)(i,t))}function Rq(n,t){return function(){jy(this,n).delay=+t.apply(this,arguments)}}function _q(n,t){return t=+t,function(){jy(this,n).delay=t}}function Nq(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?Rq:_q)(t,n)):Wn(this.node(),t).delay}function Bq(n,t){return function(){xi(this,n).duration=+t.apply(this,arguments)}}function Lq(n,t){return t=+t,function(){xi(this,n).duration=t}}function zq(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?Bq:Lq)(t,n)):Wn(this.node(),t).duration}function Vq(n,t){if(typeof t!="function")throw new Error;return function(){xi(this,n).ease=t}}function Pq(n){var t=this._id;return arguments.length?this.each(Vq(t,n)):Wn(this.node(),t).ease}function Hq(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;xi(this,n).ease=e}}function qq(n){if(typeof n!="function")throw new Error;return this.each(Hq(this._id,n))}function Uq(n){typeof n!="function"&&(n=uk(n));for(var t=this._groups,e=t.length,i=new Array(e),s=0;s<e;++s)for(var l=t[s],a=l.length,u=i[s]=[],h,f=0;f<a;++f)(h=l[f])&&n.call(h,h.__data__,f,l)&&u.push(h);return new Gi(i,this._parents,this._name,this._id)}function jq(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,s=e.length,l=Math.min(i,s),a=new Array(i),u=0;u<l;++u)for(var h=t[u],f=e[u],p=h.length,g=a[u]=new Array(p),y,x=0;x<p;++x)(y=h[x]||f[x])&&(g[x]=y);for(;u<i;++u)a[u]=t[u];return new Gi(a,this._parents,this._name,this._id)}function $q(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function Xq(n,t,e){var i,s,l=$q(t)?jy:xi;return function(){var a=l(this,n),u=a.on;u!==i&&(s=(i=u).copy()).on(t,e),a.on=s}}function Yq(n,t){var e=this._id;return arguments.length<2?Wn(this.node(),e).on.on(n):this.each(Xq(e,n,t))}function Gq(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function Fq(){return this.on("end.remove",Gq(this._id))}function Kq(n){var t=this._name,e=this._id;typeof n!="function"&&(n=Vy(n));for(var i=this._groups,s=i.length,l=new Array(s),a=0;a<s;++a)for(var u=i[a],h=u.length,f=l[a]=new Array(h),p,g,y=0;y<h;++y)(p=u[y])&&(g=n.call(p,p.__data__,y,u))&&("__data__"in p&&(g.__data__=p.__data__),f[y]=g,Ef(f[y],t,e,y,f,Wn(p,e)));return new Gi(l,this._parents,t,e)}function Wq(n){var t=this._name,e=this._id;typeof n!="function"&&(n=ak(n));for(var i=this._groups,s=i.length,l=[],a=[],u=0;u<s;++u)for(var h=i[u],f=h.length,p,g=0;g<f;++g)if(p=h[g]){for(var y=n.call(p,p.__data__,g,h),x,b=Wn(p,e),w=0,A=y.length;w<A;++w)(x=y[w])&&Ef(x,t,e,w,y,b);l.push(y),a.push(p)}return new Gi(l,a,t,e)}var Iq=hu.prototype.constructor;function Qq(){return new Iq(this._groups,this._parents)}function Zq(n,t){var e,i,s;return function(){var l=jl(this,n),a=(this.style.removeProperty(n),jl(this,n));return l===a?null:l===e&&a===i?s:s=t(e=l,i=a)}}function Rk(n){return function(){this.style.removeProperty(n)}}function Jq(n,t,e){var i,s=e+"",l;return function(){var a=jl(this,n);return a===s?null:a===i?l:l=t(i=a,e)}}function t7(n,t,e){var i,s,l;return function(){var a=jl(this,n),u=e(this),h=u+"";return u==null&&(h=u=(this.style.removeProperty(n),jl(this,n))),a===h?null:a===i&&h===s?l:(s=h,l=t(i=a,u))}}function e7(n,t){var e,i,s,l="style."+t,a="end."+l,u;return function(){var h=xi(this,n),f=h.on,p=h.value[l]==null?u||(u=Rk(t)):void 0;(f!==e||s!==p)&&(i=(e=f).copy()).on(a,s=p),h.on=i}}function n7(n,t,e){var i=(n+="")=="transform"?nq:Ek;return t==null?this.styleTween(n,Zq(n,i)).on("end.style."+n,Rk(n)):typeof t=="function"?this.styleTween(n,t7(n,i,$y(this,"style."+n,t))).each(e7(this._id,n)):this.styleTween(n,Jq(n,i,t),e).on("end.style."+n,null)}function i7(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}function s7(n,t,e){var i,s;function l(){var a=t.apply(this,arguments);return a!==s&&(i=(s=a)&&i7(n,a,e)),i}return l._value=t,l}function r7(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,s7(n,t,e??""))}function l7(n){return function(){this.textContent=n}}function o7(n){return function(){var t=n(this);this.textContent=t??""}}function a7(n){return this.tween("text",typeof n=="function"?o7($y(this,"text",n)):l7(n==null?"":n+""))}function u7(n){return function(t){this.textContent=n.call(this,t)}}function c7(n){var t,e;function i(){var s=n.apply(this,arguments);return s!==e&&(t=(e=s)&&u7(s)),t}return i._value=n,i}function h7(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,c7(n))}function f7(){for(var n=this._name,t=this._id,e=_k(),i=this._groups,s=i.length,l=0;l<s;++l)for(var a=i[l],u=a.length,h,f=0;f<u;++f)if(h=a[f]){var p=Wn(h,t);Ef(h,n,e,f,a,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Gi(i,this._parents,n,e)}function d7(){var n,t,e=this,i=e._id,s=e.size();return new Promise(function(l,a){var u={value:a},h={value:function(){--s===0&&l()}};e.each(function(){var f=xi(this,i),p=f.on;p!==n&&(t=(n=p).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(h)),f.on=t}),s===0&&l()})}var p7=0;function Gi(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function _k(){return++p7}var Li=hu.prototype;Gi.prototype={constructor:Gi,select:Kq,selectAll:Wq,selectChild:Li.selectChild,selectChildren:Li.selectChildren,filter:Uq,merge:jq,selection:Qq,transition:f7,call:Li.call,nodes:Li.nodes,node:Li.node,size:Li.size,empty:Li.empty,each:Li.each,on:Yq,attr:Tq,attrTween:Eq,style:n7,styleTween:r7,text:a7,textTween:h7,remove:Fq,tween:vq,delay:Nq,duration:zq,ease:Pq,easeVarying:qq,end:d7,[Symbol.iterator]:Li[Symbol.iterator]};function m7(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var g7={time:null,delay:0,duration:250,ease:m7};function y7(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function v7(n){var t,e;n instanceof Gi?(t=n._id,n=n._name):(t=_k(),(e=g7).time=qy(),n=n==null?null:n+"");for(var i=this._groups,s=i.length,l=0;l<s;++l)for(var a=i[l],u=a.length,h,f=0;f<u;++f)(h=a[f])&&Ef(h,n,t,f,a,e||y7(h,t));return new Gi(i,this._parents,n,t)}hu.prototype.interrupt=mq;hu.prototype.transition=v7;const b0=Math.PI,S0=2*b0,or=1e-6,x7=S0-or;function Nk(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function b7(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return Nk;const e=10**t;return function(i){this._+=i[0];for(let s=1,l=i.length;s<l;++s)this._+=Math.round(arguments[s]*e)/e+i[s]}}class S7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Nk:b7(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,s){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,e,i,s,l,a){this._append`C${+t},${+e},${+i},${+s},${this._x1=+l},${this._y1=+a}`}arcTo(t,e,i,s,l){if(t=+t,e=+e,i=+i,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let a=this._x1,u=this._y1,h=i-t,f=s-e,p=a-t,g=u-e,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(y>or)if(!(Math.abs(g*h-f*p)>or)||!l)this._append`L${this._x1=t},${this._y1=e}`;else{let x=i-a,b=s-u,w=h*h+f*f,A=x*x+b*b,O=Math.sqrt(w),C=Math.sqrt(y),E=l*Math.tan((b0-Math.acos((w+y-A)/(2*O*C)))/2),M=E/C,D=E/O;Math.abs(M-1)>or&&this._append`L${t+M*p},${e+M*g}`,this._append`A${l},${l},0,0,${+(g*x>p*b)},${this._x1=t+D*h},${this._y1=e+D*f}`}}arc(t,e,i,s,l,a){if(t=+t,e=+e,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let u=i*Math.cos(s),h=i*Math.sin(s),f=t+u,p=e+h,g=1^a,y=a?s-l:l-s;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>or||Math.abs(this._y1-p)>or)&&this._append`L${f},${p}`,i&&(y<0&&(y=y%S0+S0),y>x7?this._append`A${i},${i},0,1,${g},${t-u},${e-h}A${i},${i},0,1,${g},${this._x1=f},${this._y1=p}`:y>or&&this._append`A${i},${i},0,${+(y>=b0)},${g},${this._x1=t+i*Math.cos(l)},${this._y1=e+i*Math.sin(l)}`)}rect(t,e,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function w7(n,t){var e,i=1;n==null&&(n=0),t==null&&(t=0);function s(){var l,a=e.length,u,h=0,f=0;for(l=0;l<a;++l)u=e[l],h+=u.x,f+=u.y;for(h=(h/a-n)*i,f=(f/a-t)*i,l=0;l<a;++l)u=e[l],u.x-=h,u.y-=f}return s.initialize=function(l){e=l},s.x=function(l){return arguments.length?(n=+l,s):n},s.y=function(l){return arguments.length?(t=+l,s):t},s.strength=function(l){return arguments.length?(i=+l,s):i},s}function A7(n){const t=+this._x.call(null,n),e=+this._y.call(null,n);return Bk(this.cover(t,e),t,e,n)}function Bk(n,t,e,i){if(isNaN(t)||isNaN(e))return n;var s,l=n._root,a={data:i},u=n._x0,h=n._y0,f=n._x1,p=n._y1,g,y,x,b,w,A,O,C;if(!l)return n._root=a,n;for(;l.length;)if((w=t>=(g=(u+f)/2))?u=g:f=g,(A=e>=(y=(h+p)/2))?h=y:p=y,s=l,!(l=l[O=A<<1|w]))return s[O]=a,n;if(x=+n._x.call(null,l.data),b=+n._y.call(null,l.data),t===x&&e===b)return a.next=l,s?s[O]=a:n._root=a,n;do s=s?s[O]=new Array(4):n._root=new Array(4),(w=t>=(g=(u+f)/2))?u=g:f=g,(A=e>=(y=(h+p)/2))?h=y:p=y;while((O=A<<1|w)===(C=(b>=y)<<1|x>=g));return s[C]=l,s[O]=a,n}function O7(n){var t,e,i=n.length,s,l,a=new Array(i),u=new Array(i),h=1/0,f=1/0,p=-1/0,g=-1/0;for(e=0;e<i;++e)isNaN(s=+this._x.call(null,t=n[e]))||isNaN(l=+this._y.call(null,t))||(a[e]=s,u[e]=l,s<h&&(h=s),s>p&&(p=s),l<f&&(f=l),l>g&&(g=l));if(h>p||f>g)return this;for(this.cover(h,f).cover(p,g),e=0;e<i;++e)Bk(this,a[e],u[e],n[e]);return this}function T7(n,t){if(isNaN(n=+n)||isNaN(t=+t))return this;var e=this._x0,i=this._y0,s=this._x1,l=this._y1;if(isNaN(e))s=(e=Math.floor(n))+1,l=(i=Math.floor(t))+1;else{for(var a=s-e||1,u=this._root,h,f;e>n||n>=s||i>t||t>=l;)switch(f=(t<i)<<1|n<e,h=new Array(4),h[f]=u,u=h,a*=2,f){case 0:s=e+a,l=i+a;break;case 1:e=s-a,l=i+a;break;case 2:s=e+a,i=l-a;break;case 3:e=s-a,i=l-a;break}this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._y0=i,this._x1=s,this._y1=l,this}function C7(){var n=[];return this.visit(function(t){if(!t.length)do n.push(t.data);while(t=t.next)}),n}function M7(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ue(n,t,e,i,s){this.node=n,this.x0=t,this.y0=e,this.x1=i,this.y1=s}function k7(n,t,e){var i,s=this._x0,l=this._y0,a,u,h,f,p=this._x1,g=this._y1,y=[],x=this._root,b,w;for(x&&y.push(new Ue(x,s,l,p,g)),e==null?e=1/0:(s=n-e,l=t-e,p=n+e,g=t+e,e*=e);b=y.pop();)if(!(!(x=b.node)||(a=b.x0)>p||(u=b.y0)>g||(h=b.x1)<s||(f=b.y1)<l))if(x.length){var A=(a+h)/2,O=(u+f)/2;y.push(new Ue(x[3],A,O,h,f),new Ue(x[2],a,O,A,f),new Ue(x[1],A,u,h,O),new Ue(x[0],a,u,A,O)),(w=(t>=O)<<1|n>=A)&&(b=y[y.length-1],y[y.length-1]=y[y.length-1-w],y[y.length-1-w]=b)}else{var C=n-+this._x.call(null,x.data),E=t-+this._y.call(null,x.data),M=C*C+E*E;if(M<e){var D=Math.sqrt(e=M);s=n-D,l=t-D,p=n+D,g=t+D,i=x.data}}return i}function D7(n){if(isNaN(p=+this._x.call(null,n))||isNaN(g=+this._y.call(null,n)))return this;var t,e=this._root,i,s,l,a=this._x0,u=this._y0,h=this._x1,f=this._y1,p,g,y,x,b,w,A,O;if(!e)return this;if(e.length)for(;;){if((b=p>=(y=(a+h)/2))?a=y:h=y,(w=g>=(x=(u+f)/2))?u=x:f=x,t=e,!(e=e[A=w<<1|b]))return this;if(!e.length)break;(t[A+1&3]||t[A+2&3]||t[A+3&3])&&(i=t,O=A)}for(;e.data!==n;)if(s=e,!(e=e.next))return this;return(l=e.next)&&delete e.next,s?(l?s.next=l:delete s.next,this):t?(l?t[A]=l:delete t[A],(e=t[0]||t[1]||t[2]||t[3])&&e===(t[3]||t[2]||t[1]||t[0])&&!e.length&&(i?i[O]=e:this._root=e),this):(this._root=l,this)}function E7(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this}function R7(){return this._root}function _7(){var n=0;return this.visit(function(t){if(!t.length)do++n;while(t=t.next)}),n}function N7(n){var t=[],e,i=this._root,s,l,a,u,h;for(i&&t.push(new Ue(i,this._x0,this._y0,this._x1,this._y1));e=t.pop();)if(!n(i=e.node,l=e.x0,a=e.y0,u=e.x1,h=e.y1)&&i.length){var f=(l+u)/2,p=(a+h)/2;(s=i[3])&&t.push(new Ue(s,f,p,u,h)),(s=i[2])&&t.push(new Ue(s,l,p,f,h)),(s=i[1])&&t.push(new Ue(s,f,a,u,p)),(s=i[0])&&t.push(new Ue(s,l,a,f,p))}return this}function B7(n){var t=[],e=[],i;for(this._root&&t.push(new Ue(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var s=i.node;if(s.length){var l,a=i.x0,u=i.y0,h=i.x1,f=i.y1,p=(a+h)/2,g=(u+f)/2;(l=s[0])&&t.push(new Ue(l,a,u,p,g)),(l=s[1])&&t.push(new Ue(l,p,u,h,g)),(l=s[2])&&t.push(new Ue(l,a,g,p,f)),(l=s[3])&&t.push(new Ue(l,p,g,h,f))}e.push(i)}for(;i=e.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function L7(n){return n[0]}function z7(n){return arguments.length?(this._x=n,this):this._x}function V7(n){return n[1]}function P7(n){return arguments.length?(this._y=n,this):this._y}function Xy(n,t,e){var i=new Yy(t??L7,e??V7,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function Yy(n,t,e,i,s,l){this._x=n,this._y=t,this._x0=e,this._y0=i,this._x1=s,this._y1=l,this._root=void 0}function T2(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var Ye=Xy.prototype=Yy.prototype;Ye.copy=function(){var n=new Yy(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,e,i;if(!t)return n;if(!t.length)return n._root=T2(t),n;for(e=[{source:t,target:n._root=new Array(4)}];t=e.pop();)for(var s=0;s<4;++s)(i=t.source[s])&&(i.length?e.push({source:i,target:t.target[s]=new Array(4)}):t.target[s]=T2(i));return n};Ye.add=A7;Ye.addAll=O7;Ye.cover=T7;Ye.data=C7;Ye.extent=M7;Ye.find=k7;Ye.remove=D7;Ye.removeAll=E7;Ye.root=R7;Ye.size=_7;Ye.visit=N7;Ye.visitAfter=B7;Ye.x=z7;Ye.y=P7;function br(n){return function(){return n}}function Ms(n){return(n()-.5)*1e-6}function H7(n){return n.x+n.vx}function q7(n){return n.y+n.vy}function U7(n){var t,e,i,s=1,l=1;typeof n!="function"&&(n=br(n==null?1:+n));function a(){for(var f,p=t.length,g,y,x,b,w,A,O=0;O<l;++O)for(g=Xy(t,H7,q7).visitAfter(u),f=0;f<p;++f)y=t[f],w=e[y.index],A=w*w,x=y.x+y.vx,b=y.y+y.vy,g.visit(C);function C(E,M,D,L,z){var $=E.data,et=E.r,st=w+et;if($){if($.index>y.index){var rt=x-$.x-$.vx,it=b-$.y-$.vy,Y=rt*rt+it*it;Y<st*st&&(rt===0&&(rt=Ms(i),Y+=rt*rt),it===0&&(it=Ms(i),Y+=it*it),Y=(st-(Y=Math.sqrt(Y)))/Y*s,y.vx+=(rt*=Y)*(st=(et*=et)/(A+et)),y.vy+=(it*=Y)*st,$.vx-=rt*(st=1-st),$.vy-=it*st)}return}return M>x+st||L<x-st||D>b+st||z<b-st}}function u(f){if(f.data)return f.r=e[f.data.index];for(var p=f.r=0;p<4;++p)f[p]&&f[p].r>f.r&&(f.r=f[p].r)}function h(){if(t){var f,p=t.length,g;for(e=new Array(p),f=0;f<p;++f)g=t[f],e[g.index]=+n(g,f,t)}}return a.initialize=function(f,p){t=f,i=p,h()},a.iterations=function(f){return arguments.length?(l=+f,a):l},a.strength=function(f){return arguments.length?(s=+f,a):s},a.radius=function(f){return arguments.length?(n=typeof f=="function"?f:br(+f),h(),a):n},a}function j7(n){return n.index}function C2(n,t){var e=n.get(t);if(!e)throw new Error("node not found: "+t);return e}function $7(n){var t=j7,e=g,i,s=br(30),l,a,u,h,f,p=1;n==null&&(n=[]);function g(A){return 1/Math.min(u[A.source.index],u[A.target.index])}function y(A){for(var O=0,C=n.length;O<p;++O)for(var E=0,M,D,L,z,$,et,st;E<C;++E)M=n[E],D=M.source,L=M.target,z=L.x+L.vx-D.x-D.vx||Ms(f),$=L.y+L.vy-D.y-D.vy||Ms(f),et=Math.sqrt(z*z+$*$),et=(et-l[E])/et*A*i[E],z*=et,$*=et,L.vx-=z*(st=h[E]),L.vy-=$*st,D.vx+=z*(st=1-st),D.vy+=$*st}function x(){if(a){var A,O=a.length,C=n.length,E=new Map(a.map((D,L)=>[t(D,L,a),D])),M;for(A=0,u=new Array(O);A<C;++A)M=n[A],M.index=A,typeof M.source!="object"&&(M.source=C2(E,M.source)),typeof M.target!="object"&&(M.target=C2(E,M.target)),u[M.source.index]=(u[M.source.index]||0)+1,u[M.target.index]=(u[M.target.index]||0)+1;for(A=0,h=new Array(C);A<C;++A)M=n[A],h[A]=u[M.source.index]/(u[M.source.index]+u[M.target.index]);i=new Array(C),b(),l=new Array(C),w()}}function b(){if(a)for(var A=0,O=n.length;A<O;++A)i[A]=+e(n[A],A,n)}function w(){if(a)for(var A=0,O=n.length;A<O;++A)l[A]=+s(n[A],A,n)}return y.initialize=function(A,O){a=A,f=O,x()},y.links=function(A){return arguments.length?(n=A,x(),y):n},y.id=function(A){return arguments.length?(t=A,y):t},y.iterations=function(A){return arguments.length?(p=+A,y):p},y.strength=function(A){return arguments.length?(e=typeof A=="function"?A:br(+A),b(),y):e},y.distance=function(A){return arguments.length?(s=typeof A=="function"?A:br(+A),w(),y):s},y}const X7=1664525,Y7=1013904223,M2=4294967296;function G7(){let n=1;return()=>(n=(X7*n+Y7)%M2)/M2}function F7(n){return n.x}function K7(n){return n.y}var W7=10,I7=Math.PI*(3-Math.sqrt(5));function Q7(n){var t,e=1,i=.001,s=1-Math.pow(i,1/300),l=0,a=.6,u=new Map,h=Uy(g),f=cu("tick","end"),p=G7();n==null&&(n=[]);function g(){y(),f.call("tick",t),e<i&&(h.stop(),f.call("end",t))}function y(w){var A,O=n.length,C;w===void 0&&(w=1);for(var E=0;E<w;++E)for(e+=(l-e)*s,u.forEach(function(M){M(e)}),A=0;A<O;++A)C=n[A],C.fx==null?C.x+=C.vx*=a:(C.x=C.fx,C.vx=0),C.fy==null?C.y+=C.vy*=a:(C.y=C.fy,C.vy=0);return t}function x(){for(var w=0,A=n.length,O;w<A;++w){if(O=n[w],O.index=w,O.fx!=null&&(O.x=O.fx),O.fy!=null&&(O.y=O.fy),isNaN(O.x)||isNaN(O.y)){var C=W7*Math.sqrt(.5+w),E=w*I7;O.x=C*Math.cos(E),O.y=C*Math.sin(E)}(isNaN(O.vx)||isNaN(O.vy))&&(O.vx=O.vy=0)}}function b(w){return w.initialize&&w.initialize(n,p),w}return x(),t={tick:y,restart:function(){return h.restart(g),t},stop:function(){return h.stop(),t},nodes:function(w){return arguments.length?(n=w,x(),u.forEach(b),t):n},alpha:function(w){return arguments.length?(e=+w,t):e},alphaMin:function(w){return arguments.length?(i=+w,t):i},alphaDecay:function(w){return arguments.length?(s=+w,t):+s},alphaTarget:function(w){return arguments.length?(l=+w,t):l},velocityDecay:function(w){return arguments.length?(a=1-w,t):1-a},randomSource:function(w){return arguments.length?(p=w,u.forEach(b),t):p},force:function(w,A){return arguments.length>1?(A==null?u.delete(w):u.set(w,b(A)),t):u.get(w)},find:function(w,A,O){var C=0,E=n.length,M,D,L,z,$;for(O==null?O=1/0:O*=O,C=0;C<E;++C)z=n[C],M=w-z.x,D=A-z.y,L=M*M+D*D,L<O&&($=z,O=L);return $},on:function(w,A){return arguments.length>1?(f.on(w,A),t):f.on(w)}}}function Z7(){var n,t,e,i,s=br(-30),l,a=1,u=1/0,h=.81;function f(x){var b,w=n.length,A=Xy(n,F7,K7).visitAfter(g);for(i=x,b=0;b<w;++b)t=n[b],A.visit(y)}function p(){if(n){var x,b=n.length,w;for(l=new Array(b),x=0;x<b;++x)w=n[x],l[w.index]=+s(w,x,n)}}function g(x){var b=0,w,A,O=0,C,E,M;if(x.length){for(C=E=M=0;M<4;++M)(w=x[M])&&(A=Math.abs(w.value))&&(b+=w.value,O+=A,C+=A*w.x,E+=A*w.y);x.x=C/O,x.y=E/O}else{w=x,w.x=w.data.x,w.y=w.data.y;do b+=l[w.data.index];while(w=w.next)}x.value=b}function y(x,b,w,A){if(!x.value)return!0;var O=x.x-t.x,C=x.y-t.y,E=A-b,M=O*O+C*C;if(E*E/h<M)return M<u&&(O===0&&(O=Ms(e),M+=O*O),C===0&&(C=Ms(e),M+=C*C),M<a&&(M=Math.sqrt(a*M)),t.vx+=O*x.value*i/M,t.vy+=C*x.value*i/M),!0;if(x.length||M>=u)return;(x.data!==t||x.next)&&(O===0&&(O=Ms(e),M+=O*O),C===0&&(C=Ms(e),M+=C*C),M<a&&(M=Math.sqrt(a*M)));do x.data!==t&&(E=l[x.data.index]*i/M,t.vx+=O*E,t.vy+=C*E);while(x=x.next)}return f.initialize=function(x,b){n=x,e=b,p()},f.strength=function(x){return arguments.length?(s=typeof x=="function"?x:br(+x),p(),f):s},f.distanceMin=function(x){return arguments.length?(a=x*x,f):Math.sqrt(a)},f.distanceMax=function(x){return arguments.length?(u=x*x,f):Math.sqrt(u)},f.theta=function(x){return arguments.length?(h=x*x,f):Math.sqrt(h)},f}function J7(n){var t=0,e=n.children,i=e&&e.length;if(!i)t=1;else for(;--i>=0;)t+=e[i].value;n.value=t}function tU(){return this.eachAfter(J7)}function eU(n,t){let e=-1;for(const i of this)n.call(t,i,++e,this);return this}function nU(n,t){for(var e=this,i=[e],s,l,a=-1;e=i.pop();)if(n.call(t,e,++a,this),s=e.children)for(l=s.length-1;l>=0;--l)i.push(s[l]);return this}function iU(n,t){for(var e=this,i=[e],s=[],l,a,u,h=-1;e=i.pop();)if(s.push(e),l=e.children)for(a=0,u=l.length;a<u;++a)i.push(l[a]);for(;e=s.pop();)n.call(t,e,++h,this);return this}function sU(n,t){let e=-1;for(const i of this)if(n.call(t,i,++e,this))return i}function rU(n){return this.eachAfter(function(t){for(var e=+n(t.data)||0,i=t.children,s=i&&i.length;--s>=0;)e+=i[s].value;t.value=e})}function lU(n){return this.eachBefore(function(t){t.children&&t.children.sort(n)})}function oU(n){for(var t=this,e=aU(t,n),i=[t];t!==e;)t=t.parent,i.push(t);for(var s=i.length;n!==e;)i.splice(s,0,n),n=n.parent;return i}function aU(n,t){if(n===t)return n;var e=n.ancestors(),i=t.ancestors(),s=null;for(n=e.pop(),t=i.pop();n===t;)s=n,n=e.pop(),t=i.pop();return s}function uU(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t}function cU(){return Array.from(this)}function hU(){var n=[];return this.eachBefore(function(t){t.children||n.push(t)}),n}function fU(){var n=this,t=[];return n.each(function(e){e!==n&&t.push({source:e.parent,target:e})}),t}function*dU(){var n=this,t,e=[n],i,s,l;do for(t=e.reverse(),e=[];n=t.pop();)if(yield n,i=n.children)for(s=0,l=i.length;s<l;++s)e.push(i[s]);while(e.length)}function Gy(n,t){n instanceof Map?(n=[void 0,n],t===void 0&&(t=gU)):t===void 0&&(t=mU);for(var e=new Za(n),i,s=[e],l,a,u,h;i=s.pop();)if((a=t(i.data))&&(h=(a=Array.from(a)).length))for(i.children=a,u=h-1;u>=0;--u)s.push(l=a[u]=new Za(a[u])),l.parent=i,l.depth=i.depth+1;return e.eachBefore(vU)}function pU(){return Gy(this).eachBefore(yU)}function mU(n){return n.children}function gU(n){return Array.isArray(n)?n[1]:null}function yU(n){n.data.value!==void 0&&(n.value=n.data.value),n.data=n.data.data}function vU(n){var t=0;do n.height=t;while((n=n.parent)&&n.height<++t)}function Za(n){this.data=n,this.depth=this.height=0,this.parent=null}Za.prototype=Gy.prototype={constructor:Za,count:tU,each:eU,eachAfter:iU,eachBefore:nU,find:sU,sum:rU,sort:lU,path:oU,ancestors:uU,descendants:cU,leaves:hU,links:fU,copy:pU,[Symbol.iterator]:dU};function xU(n,t){return n.parent===t.parent?1:2}function Xm(n){var t=n.children;return t?t[0]:n.t}function Ym(n){var t=n.children;return t?t[t.length-1]:n.t}function bU(n,t,e){var i=e/(t.i-n.i);t.c-=i,t.s+=e,n.c+=i,t.z+=e,t.m+=e}function SU(n){for(var t=0,e=0,i=n.children,s=i.length,l;--s>=0;)l=i[s],l.z+=t,l.m+=t,t+=l.s+(e+=l.c)}function wU(n,t,e){return n.a.parent===t.parent?n.a:e}function Mh(n,t){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Mh.prototype=Object.create(Za.prototype);function AU(n){for(var t=new Mh(n,0),e,i=[t],s,l,a,u;e=i.pop();)if(l=e._.children)for(e.children=new Array(u=l.length),a=u-1;a>=0;--a)i.push(s=e.children[a]=new Mh(l[a],a)),s.parent=e;return(t.parent=new Mh(null,0)).children=[t],t}function OU(){var n=xU,t=1,e=1,i=null;function s(f){var p=AU(f);if(p.eachAfter(l),p.parent.m=-p.z,p.eachBefore(a),i)f.eachBefore(h);else{var g=f,y=f,x=f;f.eachBefore(function(C){C.x<g.x&&(g=C),C.x>y.x&&(y=C),C.depth>x.depth&&(x=C)});var b=g===y?1:n(g,y)/2,w=b-g.x,A=t/(y.x+b+w),O=e/(x.depth||1);f.eachBefore(function(C){C.x=(C.x+w)*A,C.y=C.depth*O})}return f}function l(f){var p=f.children,g=f.parent.children,y=f.i?g[f.i-1]:null;if(p){SU(f);var x=(p[0].z+p[p.length-1].z)/2;y?(f.z=y.z+n(f._,y._),f.m=f.z-x):f.z=x}else y&&(f.z=y.z+n(f._,y._));f.parent.A=u(f,y,f.parent.A||g[0])}function a(f){f._.x=f.z+f.parent.m,f.m+=f.parent.m}function u(f,p,g){if(p){for(var y=f,x=f,b=p,w=y.parent.children[0],A=y.m,O=x.m,C=b.m,E=w.m,M;b=Ym(b),y=Xm(y),b&&y;)w=Xm(w),x=Ym(x),x.a=f,M=b.z+C-y.z-A+n(b._,y._),M>0&&(bU(wU(b,f,g),f,M),A+=M,O+=M),C+=b.m,A+=y.m,E+=w.m,O+=x.m;b&&!Ym(x)&&(x.t=b,x.m+=C-O),y&&!Xm(w)&&(w.t=y,w.m+=A-E,g=f)}return g}function h(f){f.x*=t,f.y=f.depth*e}return s.separation=function(f){return arguments.length?(n=f,s):n},s.size=function(f){return arguments.length?(i=!1,t=+f[0],e=+f[1],s):i?null:[t,e]},s.nodeSize=function(f){return arguments.length?(i=!0,t=+f[0],e=+f[1],s):i?[t,e]:null},s}function TU(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const k2=Symbol("implicit");function Lk(){var n=new l2,t=[],e=[],i=k2;function s(l){let a=n.get(l);if(a===void 0){if(i!==k2)return i;n.set(l,a=t.push(l)-1)}return e[a%e.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],n=new l2;for(const a of l)n.has(a)||n.set(a,t.push(a)-1);return s},s.range=function(l){return arguments.length?(e=Array.from(l),s):e.slice()},s.unknown=function(l){return arguments.length?(i=l,s):i},s.copy=function(){return Lk(t,e).unknown(i)},TU.apply(s,arguments),s}function D2(n){return function(){return n}}function CU(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return n},()=>new S7(t)}var MU=Array.prototype.slice;function kU(n){return n[0]}function DU(n){return n[1]}class EU{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}function RU(n){return new EU(n,!0)}function _U(n){return n.source}function NU(n){return n.target}function BU(n){let t=_U,e=NU,i=kU,s=DU,l=null,a=null,u=CU(h);function h(){let f;const p=MU.call(arguments),g=t.apply(this,p),y=e.apply(this,p);if(l==null&&(a=n(f=u())),a.lineStart(),p[0]=g,a.point(+i.apply(this,p),+s.apply(this,p)),p[0]=y,a.point(+i.apply(this,p),+s.apply(this,p)),a.lineEnd(),f)return a=null,f+""||null}return h.source=function(f){return arguments.length?(t=f,h):t},h.target=function(f){return arguments.length?(e=f,h):e},h.x=function(f){return arguments.length?(i=typeof f=="function"?f:D2(+f),h):i},h.y=function(f){return arguments.length?(s=typeof f=="function"?f:D2(+f),h):s},h.context=function(f){return arguments.length?(f==null?l=a=null:a=n(l=f),h):l},h}function Gm(){return BU(RU)}const rh=n=>()=>n;function LU(n,{sourceEvent:t,target:e,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Hi(n,t,e){this.k=n,this.x=t,this.y=e}Hi.prototype={constructor:Hi,scale:function(n){return n===1?this:new Hi(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new Hi(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fy=new Hi(1,0,0);Hi.prototype;function Fm(n){n.stopImmediatePropagation()}function ra(n){n.preventDefault(),n.stopImmediatePropagation()}function zU(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function VU(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function E2(){return this.__zoom||Fy}function PU(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function HU(){return navigator.maxTouchPoints||"ontouchstart"in this}function qU(n,t,e){var i=n.invertX(t[0][0])-e[0][0],s=n.invertX(t[1][0])-e[1][0],l=n.invertY(t[0][1])-e[0][1],a=n.invertY(t[1][1])-e[1][1];return n.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a))}function zk(){var n=zU,t=VU,e=qU,i=PU,s=HU,l=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,h=oq,f=cu("start","zoom","end"),p,g,y,x=500,b=150,w=0,A=10;function O(B){B.property("__zoom",E2).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",et).on("dblclick.zoom",st).filter(s).on("touchstart.zoom",rt).on("touchmove.zoom",it).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function(B,Q,_,H){var K=B.selection?B.selection():B;K.property("__zoom",E2),B!==K?D(B,Q,_,H):K.interrupt().each(function(){L(this,arguments).event(H).start().zoom(null,typeof Q=="function"?Q.apply(this,arguments):Q).end()})},O.scaleBy=function(B,Q,_,H){O.scaleTo(B,function(){var K=this.__zoom.k,nt=typeof Q=="function"?Q.apply(this,arguments):Q;return K*nt},_,H)},O.scaleTo=function(B,Q,_,H){O.transform(B,function(){var K=t.apply(this,arguments),nt=this.__zoom,k=_==null?M(K):typeof _=="function"?_.apply(this,arguments):_,X=nt.invert(k),Z=typeof Q=="function"?Q.apply(this,arguments):Q;return e(E(C(nt,Z),k,X),K,a)},_,H)},O.translateBy=function(B,Q,_,H){O.transform(B,function(){return e(this.__zoom.translate(typeof Q=="function"?Q.apply(this,arguments):Q,typeof _=="function"?_.apply(this,arguments):_),t.apply(this,arguments),a)},null,H)},O.translateTo=function(B,Q,_,H,K){O.transform(B,function(){var nt=t.apply(this,arguments),k=this.__zoom,X=H==null?M(nt):typeof H=="function"?H.apply(this,arguments):H;return e(Fy.translate(X[0],X[1]).scale(k.k).translate(typeof Q=="function"?-Q.apply(this,arguments):-Q,typeof _=="function"?-_.apply(this,arguments):-_),nt,a)},H,K)};function C(B,Q){return Q=Math.max(l[0],Math.min(l[1],Q)),Q===B.k?B:new Hi(Q,B.x,B.y)}function E(B,Q,_){var H=Q[0]-_[0]*B.k,K=Q[1]-_[1]*B.k;return H===B.x&&K===B.y?B:new Hi(B.k,H,K)}function M(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function D(B,Q,_,H){B.on("start.zoom",function(){L(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(H).end()}).tween("zoom",function(){var K=this,nt=arguments,k=L(K,nt).event(H),X=t.apply(K,nt),Z=_==null?M(X):typeof _=="function"?_.apply(K,nt):_,tt=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),ot=K.__zoom,gt=typeof Q=="function"?Q.apply(K,nt):Q,dt=h(ot.invert(Z).concat(tt/ot.k),gt.invert(Z).concat(tt/gt.k));return function(Pt){if(Pt===1)Pt=gt;else{var Dt=dt(Pt),Sn=tt/Dt[2];Pt=new Hi(Sn,Z[0]-Dt[0]*Sn,Z[1]-Dt[1]*Sn)}k.zoom(null,Pt)}})}function L(B,Q,_){return!_&&B.__zooming||new z(B,Q)}function z(B,Q){this.that=B,this.args=Q,this.active=0,this.sourceEvent=null,this.extent=t.apply(B,Q),this.taps=0}z.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,Q){return this.mouse&&B!=="mouse"&&(this.mouse[1]=Q.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=Q.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=Q.invert(this.touch1[0])),this.that.__zoom=Q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var Q=vn(this.that).datum();f.call(B,this.that,new LU(B,{sourceEvent:this.sourceEvent,target:O,transform:this.that.__zoom,dispatch:f}),Q)}};function $(B,...Q){if(!n.apply(this,arguments))return;var _=L(this,Q).event(B),H=this.__zoom,K=Math.max(l[0],Math.min(l[1],H.k*Math.pow(2,i.apply(this,arguments)))),nt=zi(B);if(_.wheel)(_.mouse[0][0]!==nt[0]||_.mouse[0][1]!==nt[1])&&(_.mouse[1]=H.invert(_.mouse[0]=nt)),clearTimeout(_.wheel);else{if(H.k===K)return;_.mouse=[nt,H.invert(nt)],Ch(this),_.start()}ra(B),_.wheel=setTimeout(k,b),_.zoom("mouse",e(E(C(H,K),_.mouse[0],_.mouse[1]),_.extent,a));function k(){_.wheel=null,_.end()}}function et(B,...Q){if(y||!n.apply(this,arguments))return;var _=B.currentTarget,H=L(this,Q,!0).event(B),K=vn(B.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",tt,!0),nt=zi(B,_),k=B.clientX,X=B.clientY;xk(B.view),Fm(B),H.mouse=[nt,this.__zoom.invert(nt)],Ch(this),H.start();function Z(ot){if(ra(ot),!H.moved){var gt=ot.clientX-k,dt=ot.clientY-X;H.moved=gt*gt+dt*dt>w}H.event(ot).zoom("mouse",e(E(H.that.__zoom,H.mouse[0]=zi(ot,_),H.mouse[1]),H.extent,a))}function tt(ot){K.on("mousemove.zoom mouseup.zoom",null),bk(ot.view,H.moved),ra(ot),H.event(ot).end()}}function st(B,...Q){if(n.apply(this,arguments)){var _=this.__zoom,H=zi(B.changedTouches?B.changedTouches[0]:B,this),K=_.invert(H),nt=_.k*(B.shiftKey?.5:2),k=e(E(C(_,nt),H,K),t.apply(this,Q),a);ra(B),u>0?vn(this).transition().duration(u).call(D,k,H,B):vn(this).call(O.transform,k,H,B)}}function rt(B,...Q){if(n.apply(this,arguments)){var _=B.touches,H=_.length,K=L(this,Q,B.changedTouches.length===H).event(B),nt,k,X,Z;for(Fm(B),k=0;k<H;++k)X=_[k],Z=zi(X,this),Z=[Z,this.__zoom.invert(Z),X.identifier],K.touch0?!K.touch1&&K.touch0[2]!==Z[2]&&(K.touch1=Z,K.taps=0):(K.touch0=Z,nt=!0,K.taps=1+!!p);p&&(p=clearTimeout(p)),nt&&(K.taps<2&&(g=Z[0],p=setTimeout(function(){p=null},x)),Ch(this),K.start())}}function it(B,...Q){if(this.__zooming){var _=L(this,Q).event(B),H=B.changedTouches,K=H.length,nt,k,X,Z;for(ra(B),nt=0;nt<K;++nt)k=H[nt],X=zi(k,this),_.touch0&&_.touch0[2]===k.identifier?_.touch0[0]=X:_.touch1&&_.touch1[2]===k.identifier&&(_.touch1[0]=X);if(k=_.that.__zoom,_.touch1){var tt=_.touch0[0],ot=_.touch0[1],gt=_.touch1[0],dt=_.touch1[1],Pt=(Pt=gt[0]-tt[0])*Pt+(Pt=gt[1]-tt[1])*Pt,Dt=(Dt=dt[0]-ot[0])*Dt+(Dt=dt[1]-ot[1])*Dt;k=C(k,Math.sqrt(Pt/Dt)),X=[(tt[0]+gt[0])/2,(tt[1]+gt[1])/2],Z=[(ot[0]+dt[0])/2,(ot[1]+dt[1])/2]}else if(_.touch0)X=_.touch0[0],Z=_.touch0[1];else return;_.zoom("touch",e(E(k,X,Z),_.extent,a))}}function Y(B,...Q){if(this.__zooming){var _=L(this,Q).event(B),H=B.changedTouches,K=H.length,nt,k;for(Fm(B),y&&clearTimeout(y),y=setTimeout(function(){y=null},x),nt=0;nt<K;++nt)k=H[nt],_.touch0&&_.touch0[2]===k.identifier?delete _.touch0:_.touch1&&_.touch1[2]===k.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&(k=zi(k,this),Math.hypot(g[0]-k[0],g[1]-k[1])<A)){var X=vn(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return O.wheelDelta=function(B){return arguments.length?(i=typeof B=="function"?B:rh(+B),O):i},O.filter=function(B){return arguments.length?(n=typeof B=="function"?B:rh(!!B),O):n},O.touchable=function(B){return arguments.length?(s=typeof B=="function"?B:rh(!!B),O):s},O.extent=function(B){return arguments.length?(t=typeof B=="function"?B:rh([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),O):t},O.scaleExtent=function(B){return arguments.length?(l[0]=+B[0],l[1]=+B[1],O):[l[0],l[1]]},O.translateExtent=function(B){return arguments.length?(a[0][0]=+B[0][0],a[1][0]=+B[1][0],a[0][1]=+B[0][1],a[1][1]=+B[1][1],O):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},O.constrain=function(B){return arguments.length?(e=B,O):e},O.duration=function(B){return arguments.length?(u=+B,O):u},O.interpolate=function(B){return arguments.length?(h=B,O):h},O.on=function(){var B=f.on.apply(f,arguments);return B===f?O:B},O.clickDistance=function(B){return arguments.length?(w=(B=+B)*B,O):Math.sqrt(w)},O.tapDistance=function(B){return arguments.length?(A=+B,O):A},O}const Km=[{type:"root",label:"Root Element",color:"#e74c3c"},{type:"container",label:"Container (4+ children)",color:"#3498db"},{type:"element",label:"Element",color:"#2ecc71"},{type:"leaf",label:"Leaf (no children)",color:"#f39c12"}],UU=({data:n})=>{const t=ft.useRef(null),{nodes:e,links:i}=n;return ft.useEffect(()=>{if(!t.current||!e||e.length===0)return;const s=t.current.parentElement,l=s.clientWidth,a=s.clientHeight,u=vn(t.current).attr("width",l).attr("height",a).attr("viewBox",[0,0,l,a].join(" "));u.selectAll("*").remove();const h=Lk().domain(Km.map(C=>C.type)).range(Km.map(C=>C.color)),f=u.append("g"),p=Q7(e).force("link",$7(i).id(C=>C.id).distance(100)).force("charge",Z7().strength(-200)).force("center",w7(l/2,a/2)).force("collide",U7().radius(C=>{const E=C;return E.type==="root"?25:E.type==="container"?20:18})),g=f.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(i).join("line").attr("stroke-width",1.5),y=C=>{function E(L,z){L.active||C.alphaTarget(.3).restart(),z.fx=z.x,z.fy=z.y}function M(L,z){z.fx=L.x,z.fy=L.y}function D(L,z){L.active||C.alphaTarget(0),z.fx=null,z.fy=null}return LH().on("start",E).on("drag",M).on("end",D)},x=f.append("g").attr("class","nodes").selectAll("g").data(e).join("g").call(y(p));x.append("circle").attr("r",C=>C.type==="root"?20:C.type==="container"?15:C.type==="leaf"?10:12).attr("fill",C=>h(C.type)).attr("stroke","#fff").attr("stroke-width",2),x.append("text").attr("font-size","9px").attr("font-family","sans-serif").attr("text-anchor","middle").attr("fill","#333").style("pointer-events","none").each(function(C){const E=C.label.split(`
`),M=vn(this),D=1.2,L=`-${(E.length-1)/2*D}em`;E.forEach((z,$)=>{M.append("tspan").attr("x",0).attr("dy",$===0?L:`${D}em`).text(z)})});const w=zk().scaleExtent([.1,8]).on("zoom",C=>{f.attr("transform",C.transform)});u.call(w);const O=u.append("g").attr("class","legend").attr("transform","translate(20, 20)").selectAll(".legend-item").data(Km).join("g").attr("class","legend-item").attr("transform",(C,E)=>`translate(0, ${E*25})`);return O.append("circle").attr("r",8).attr("fill",C=>C.color),O.append("text").attr("x",15).attr("y",0).attr("dy",".35em").attr("font-size","12px").attr("font-family","sans-serif").text(C=>C.label),p.on("tick",()=>{g.attr("x1",C=>C.source.x).attr("y1",C=>C.source.y).attr("x2",C=>C.target.x).attr("y2",C=>C.target.y),x.attr("transform",C=>`translate(${C.x}, ${C.y})`)}),()=>{p.stop()}},[e,i]),mt.jsx("svg",{ref:t,className:"w-full h-full cursor-grab"})},jU=({data:n})=>{const t=ft.useRef(null),e=ft.useRef(null);return ft.useEffect(()=>{if(!t.current||!n)return;const i=t.current.parentElement,s=i.clientWidth||800,l=i.clientHeight||600,a=25,u=s/4,h=OU().nodeSize([a,u]),f=Gy(n);e.current=f,f.x0=0,f.y0=0;let p=0;f.descendants().forEach(O=>{O.id=++p,O._children=O.children,O.depth>0&&(O.children=null)});const g=vn(t.current).attr("width",s).attr("height",l).attr("viewBox",[-u/3,-(l/2)+a,s,l].join(" ")).style("font","12px sans-serif");g.selectAll("*").remove();const y=g.append("g").attr("fill","none").attr("stroke","#94a3b8").attr("stroke-opacity",.6).attr("stroke-width",1.5),x=g.append("g").attr("cursor","pointer").attr("pointer-events","all"),b=vn("body").append("div").attr("class","absolute p-2 text-sm bg-slate-800 text-white rounded2-md opacity-0 pointer-events-none transition-opacity").style("transform","translate(15px, -15px)");function w(O){const E=f.descendants().reverse(),M=f.links();h(f);let D=f,L=f;f.eachBefore(Y=>{Y.x<D.x&&(D=Y),Y.x>L.x&&(L=Y)});const z=g.transition().duration(250).attr("viewBox",[-u/3,D.x-a,s,l].join(" ")).tween("resize",window.ResizeObserver?null:()=>()=>g.dispatch("toggle")),$=x.selectAll("g").data(E,Y=>Y.id),et=$.enter().append("g").attr("transform",Y=>`translate(${O.y0},${O.x0})`).attr("fill-opacity",0).attr("stroke-opacity",0).on("click",(Y,B)=>{(B._children||B.children)&&(B.children=B.children?null:B._children,w(B))}).on("mouseover",(Y,B)=>{b.transition().duration(200).style("opacity",.9);const Q=Object.entries(B.data.attributes).map(([_,H])=>`<li><strong>${_}:</strong> ${H}</li>`).join("");b.html(`
            <div class="font-bold text-base">${B.data.name}</div>
            ${Q.length>0?`<ul class="list-disc list-inside mt-1">${Q}</ul>`:""}
          `)}).on("mousemove",Y=>{b.style("left",Y.pageX+"px").style("top",Y.pageY+"px")}).on("mouseout",()=>{b.transition().duration(500).style("opacity",0)});et.append("circle").attr("r",Y=>Y._children||Y.children?8:6).attr("stroke-width",2).attr("fill",Y=>Y._children?"#1e293b":Y.children?"#ffffff":"#38bdf8").attr("stroke",Y=>Y._children?"#1e293b":(Y.children,"#38bdf8")),et.append("text").attr("class","expand-indicator").attr("text-anchor","middle").attr("dy","0.35em").attr("font-size","10px").attr("font-weight","bold").attr("fill",Y=>Y._children?"#ffffff":Y.children?"#38bdf8":"transparent").text(Y=>Y._children?"+":Y.children?"":""),et.append("text").attr("class","node-label").attr("dy","0.31em").attr("x",Y=>Y.children||Y._children?-15:15).attr("text-anchor",Y=>Y.children||Y._children?"end":"start").text(Y=>Y.data.name).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",3).attr("stroke","white");const st=$.merge(et).transition(z).attr("transform",Y=>`translate(${Y.y},${Y.x})`).attr("fill-opacity",1).attr("stroke-opacity",1);st.select("circle").attr("r",Y=>Y._children||Y.children?8:6).attr("fill",Y=>Y._children?"#1e293b":Y.children?"#ffffff":"#38bdf8").attr("stroke",Y=>Y._children?"#1e293b":(Y.children,"#38bdf8")),st.select(".expand-indicator").attr("fill",Y=>Y._children?"#ffffff":Y.children?"#38bdf8":"transparent").text(Y=>Y._children?"+":Y.children?"":""),$.exit().transition(z).remove().attr("transform",Y=>`translate(${O.y},${O.x})`).attr("fill-opacity",0).attr("stroke-opacity",0);const rt=y.selectAll("path").data(M,Y=>Y.target.id),it=rt.enter().append("path").attr("d",Y=>{const B={x:O.x0,y:O.y0};return Gm()({source:B,target:B})});rt.merge(it).transition(z).attr("d",Gm().x(Y=>Y.y).y(Y=>Y.x)),rt.exit().transition(z).remove().attr("d",Y=>{const B={x:O.x,y:O.y};return Gm()({source:B,target:B})}),f.eachBefore(Y=>{Y.x0=Y.x,Y.y0=Y.y})}w(f);const A=zk().scaleExtent([.1,3]).on("zoom",O=>{x.attr("transform",O.transform),y.attr("transform",O.transform)});return g.call(A).call(A.transform,Fy.translate(u/3,a)),()=>{b.remove()}},[n]),mt.jsx("svg",{ref:t,className:"w-full h-full cursor-grab"})},$U=n=>{const t={};for(let e=0;e<n.attributes.length;e++){const i=n.attributes[e];t[i.name]=i.value}return t},XU=n=>{try{const e=new DOMParser().parseFromString(n,"application/xml");if(e.getElementsByTagName("parsererror").length)throw console.error("Error parsing XML"),new Error("Invalid XML format");const i=e.documentElement;if(!i)return null;let s=0;const l=[],a=[],u=(p,g,y)=>{var L;const x=`node-${s++}`,b=$U(p),w=Array.from(p.children);let A="element";y===0?A="root":w.length===0?A="leaf":w.length>3&&(A="container");let O=p.tagName;const C=Object.entries(b).map(([z,$])=>`${z}="${$}"`);C.length>0&&(O+=`
[${C.join(", ")}]`);const E=Array.from(p.childNodes).filter(z=>z.nodeType===Node.TEXT_NODE).map(z=>{var $;return($=z.textContent)==null?void 0:$.trim()}).filter(z=>z&&z.length>0).join(" ");if(E&&w.length===0){const z=E.length>50?E.substring(0,47)+"...":E;O+=`
"${z}"`}const M={id:x,label:O,tagName:p.tagName,type:A,level:y,attributes:b};l.push(M),g&&a.push({source:g,target:x});const D={name:p.tagName,attributes:b,children:w.map(z=>u(z,x,y+1))};return E&&w.length===0&&((L=D.children)==null||L.push({name:`"${E}"`,attributes:{},children:[]})),D};return{treeData:u(i,null,0),graphData:{nodes:l,links:a}}}catch(t){return console.error("XML parsing failed:",t),null}},R2=`
<root name="My Project">
  <folder name="src">
    <file name="index.js" size="1.2KB" />
    <folder name="components">
      <file name="Button.tsx" />
      <file name="Modal.tsx" />
    </folder>
    <folder name="utils">
      <file name="api.js" />
    </folder>
  </folder>
  <folder name="public">
    <file name="index.html" />
    <file name="favicon.ico" />
  </folder>
  <file name="package.json" />
</root>
`.trim();function YU(){const[n,t]=ft.useState(R2),[e,i]=ft.useState("graph"),[s,l]=ft.useState(null),a=ft.useMemo(()=>{try{const f=XU(n);return f?(l(null),f):(l("Failed to parse XML. Please check the format."),null)}catch{return l("An unexpected error occurred during XML parsing."),null}},[n]),u=f=>{t(f)},h=ft.useMemo(()=>{if(!a)return null;const{nodes:f,links:p}=a.graphData;return{totalNodes:f.length,totalEdges:p.length,maxDepth:Math.max(0,...f.map(g=>g.level)),leafNodes:f.filter(g=>!p.some(y=>y.source===g.id)).length}},[a]);return mt.jsx("div",{className:"flex flex-col h-screen bg-slate-50 font-sans text-slate-800",children:mt.jsxs("main",{className:"flex-grow flex p-4 gap-4 overflow-hidden",children:[mt.jsxs("div",{className:"w-1/3 flex flex-col gap-4 min-w-[350px]",children:[mt.jsx("div",{className:"flex-grow flex flex-col min-h-0",children:mt.jsx(r8,{onVisualize:u,initialValue:R2})}),h&&mt.jsxs("div",{className:"bg-white rounded2-xl shadow2-sm border border-slate-200 p-4",children:[mt.jsx("h2",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Statistics"}),mt.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[mt.jsxs("div",{className:"rounded2-lg p-3",children:[mt.jsx("p",{className:"text-sm text-slate-500",children:"Total Nodes"}),mt.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:h.totalNodes})]}),mt.jsxs("div",{className:"rounded2-lg p-3",children:[mt.jsx("p",{className:"text-sm text-slate-500",children:"Total Edges"}),mt.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:h.totalEdges})]}),mt.jsxs("div",{className:"rounded2-lg p-3",children:[mt.jsx("p",{className:"text-sm text-slate-500",children:"Max Depth"}),mt.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:h.maxDepth})]}),mt.jsxs("div",{className:"rounded2-lg p-3",children:[mt.jsx("p",{className:"text-sm text-slate-500",children:"Leaf Nodes"}),mt.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:h.leafNodes})]})]})]})]}),mt.jsxs("div",{className:"w-2/3 flex flex-col bg-white rounded2-xl shadow2-sm border border-slate-200 p-4",children:[mt.jsx(XP,{activeTab:e,setActiveTab:i}),mt.jsxs("div",{className:"flex-grow relative bg-slate-100/70 rounded2-lg overflow-hidden",children:[s&&mt.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-2 text-red-600 p-4",children:[mt.jsx(RR,{className:"h-8 w-8"}),mt.jsx("p",{className:"font-medium",children:s})]}),!s&&a&&mt.jsxs(mt.Fragment,{children:[e==="graph"&&mt.jsx(UU,{data:a.graphData}),e==="tree"&&mt.jsx(jU,{data:a.treeData})]}),!s&&!a&&mt.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-2 text-slate-500",children:[mt.jsx(SR,{className:"h-8 w-8"}),mt.jsx("p",{children:"Enter XML data and click Visualize to begin."})]})]})]})]})})}pR.createRoot(document.getElementById("root")).render(mt.jsx(ft.StrictMode,{children:mt.jsx(YU,{})}));
